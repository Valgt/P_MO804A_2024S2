{
    "uid": "855-F",
    "url": "https://codeforces.com/contest/855/problem/F",
    "tags": [
        "binary search",
        " data structures"
    ],
    "title": "855-F",
    "statement": "F. Naginitime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputNagini, being a horcrux You-know-who created with the murder of Bertha Jorkins, has accumulated its army of snakes and is launching an attack on Hogwarts school.Hogwarts' entrance can be imagined as a straight line (x-axis) from1to105. Nagini is launching various snakes at the Hogwarts entrance. Each snake lands parallel to the entrance, covering a segment at a distancekfromx=ltox=r. Formally, each snake can be imagined as being a line segment between points(l,k)and(r,k). Note thatkcan be both positive and negative, but not0.Let, at somex-coordinatex=i, there be snakes at point(i,y1)and point(i,y2), such thaty1> 0andy2< 0. Then, if for any point(i,y3)containing a snake such thaty3> 0,y1≤y3holds and for any point(i,y4)containing a snake such thaty4< 0,|y2| ≤ |y4|holds, then the danger value at coordinatex=iisy1+ |y2|. If no suchy1andy2exist, danger value is0.Harry wants to calculate the danger value of various segments of the Hogwarts entrance. Danger value for a segment[l,r)of the entrance can be calculated by taking the sum of danger values for each integerx-coordinate present in the segment.Formally, you have to implement two types of queries:1 l r k: a snake is added parallel to entrance fromx=ltox=rat y-coordinatey=k(linclusive,rexclusive).2 l r: you have to calculate the danger value of segmentltor(linclusive,rexclusive).InputFirst line of input contains a single integerq(1 ≤q≤ 5·104) denoting the number of queries.Nextqlines each describe a query. Each query description first contains the query typetypei(1 ≤typei≤ 2). This is followed by further description of the query. In case of the type being1, it is followed by integersli,riandki(,- 109≤ki≤ 109,k≠ 0). Otherwise, it just contains two integers,liandri(1 ≤li<ri≤ 105).OutputOutput the answer for each query of type 2 in a separate line.ExamplesInput31 1 10 101 2 4 -72 1 10Output34Input71 2 3 51 1 10 101 4 5 -52 4 81 1 10 -102 4 82 1 10Output1575170NoteIn the first sample case, the danger value forx-coordinates1is0as there is noy2satisfying the above condition forx= 1.Danger values forx-coordinates2and3is10 + | - 7| = 17.Danger values forx-coordinates4to9is again0as there is noy2satisfying the above condition for these coordinates.Thus, total danger value is17 + 17 = 34.",
    "source": "CF",
    "vjudge": false
}