{
    "uid": "863-D",
    "url": "https://codeforces.com/contest/863/problem/D",
    "tags": [
        "data structures",
        " implementation"
    ],
    "title": "863-D",
    "statement": "D. Yet Another Array Queries Problemtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an arrayaof sizen, andqqueries to it. There are queries of two types:1liri— perform a cyclic shift of the segment[li,ri]to the right. That is, for everyxsuch thatli≤x<rinew value ofax+ 1becomes equal to old value ofax, and new value ofalibecomes equal to old value ofari;2liri— reverse the segment[li,ri].There aremimportant indices in the arrayb1,b2, ...,bm. For eachisuch that1 ≤i≤myou have to output the number that will have indexbiin the array after all queries are performed.InputThe first line contains three integer numbersn,qandm(1 ≤n,q≤ 2·105,1 ≤m≤ 100).The second line containsninteger numbersa1,a2, ...,an(1 ≤ai≤ 109).Thenqlines follow.i-th of them contains three integer numbersti,li,ri, wheretiis the type ofi-th query, and[li,ri]is the segment where this query is performed (1 ≤ti≤ 2,1 ≤li≤ri≤n).The last line containsminteger numbersb1,b2, ...,bm(1 ≤bi≤n) — important indices of the array.OutputPrintmnumbers,i-th of which is equal to the number at indexbiafter all queries are done.ExampleInput6 3 51 2 3 4 5 62 1 32 3 61 1 62 2 1 5 3Output3 3 1 5 2",
    "source": "CF",
    "vjudge": false
}