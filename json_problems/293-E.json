{
    "uid": "293-E",
    "url": "https://codeforces.com/contest/293/problem/E",
    "tags": [
        "data structures",
        " divide and conquer",
        " trees"
    ],
    "title": "293-E",
    "statement": "E. Close Verticestime limit per test5 secondsmemory limit per test256 megabytesinputstdinoutputstdoutYou've got a weighted tree, consisting ofnvertices. Each edge has a non-negative weight. The length of the path between any two vertices of the tree is the number of edges in the path. The weight of the path is the total weight of all edges it contains.Two vertices are close if there exists a path of length at mostlbetween them and a path of weight at mostwbetween them. Count the number of pairs of verticesv,u(v<u), such that verticesvanduare close.InputThe first line contains three integersn,landw(1 ≤n≤ 105, 1 ≤l≤n, 0 ≤w≤ 109). The nextn- 1lines contain the descriptions of the tree edges. Thei-th line contains two integerspi,wi(1 ≤pi< (i+ 1), 0 ≤wi≤ 104), that mean that thei-th edge connects vertex(i+ 1)andpiand has weightwi.Consider the tree vertices indexed from 1 tonin some way.OutputPrint a single integer — the number of close pairs.Please, do not use the%lldspecifier to read or write 64-bit integers in С++. It is preferred to use thecin,coutstreams or the%I64dspecifier.ExamplesInput4 4 61 31 41 3Output4Input6 2 171 32 52 131 65 9Output9",
    "source": "CF",
    "vjudge": false
}