{
    "uid": "847-L",
    "url": "https://codeforces.com/contest/847/problem/L",
    "tags": [
        "constructive algorithms",
        " dfs and similar",
        " graphs",
        " hashing",
        " trees"
    ],
    "title": "847-L",
    "statement": "L. Berland SU Computer Networktime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputIn the computer network of the Berland State University there arenrouters numbered from1ton. Some pairs of routers are connected by patch cords. Information can be transmitted over patch cords in both direction. The network is arranged in such a way that communication between any two routers (directly or through other routers) is possible. There are no cycles in the network, so there is only one path between each pair of routers over patch cords.Unfortunately, the exact topology of the network was lost by administrators. In order to restore it, the following auxiliary information was collected.For each patch cordp, directly connected to the routeri, list of routers located behind the patch cordprelativelyiis known. In other words, all routers path from which to the routerigoes throughpare known. So for each routerithere arekilists, wherekiis the number of patch cords connected toi.For example, let the network consists of three routers connected in chain1 - 2 - 3. Then:the router1: for the single patch cord connected to the first router there is a single list containing two routers:2and3;the router2: for each of the patch cords connected to the second router there is a list: one list contains the router1and the other — the router3;the router3: for the single patch cord connected to the third router there is a single list containing two routers:1and2.Your task is to help administrators to restore the network topology, i. e. to identify all pairs of routers directly connected by a patch cord.InputThe first line contains a single integern(2 ≤n≤ 1000) — the number of routers in the network.Thei-th of the followingnlines contains a description of the lists for the routeri.The description of each list begins with the number of routers in it. Then the symbol ':' follows, and after that the numbers of routers from the list are given. This numbers are separated by comma. Lists are separated by symbol '-'.It is guaranteed, that for each routerithe total number of routers in its lists equals ton- 1and all the numbers in lists of each router are distinct. For each routerilists do not contain the numberi.OutputPrint-1if no solution exists.In the other case print to the first linen- 1— the total number of patch cords in the network. In each of the followingn- 1lines print two integers — the routers which are directly connected by a patch cord. Information about each patch cord must be printed exactly once.Patch cords and routers can be printed in arbitrary order.ExamplesInput32:3,21:1-1:32:1,2Output22 12 3Input54:2,5,3,41:4-1:1-2:5,34:4,5,2,14:2,1,3,51:3-3:4,2,1Output42 12 45 23 5Input31:2-1:31:1-1:31:1-1:2Output-1NoteThe first example is analyzed in the statement.The answer to the second example is shown on the picture.The first router has one list, which contains all other routers. The second router has three lists: the first — the single router4, the second — the single router1, the third — two routers3and5. The third router has one list, which contains all other routers. The fourth router also has one list, which contains all other routers. The fifth router has two lists: the first — the single router3, the second — three routers1,2and4.",
    "source": "CF",
    "vjudge": false
}