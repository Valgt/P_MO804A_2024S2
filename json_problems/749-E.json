{
    "uid": "749-E",
    "url": "https://codeforces.com/contest/749/problem/E",
    "tags": [
        "data structures",
        " probabilities"
    ],
    "title": "749-E",
    "statement": "E. Inversions After Shuffletime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a permutation of integers from1ton. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:Pick a random segment (continuous subsequence) fromltor. Allsegments are equiprobable.Letk=r-l+ 1, i.e. the length of the chosen segment. Pick a random permutation of integers from1tok,p1,p2, ...,pk. Allk!permutation are equiprobable.This permutation is applied to elements of the chosen segment, i.e. permutationa1,a2, ...,al- 1,al,al+ 1, ...,ar- 1,ar,ar+ 1, ...,anis transformed toa1,a2, ...,al- 1,al- 1 +p1,al- 1 +p2, ...,al- 1 +pk- 1,al- 1 +pk,ar+ 1, ...,an.Inversionif a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs(i,j)such thati<jandai>aj. Find the expected number of inversions after we apply exactly one operation mentioned above.InputThe first line contains a single integern(1 ≤n≤ 100 000) — the length of the permutation.The second line containsndistinct integers from1ton— elements of the permutation.OutputPrint one real value — the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed10- 9.Namely: let's assume that your answer isa, and the answer of the jury isb. The checker program will consider your answer correct, if.ExampleInput32 3 1Output1.916666666666666666666666666667",
    "source": "CF",
    "vjudge": false
}