{
    "uid": "467-E",
    "url": "https://codeforces.com/contest/467/problem/E",
    "tags": [
        "data structures",
        " dp",
        " greedy"
    ],
    "title": "467-E",
    "statement": "E. Alex and Complicated Tasktime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutAfter you have read all the problems, probably, you think Alex is genius person. That's true! One day he came up with the following task.Given a sequence of integer numbersa1,a2, ...,an. You are to find a longest sequenceb1,b2, ...,b4m, that satisfies the following conditions:b4k+ 1=b4k+ 3for all valid integerk;b4k+ 2=b4k+ 4for all valid integerk;sequencebis subsequence ofa(not necessarily contiguous subsequence).And finally... Alex had given this complicated task to George, and George gave it to you. Help George to cope with the task.InputThe first line contains a single integern(1 ≤n≤ 5·105). The next line containsnintegersa1,a2, ...,an(1 ≤ai≤ 109).OutputIn the first line print a single integer4m— the maximal possible length of required sequenceb. In the second line print4mintegersb1,b2, ...,b4m, that is required sequence.If there are multiple optimal answers you may print any of them.ExamplesInput43 5 3 5Output43 5 3 5Input1035 1 2 1 2 35 100 200 100 200Output81 2 1 2 100 200 100 200",
    "source": "CF",
    "vjudge": false
}