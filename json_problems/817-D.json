{
    "uid": "817-D",
    "url": "https://codeforces.com/contest/817/problem/D",
    "tags": [
        "data structures",
        " divide and conquer",
        " dsu",
        " sortings"
    ],
    "title": "817-D",
    "statement": "D. Imbalanced Arraytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an arrayaconsisting ofnelements. Theimbalance valueof some subsegment of this array is the difference between the maximum and minimum element from this segment. Theimbalance valueof the array is the sum ofimbalance valuesof all subsegments of this array.For example, theimbalance valueof array[1, 4, 1]is9, because there are6different subsegments of this array:[1](from index1to index1),imbalance valueis0;[1, 4](from index1to index2),imbalance valueis3;[1, 4, 1](from index1to index3),imbalance valueis3;[4](from index2to index2),imbalance valueis0;[4, 1](from index2to index3),imbalance valueis3;[1](from index3to index3),imbalance valueis0;You have to determine theimbalance valueof the arraya.InputThe first line contains one integern(1 ≤n≤ 106) — size of the arraya.The second line containsnintegersa1,a2...an(1 ≤ai≤ 106) — elements of the array.OutputPrint one integer — theimbalance valueofa.ExampleInput31 4 1Output9",
    "source": "CF",
    "vjudge": false
}