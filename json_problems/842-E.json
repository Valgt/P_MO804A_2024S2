{
    "uid": "842-E",
    "url": "https://codeforces.com/contest/842/problem/E",
    "tags": [
        "binary search",
        " dfs and similar",
        " divide and conquer",
        " graphs",
        " trees"
    ],
    "title": "842-E",
    "statement": "E. Nikita and gametime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputNikita plays a new computer game. There aremlevels in this game. In the beginning of each level a new class appears in the game; this class is a child-class of the classyi(andyiis called parent-class for this new class). Thus, the classes form a tree. Initially there is only one class with index1.Changing the class to its neighbour (child-class or parent-class) in the tree costs1coin. You can not change the class back. The cost of changing the classato the classbis equal to the total cost of class changes on the path fromatobin the class tree.Suppose that ati-th level the maximum cost of changing one class to another isx. For each level output the number of classes such that for each of these classes there exists some other classy, and the distance from this class toyis exactlyx.InputFirst line contains one integer numberm— number of queries (1 ≤m≤ 3·105).Nextmlines contain description of queries.i-th line (1 ≤i≤m) describes thei-th level and contains an integeryi— the index of the parent-class of class with indexi+ 1(1 ≤yi≤i).OutputSuppose that ati-th level the maximum cost of changing one class to another isx. For each level output the number of classes such that for each of these classes there exists some other classy, and the distance from this class toyis exactlyx.ExamplesInput41121Output2223Input41123Output2222",
    "source": "CF",
    "vjudge": false
}