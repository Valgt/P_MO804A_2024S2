{
    "uid": "818-G",
    "url": "https://codeforces.com/contest/818/problem/G",
    "tags": [
        "flows",
        " graphs"
    ],
    "title": "818-G",
    "statement": "G. Four Melodiestime limit per test5 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputAuthor note: I think some of you might remember the problem \"Two Melodies\" from Eductational Codeforces Round 22. Now it's time to make it a bit more difficult!Alice is a composer, and recently she had recorded two tracks that became very popular. Now she has got a lot of fans who are waiting for new tracks.This time Alice wants to form four melodies for her tracks.Alice has a sheet withnnotes written on it. She wants to take four such non-empty non-intersecting subsequences that all of them form amelodyand sum of their lengths is maximal.Subsequence is a sequence that can be derived from another sequence by deleting some elements without changing the order of the remaining elements.Subsequence forms a melody when each two adjacent notes either differ by1or are congruent modulo7.You should write a program which will calculate maximum sum of lengths of such four non-empty non-intersecting subsequences that all of them form a melody.InputThe first line contains one integer numbern(4 ≤n≤ 3000).The second line containsninteger numbersa1,a2, ...,an(1 ≤ai≤ 105) — notes written on a sheet.OutputPrint maximum sum of lengths of such four non-empty non-intersecting subsequences that all of them form a melody.ExamplesInput51 3 5 7 9Output4Input51 3 5 7 2Output5NoteIn the first example it is possible to compose4melodies by choosing any4notes (and each melody will consist of only one note).In the second example it is possible to compose one melody with2notes —{1, 2}. Remaining notes are used in other three melodies (one note per each melody).",
    "source": "CF",
    "vjudge": false
}