{
    "uid": "633-H",
    "url": "https://codeforces.com/contest/633/problem/H",
    "tags": [
        "data structures",
        " implementation"
    ],
    "title": "633-H",
    "statement": "H. Fibonacci-ish IItime limit per test5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYash is finally tired of computing the length of the longest Fibonacci-ish sequence. He now plays around with more complex things such as Fibonacci-ish potentials.Fibonacci-ish potential of an arrayaiis computed as follows:Remove all elementsjif there existsi<jsuch thatai=aj.Sort the remaining elements in ascending order, i.e.a1<a2< ... <an.Compute the potential asP(a) =a1·F1+a2·F2+ ... +an·Fn, whereFiis thei-th Fibonacci number (see notes for clarification).You are given an arrayaiof lengthnandqranges fromljtorj. For each rangejyou have to compute the Fibonacci-ish potential of the arraybi, composed using all elements ofaifromljtorjinclusive. Find these potentials modulom.InputThe first line of the input contains integers ofnandm(1 ≤n,m≤ 30 000) — the length of the initial array and the modulo, respectively.The next line containsnintegersai(0 ≤ai≤ 109) — elements of the array.Then follow the number of rangesq(1 ≤q≤ 30 000).Lastqlines contain pairs of indicesliandri(1 ≤li≤ri≤n) — ranges to compute Fibonacci-ish potentials.OutputPrintqlines,i-th of them must contain the Fibonacci-ish potential of thei-th range modulom.ExampleInput5 102 1 2 1 222 44 5Output33NoteFor the purpose of this problem define Fibonacci numbers as follows:F1=F2= 1.Fn=Fn- 1+Fn- 2for eachn> 2.In the first query, the subarray [1,2,1] can be formed using the minimal set {1,2}. Thus, the potential of this subarray is 1*1+2*1=3.",
    "source": "CF",
    "vjudge": false
}