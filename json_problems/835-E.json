{
    "uid": "835-E",
    "url": "https://codeforces.com/contest/835/problem/E",
    "tags": [
        "binary search",
        " constructive algorithms",
        " interactive"
    ],
    "title": "835-E",
    "statement": "E. The penguin's gametime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputPay attention: this problem is interactive.Penguin Xoriy came up with a new game recently. He hasnicicles numbered from1ton. Each icicle has a temperature — an integer from1to109.Exactly twoof these icicles are special: their temperature isy, while a temperature of all the others isx≠y. You have to find those special icicles. You can choose anon-emptysubset of icicles and ask the penguin what is the bitwise exclusive OR (XOR) of the temperatures of the icicles in this subset. Note that you can't ask more than19questions.You are to find the special icicles.InputThe first line contains three integersn,x,y(2 ≤n≤ 1000,1 ≤x,y≤ 109,x≠y) — the number of icicles, the temperature of non-special icicles and the temperature of the special icicles.OutputTo give your answer to the penguin you have to print character \"!\" (without quotes), then print two integersp1,p2(p1<p2) — the indexes of the special iciclesin ascending order. Note that \"!\" andp1should be separated by a space; the indexes should be separated by a space too. After you gave the answer your program should terminate immediately.InteractionTo ask a question print character \"?\" (without quotes), an integerc(1 ≤c≤n), andcdistinct integersp1,p2, ...,pc(1 ≤pi≤n) — the indexes of icicles that you want to know about. Note that \"?\" andcshould be separated by a space; the indexes should be separated by a space too.After you asked the question, read a single integer — the answer.Note that you can't ask more than19questions. If you ask more than 19 questions or at least one incorrect question, your solution will get \"Wrong answer\".If at some moment your program reads- 1as an answer, it should immediately exit (for example, by calling exit(0)). You will get \"Wrong answer\" in this case, it means that you asked more than 19 questions, or asked an invalid question. If you ignore this, you can get other verdicts since your program will continue to read from a closed stream.Your solution will get \"Idleness Limit Exceeded\", if you don't print anything or forget to flush the output, including for the final answer .To flush you can use (just after printing):fflush(stdout)in C++;System.out.flush()in Java;stdout.flush()in Python;flush(output)in Pascal;For other languages see the documentation.HackingFor hacking use the following format:nxyp1p2Here1 ≤p1<p2≤nare the indexes of the special icicles.Contestant programs will not be able to see this input.ExampleInput4 2 1211Output? 3 1 2 3? 1 1? 1 3! 1 3NoteThe answer for the first question is.The answer for the second and the third questions is 1, therefore, special icicles are indexes 1 and 3.You can read more about bitwiseXORoperation here:https://en.wikipedia.org/wiki/Bitwise_operation#XOR.",
    "source": "CF",
    "vjudge": false
}