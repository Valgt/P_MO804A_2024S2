{
    "uid": "367-D",
    "url": "https://codeforces.com/contest/367/problem/D",
    "tags": [
        "bitmasks",
        " dfs and similar"
    ],
    "title": "367-D",
    "statement": "D. Sereja and Setstime limit per test1 secondmemory limit per test256 megabytesinputstdinoutputstdoutSereja hasmnon-empty sets of integersA1,A2, ...,Am. What a lucky coincidence! The given sets are a partition of the set of all integers from 1 ton. In other words, for any integerv(1 ≤v≤n)there is exactly one setAtsuch that. Also Sereja has integerd.Sereja decided to choose some sets from the sets he has. Let's suppose thati1,i2, ...,ik(1 ≤i1<i2< ... <ik≤m)are indexes of the chosen sets. Then let's define an array of integersb, sorted in ascending order, as a union of the chosen sets, that is,. We'll represent the element with numberjin this array (in ascending order) asbj. Sereja considers his choice of setscorrect, if the following conditions are met:b1≤d;bi+ 1-bi≤d(1 ≤i< |b|);n-d+ 1 ≤b|b|.Sereja wants to know what is the minimum number of sets(k)that he can choose so that his choice will be correct. Help him with that.InputThe first line contains integersn,m,d(1 ≤d≤n≤ 105, 1 ≤m≤ 20). The nextmlines contain sets. The first number in thei-th line issi(1 ≤si≤n). This number denotes the size of thei-th set. Then the line containssidistinct integers from 1 ton— setAi.It is guaranteed that the sets form partition of all integers from 1 ton.OutputIn a single line print the answer to the problem — the minimum valuekat the right choice.ExamplesInput3 2 21 22 1 3Output1Input5 1 15 4 5 3 2 1Output1Input7 3 14 1 3 5 72 2 61 4Output3",
    "source": "CF",
    "vjudge": false
}