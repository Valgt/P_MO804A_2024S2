{"uid": "372-B", "url": "https://codeforces.com/contest/372/problem/B", "tags": ["brute force", " divide and conquer", " dp"], "title": "372-B", "statement": "B. Counting Rectangles is Funtime limit per test4 secondsmemory limit per test256 megabytesinputstdinoutputstdoutThere is ann×mrectangular grid, each cell of the grid contains a single integer: zero or one. Let's call the cell on thei-th row and thej-th column as(i,j).Let's define a \"rectangle\" as four integersa,b,c,d(1 ≤a≤c≤n; 1 ≤b≤d≤m). Rectangle denotes a set of cells of the grid{(x,y) :a≤x≤c,b≤y≤d}. Let's define a \"good rectangle\" as a rectangle that includes only the cells with zeros.You should answer the followingqqueries: calculate the number of good rectangles all of which cells are in the given rectangle.InputThere are three integers in the first line:n,mandq(1 ≤n,m≤ 40, 1 ≤q≤ 3·105). Each of the nextnlines containsmcharacters — the grid. Consider grid rows are numbered from top to bottom, and grid columns are numbered from left to right. Both columns and rows are numbered starting from 1.Each of the nextqlines contains a query — four integers that describe the current rectangle,a,b,c,d(1 ≤a≤c≤n; 1 ≤b≤d≤m).OutputFor each query output an answer — a single integer in a separate line.ExamplesInput5 5 500101000000000101000000011 2 2 44 5 4 51 2 5 22 2 4 54 2 5 3Output1017345Input4 7 500001000000010001100000000001 7 2 73 1 3 12 3 4 51 2 2 72 2 4 7Output31162752NoteFor the first example, there is a5 × 5rectangular grid, and the first, the second, and the third queries are represented in the following image.For the first query, there are10good rectangles, five1 × 1, two2 × 1, two1 × 2, and one1 × 3.For the second query, there is only one1 × 1good rectangle.For the third query, there are7good rectangles, four1 × 1, two2 × 1, and one3 × 1.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "007c44b8", "template_md5": "35d339e4", "result": "You are given an $n \\times m$ grid of 0s and 1s.  A \"rectangle\" is defined by four coordinates $(a, b), (c, d)$ where $1 \\le a \\le c \\le n$ and $1 \\le b \\le d \\le m$. A \"good rectangle\" is a rectangle that contains only 0s.\n\nYou are given $q$ queries, each specifying a rectangle $(a, b), (c, d)$. For each query, count the number of good rectangles that are entirely contained within the given rectangle."}, {"prompt_md5": "1a6e0052", "template_md5": "465699a0", "result": "You are given a grid of 0s and 1s.  For each query, you are given a rectangle within the grid. Count the number of smaller rectangles entirely within the given rectangle that contain only 0s."}]}