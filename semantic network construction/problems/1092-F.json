{"uid": "1092-F", "url": "https://codeforces.com/contest/1092/problem/F", "tags": ["dfs and similar", " dp", " trees"], "title": "1092-F", "statement": "F. Tree with Maximum Costtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a tree consisting exactly of $$$n$$$ vertices. Tree is a connected undirected graph with $$$n-1$$$ edges. Each vertex $$$v$$$ of this tree has a value $$$a_v$$$ assigned to it.Let $$$dist(x, y)$$$ be the distance between the vertices $$$x$$$ and $$$y$$$. The distance between the vertices is the number of edges on the simple path between them.Let's define the cost of the tree as the following value: firstly, let's fix some vertex of the tree. Let it be $$$v$$$. Then the cost of the tree is $$$\\\\sum\\\\limits_{i = 1}^{n} dist(i, v) \\\\cdot a_i$$$.Your task is to calculate themaximum possible costof the tree if you can choose $$$v$$$ arbitrarily.InputThe first line contains one integer $$$n$$$, the number of vertices in the tree ($$$1 \\\\le n \\\\le 2 \\\\cdot 10^5$$$).The second line of the input contains $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$1 \\\\le a_i \\\\le 2 \\\\cdot 10^5$$$), where $$$a_i$$$ is the value of the vertex $$$i$$$.Each of the next $$$n - 1$$$ lines describes an edge of the tree. Edge $$$i$$$ is denoted by two integers $$$u_i$$$ and $$$v_i$$$, the labels of vertices it connects ($$$1 \\\\le u_i, v_i \\\\le n$$$, $$$u_i \\\\ne v_i$$$).It is guaranteed that the given edges form a tree.OutputPrint one integer — themaximum possible costof the tree if you can choose any vertex as $$$v$$$.ExamplesInput8 9 4 1 7 10 1 6 5 1 2 2 3 1 4 1 5 5 6 5 7 5 8Output121Input1 1337Output0NotePicture corresponding to the first example:You can choose the vertex $$$3$$$ as a root, then the answer will be $$$2 \\\\cdot 9 + 1 \\\\cdot 4 + 0 \\\\cdot 1 + 3 \\\\cdot 7 + 3 \\\\cdot 10 + 4 \\\\cdot 1 + 4 \\\\cdot 6 + 4 \\\\cdot 5 = 18 + 4 + 0 + 21 + 30 + 4 + 24 + 20 = 121$$$.In the second example tree consists only of one vertex so the answer is always $$$0$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "65dccbd2", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices. Each vertex has a value $a_i$ assigned to it. The distance between two vertices is the number of edges between them.\n\nThe cost of the tree is calculated as follows:\n\n* Choose any vertex as the root.\n* For each vertex $i$, multiply its distance from the root by its value $a_i$.\n* Sum up all these products.\n\nFind the maximum possible cost of the tree. \n\n\nInput:\n\n* The first line contains an integer $n$ (the number of vertices).\n* The second line contains $n$ integers $a_1, a_2, ..., a_n$ (the values of the vertices).\n* Each of the next $n-1$ lines describes an edge of the tree with two integers $u_i$ and $v_i$ (the vertices connected by the edge).\n\nOutput:\n\n* Print one integer — the maximum possible cost of the tree."}, {"prompt_md5": "6c17c83f", "template_md5": "465699a0", "result": "You are given a tree-shaped network with numbered nodes. Each node has a value.  Find the maximum sum of products where each product is the distance from a chosen node to another node multiplied by that node's value.  The distance between nodes is the number of connections between them."}]}