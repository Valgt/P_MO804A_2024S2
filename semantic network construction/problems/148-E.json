{"uid": "148-E", "url": "https://codeforces.com/contest/148/problem/E", "tags": ["dp"], "title": "148-E", "statement": "E. Porcelaintime limit per test1 secondmemory limit per test256 megabytesinputstdinoutputstdoutDuring her tantrums the princess usually smashes some collectable porcelain. Every furious shriek is accompanied with one item smashed.The collection of porcelain is arranged neatly onnshelves. Within each shelf the items are placed in one row, so that one can access only the outermost items — the leftmost or the rightmost item, not the ones in the middle of the shelf. Once an item is taken, the next item on that side of the shelf can be accessed (see example). Once an item is taken, it can't be returned to the shelves.You are given the values of all items. Your task is to find the maximal damage the princess' tantrum ofmshrieks can inflict on the collection of porcelain.InputThe first line of input data contains two integersn(1 ≤n≤ 100) andm(1 ≤m≤ 10000). The nextnlines contain the values of the items on the shelves: the first number gives the number of items on this shelf (an integer between1and100, inclusive), followed by the values of the items (integers between1and100, inclusive), in the order in which they appear on the shelf (the first number corresponds to the leftmost item, the last one — to the rightmost one). The total number of items is guaranteed to be at leastm.OutputOutput the maximal total value of a tantrum ofmshrieks.ExamplesInput2 33 3 7 23 4 1 5Output15Input1 34 4 3 1 2Output9NoteIn the first case there are two shelves, each with three items. To maximize the total value of the items chosen, one can take two items from the left side of the first shelf and one item from the right side of the second shelf.In the second case there is only one shelf, so all three items are taken from it — two from the left side and one from the right side.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "5b74965e", "template_md5": "35d339e4", "result": "You are given a collection of items arranged on shelves. Each shelf has a row of items, and you can only access the leftmost or rightmost item on each shelf. Once an item is taken, it cannot be returned. \n\nYou need to find the maximum total value of items you can take from the shelves given a certain number of allowed items to take. \n\n**Input:**\n\n* The first line contains two integers,  $n$ and $m$. \n    * $n$ is the number of shelves.\n    * $m$ is the number of items you are allowed to take.\n* The next $n$ lines describe each shelf:\n    * The first number on each line is the number of items on that shelf.\n    * The following numbers are the values of the items on that shelf, from left to right.\n\n**Output:**\n\n* Output the maximum total value of items you can take."}, {"prompt_md5": "b9e73d88", "template_md5": "465699a0", "result": "You are given a set of shelves, each with a row of items. You can only take the leftmost or rightmost item from each shelf.  Your goal is to find the maximum total value of items you can take, given a limited number of allowed selections."}]}