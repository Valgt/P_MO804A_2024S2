{"uid": "1497-D", "url": "https://codeforces.com/contest/1497/problem/D", "tags": ["bitmasks", " dp", " graphs", " number theory"], "title": "1497-D", "statement": "D. Geniustime limit per test2 secondsmemory limit per test32 megabytesinputstandard inputoutputstandard outputPlease note the non-standard memory limit.There are $$$n$$$ problems numbered with integers from $$$1$$$ to $$$n$$$. $$$i$$$-th problem has the complexity $$$c_i = 2^i$$$, tag $$$tag_i$$$ and score $$$s_i$$$.After solving the problem $$$i$$$ it's allowed to solve problem $$$j$$$ if and only if $$$\\\\text{IQ} < |c_i - c_j|$$$ and $$$tag_i \\\\neq tag_j$$$. After solving it your $$$\\\\text{IQ}$$$ changes and becomes $$$\\\\text{IQ} = |c_i - c_j|$$$ and you gain $$$|s_i - s_j|$$$ points.Any problem can be the first. You can solve problems in any order and as many times as you want.Initially your $$$\\\\text{IQ} = 0$$$. Find the maximum number of points that can be earned.InputThe first line contains a single integer $$$t$$$ $$$(1 \\\\le t \\\\le 100)$$$  — the number of test cases.The first line of each test case contains an integer $$$n$$$ $$$(1 \\\\le n \\\\le 5000)$$$  — the number of problems.The second line of each test case contains $$$n$$$ integers $$$tag_1, tag_2, \\\\ldots, tag_n$$$ $$$(1 \\\\le tag_i \\\\le n)$$$  — tags of the problems.The third line of each test case contains $$$n$$$ integers $$$s_1, s_2, \\\\ldots, s_n$$$ $$$(1 \\\\le s_i \\\\le 10^9)$$$  — scores of the problems.It's guaranteed that sum of $$$n$$$ over all test cases does not exceed $$$5000$$$.OutputFor each test case print a single integer  — the maximum number of points that can be earned.ExampleInput5 4 1 2 3 4 5 10 15 20 4 1 2 1 2 5 10 15 20 4 2 2 4 1 2 8 19 1 2 1 1 6 9 1 1 666Output35 30 42 0 0NoteIn the first test case optimal sequence of solving problems is as follows:$$$1 \\\\rightarrow 2$$$, after that total score is $$$5$$$ and $$$\\\\text{IQ} = 2$$$$$$2 \\\\rightarrow 3$$$, after that total score is $$$10$$$ and $$$\\\\text{IQ} = 4$$$$$$3 \\\\rightarrow 1$$$, after that total score is $$$20$$$ and $$$\\\\text{IQ} = 6$$$$$$1 \\\\rightarrow 4$$$, after that total score is $$$35$$$ and $$$\\\\text{IQ} = 14$$$In the second test case optimal sequence of solving problems is as follows:$$$1 \\\\rightarrow 2$$$, after that total score is $$$5$$$ and $$$\\\\text{IQ} = 2$$$$$$2 \\\\rightarrow 3$$$, after that total score is $$$10$$$ and $$$\\\\text{IQ} = 4$$$$$$3 \\\\rightarrow 4$$$, after that total score is $$$15$$$ and $$$\\\\text{IQ} = 8$$$$$$4 \\\\rightarrow 1$$$, after that total score is $$$35$$$ and $$$\\\\text{IQ} = 14$$$In the third test case optimal sequence of solving problems is as follows:$$$1 \\\\rightarrow 3$$$, after that total score is $$$17$$$ and $$$\\\\text{IQ} = 6$$$$$$3 \\\\rightarrow 4$$$, after that total score is $$$35$$$ and $$$\\\\text{IQ} = 8$$$$$$4 \\\\rightarrow 2$$$, after that total score is $$$42$$$ and $$$\\\\text{IQ} = 12$$$", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a3c27af7", "template_md5": "35d339e4", "result": "You are given $n$ problems, each with a complexity $c_i = 2^i$, a tag $tag_i$, and a score $s_i$.  You can solve problems in any order and as many times as you want.  \n\nHere are the rules:\n\n* You can only solve problem $j$ after solving problem $i$ if  $|c_i - c_j| > IQ$ and $tag_i \\neq tag_j$, where $IQ$ is your current intelligence quotient.\n* After solving problem $i$, your IQ becomes $|c_i - c_j|$ and you gain $|s_i - s_j|$ points.\n* You start with an IQ of 0.\n\nFind the maximum number of points you can earn. \n\nInput:\n\n* The first line contains the number of test cases $t$.\n* For each test case:\n    * The first line contains the number of problems $n$.\n    * The second line contains the tags of the problems $tag_1, tag_2, ..., tag_n$.\n    * The third line contains the scores of the problems $s_1, s_2, ..., s_n$.\n\nOutput:\n\nFor each test case, print the maximum number of points you can earn."}, {"prompt_md5": "c96f98fe", "template_md5": "465699a0", "result": "You have a list of tasks, each with a difficulty level and a point value. You can only do a task if its difficulty is far enough away from the last task you did and it has a different category.  After completing a task, your \"IQ\" level changes based on the difficulty difference, and you earn points based on the point difference between the tasks. Find the maximum number of points you can earn."}]}