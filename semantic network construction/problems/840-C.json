{"uid": "840-C", "url": "https://codeforces.com/contest/840/problem/C", "tags": ["combinatorics", " dp"], "title": "840-C", "statement": "C. On the Benchtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputA year ago on the bench in public park Leha found an array ofnnumbers. Leha believes that permutationpis right if for all1 ≤i<ncondition, thatapi·api+ 1is not perfect square, holds. Leha wants to find number of right permutations modulo109+ 7.InputFirst line of input data contains single integern(1 ≤n≤ 300) — length of the array.Next line containsnintegersa1,a2, ... ,an(1 ≤ai≤ 109) — found array.OutputOutput single integer — number of right permutations modulo109+ 7.ExamplesInput31 2 4Output2Input75 2 4 2 4 1 1Output144NoteFor first example:[1, 2, 4]— right permutation, because2and8are not perfect squares.[1, 4, 2]— wrong permutation, because4is square of2.[2, 1, 4]— wrong permutation, because4is square of2.[2, 4, 1]— wrong permutation, because4is square of2.[4, 1, 2]— wrong permutation, because4is square of2.[4, 2, 1]— right permutation, because8and2are not perfect squares.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "bc69958d", "template_md5": "35d339e4", "result": "Given an array of $n$ integers ($1 \\le n \\le 300$), find the number of permutations of the array such that for all $1 \\le i < n$, the product $a_i \\cdot a_{i+1}$ is not a perfect square. The answer should be modulo $10^9 + 7$."}, {"prompt_md5": "98c8a215", "template_md5": "465699a0", "result": "You are given a list of numbers.  Find how many ways you can arrange the numbers so that the product of each number and the number after it is not a perfect square.  The answer should be given modulo 10^9 + 7."}]}