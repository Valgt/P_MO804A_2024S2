{"uid": "1773-A", "url": "https://codeforces.com/contest/1773/problem/A", "tags": ["constructive algorithms", " graph matchings", " math", " probabilities"], "title": "1773-A", "statement": "A. Amazing Tricktime limit per test3 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputAlice is a magician and she creates a new trick. She has $$$n$$$ cards with different numbers from $$$1$$$ to $$$n$$$ written on them. First, she asks an audience member to shuffle the deck and put cards in a row. Let's say the $$$i$$$-th card from the left has the number $$$a_i$$$ on it.Then Alice picks two permutations $$$p$$$ and $$$q$$$. There is a restriction on $$$p$$$ and $$$q$$$ —permutations can't have fixed points. Which means $$$\\\\forall i: p_i \\\\ne i\\\\ and\\\\ q_i \\\\ne i$$$.After permutations are chosen, Alice shuffles the cards according to them. Now the $$$i$$$-th card from the left is the card $$$a[p[q[i]]$$$. The trick is considered successful if $$$i$$$-th card from the left has the number $$$i$$$ on it after the shuffles.Help Alice pick the permutations $$$p$$$ and $$$q$$$ or say it is not possible for the specific starting permutation $$$a$$$.InputThe first line of the input contains the number of tests $$$t$$$ ($$$1 \\\\leq t \\\\leq 10^5$$$).Each test is described in two lines. The first line contains one integer $$$n$$$ — the number of cards ($$$1 \\\\leq n \\\\leq 10^5$$$). The second line contains $$$n$$$ integers $$$a_i$$$ — the initial permutation of the cards ($$$1 \\\\leq a_i \\\\leq n$$$; $$$\\\\forall i \\\\neq j: a_i \\\\neq a_j$$$).It is guaranteed that the sum of $$$n$$$ over all tests does not exceed $$$10^5$$$.OutputPrint the answer for each test case in the same order the cases appear in the input.For each test case, print \"Impossible\" in a single line, if no solution exists.Otherwise, print \"Possible\" in the first line, and in the following two lines print permutations $$$p$$$ and $$$q$$$.ExampleInput422 131 2 342 1 4 355 1 4 2 3OutputImpossible Possible 3 1 2 2 3 1 Possible 3 4 2 1 3 4 2 1 Possible 4 1 2 5 3 3 1 4 5 2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "addfe40a", "template_md5": "35d339e4", "result": "You are given an array of $n$ distinct integers from 1 to $n$.  You need to find two permutations $p$ and $q$ of length $n$ such that:\n\n* Neither $p$ nor $q$ have any fixed points (i.e., $p_i \\neq i$ and $q_i \\neq i$ for all $i$).\n\n* After applying the permutations, the $i$-th element in the array is equal to $i$.  \n\nThe permutation is applied as follows:\n\n1. Start with the original array.\n2. Apply permutation $q$ to the array.\n3. Apply permutation $p$ to the resulting array.\n\nIf no such permutations exist, output \"Impossible\". Otherwise, output \"Possible\" followed by the permutations $p$ and $q$."}, {"prompt_md5": "79dbdce9", "template_md5": "465699a0", "result": "You are given a list of numbers. You need to find two rearrangements of the list that, when applied sequentially, will result in the final list having each number in its correct position.  If no such rearrangements exist, say \"Impossible\"."}]}