{"uid": "271-E", "url": "https://codeforces.com/contest/271/problem/E", "tags": ["constructive algorithms", " math", " number theory"], "title": "271-E", "statement": "E. Three Horsestime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutThere are three horses living in a horse land: one gray, one white and one gray-and-white. The horses are really amusing animals, which is why they adore special cards. Each of those cards must contain two integers, the first one on top, the second one in the bottom of the card. Let's denote a card withaon the top andbin the bottom as(a,b).Each of the three horses can paint the special cards. If you show an(a,b)card to the gray horse, then the horse can paint a new(a+ 1,b+ 1)card. If you show an(a,b)card, such thataandbare even integers, to the white horse, then the horse can paint a newcard. If you show two cards(a,b)and(b,c)to the gray-and-white horse, then he can paint a new(a,c)card.Polycarpus really wants to getnspecial cards(1,a1),(1,a2),...,(1,an). For that he is going to the horse land. He can take exactly one(x,y)card to the horse land, such that1 ≤x<y≤m. How many ways are there to choose the card so that he can perform some actions in the horse land and get the required cards?Polycarpus can get cards from the horses only as a result of the actions that are described above. Polycarpus is allowed to get additional cards besides the cards that he requires.InputThe first line contains two integersn,m(1 ≤n≤ 105, 2 ≤m≤ 109). The second line contains the sequence of integersa1,a2, ...,an(2 ≤ai≤ 109). Note, that the numbers in the sequence can coincide.The numbers in the lines are separated by single spaces.OutputPrint a single integer — the answer to the problem.Please, do not use the%lldspecifier to read or write 64-bit integers inC++. It is preferred to use thecin,coutstreams or the%I64dspecifier.ExamplesInput1 62Output11Input1 67Output14Input2 1013 7Output36", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ccdbbcd6", "template_md5": "35d339e4", "result": "There are three horses. Each horse can paint new cards based on the cards you show them.\n\n* **Gray horse:**  If you show a card $(a, b)$, the gray horse paints a new card $(a + 1, b + 1)$.\n* **White horse:** If you show a card $(a, b)$ where both $a$ and $b$ are even, the white horse paints a new card $(a, b)$.\n* **Gray-and-white horse:** If you show two cards $(a, b)$ and $(b, c)$, the gray-and-white horse paints a new card $(a, c)$.\n\nYou want to get $n$ specific cards: $(1, a_1), (1, a_2), ..., (1, a_n)$. You can bring one card $(x, y)$ to the horse land, where $1 \\le x < y \\le m$.\n\nHow many ways are there to choose the card $(x, y)$ so that you can use the horses to eventually get the $n$ desired cards? \n\nYou can get additional cards besides the $n$ you need. \n\n\nInput:\n\n* The first line contains two integers $n$ and $m$ ($1 \\le n \\le 10^5$, $2 \\le m \\le 10^9$).\n* The second line contains $n$ integers $a_1, a_2, ..., a_n$ ($2 \\le a_i \\le 10^9$).\n\nOutput:\n\n* Print a single integer, the number of ways to choose the card."}, {"prompt_md5": "98a157c2", "template_md5": "465699a0", "result": "You have a set of target numbers. You can choose one number pair from a larger set of number pairs.  Each number pair can be used to generate new number pairs based on specific rules.  How many ways are there to choose a starting number pair so that you can eventually generate all the target numbers?"}]}