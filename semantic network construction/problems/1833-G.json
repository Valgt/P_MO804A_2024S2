{"uid": "1833-G", "url": "https://codeforces.com/contest/1833/problem/G", "tags": ["constructive algorithms", " dfs and similar", " dp", " dsu", " greedy", " implementation", " trees"], "title": "1833-G", "statement": "G. Ksyusha and Chinchillatime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputKsyusha has a pet chinchilla, a tree on $$$n$$$ vertices and huge scissors. A tree is a connected graph without cycles. During a boring physics lesson Ksyusha thought about how to entertain her pet.Chinchillas like to play withbranches.A branchis a tree of $$$3$$$ vertices.The branchlooks like this.A cutis the removal of some (not yetcut) edge in the tree. Ksyusha has plenty of free time, so she can afford to make enoughcutsso that the tree splits intobranches. In other words, after several (possibly zero)cuts, each vertex must belong toexactly onebranch.Help Ksyusha choose the edges to becutor tell that it is impossible.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — number of testcases.The first line of each testcase contains a single integer $$$n$$$ ($$$2 \\\\le n \\\\le 2 \\\\cdot 10^5$$$) — the number of vertices in the tree.The next $$$n - 1$$$ rows of each testcase contain integers $$$v_i$$$ and $$$u_i$$$ ($$$1 \\\\le v_i, u_i \\\\le n$$$) — the numbers of vertices that the $$$i$$$-th edge connects.It is guaranteed that this set of edges forms a tree. It is also guaranteed that the sum of $$$n$$$ over all testcasesdoes not exceed$$$2 \\\\cdot 10^5$$$.OutputPrint the answer for each testcase.If the desired way tocutthe tree does not exist, print $$$-1$$$.Otherwise, print an integer $$$k$$$ — the number of edges to becut. In the next line, print $$$k$$$ different integers $$$e_i$$$ ($$$1 \\\\le e_i < n$$$) — numbers of the edges to becut. If $$$k = 0$$$, print an empty string instead.If there are several solutions, you can print any.ExamplesInput491 24 37 95 44 63 28 71 761 21 34 31 56 161 23 23 44 56 551 35 35 23 4Output2 2 8  -1 1 3  -1Input421 231 23 161 23 13 43 56 192 66 99 19 71 87 38 54 7Output-1 0  1 2  2 4 3NoteThe first testcase in first test.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "34df16b0", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices. A tree is a connected graph with no cycles.  A branch is a tree with 3 vertices.\n\nYour task is to determine if it is possible to cut edges in the tree so that the tree is split into branches. If it is possible, output the minimum number of edges to cut and a list of those edges. If it is not possible, output -1.\n\n**Input:**\n\n* The first line contains the number of test cases, $t$.\n* For each test case:\n    * The first line contains the number of vertices, $n$.\n    * The next $n-1$ lines each contain two integers, $v_i$ and $u_i$, representing an edge between vertices $v_i$ and $u_i$.\n\n**Output:**\n\n* For each test case:\n    * If it is not possible to split the tree into branches, output -1.\n    * Otherwise, output the minimum number of edges to cut, $k$.\n    * On the next line, output $k$ integers, $e_i$, representing the indices of the edges to cut."}, {"prompt_md5": "d3f2fa2a", "template_md5": "465699a0", "result": "You are given a tree (a connected graph with no cycles).  You need to cut some edges to divide the tree into smaller trees, each with exactly 3 vertices.  Determine if this is possible and, if so, the minimum number of cuts required."}]}