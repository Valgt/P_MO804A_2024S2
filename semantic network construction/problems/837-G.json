{"uid": "837-G", "url": "https://codeforces.com/contest/837/problem/G", "tags": ["data structures"], "title": "837-G", "statement": "G. Functions On The Segmentstime limit per test5 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputYou have an arrayfofnfunctions.The functionfi(x)(1 ≤i≤n) is characterized by parameters:x1,x2,y1,a,b,y2and take values:y1, ifx≤x1.a·x+b, ifx1<x≤x2.y2, ifx>x2.There aremqueries. Each query is determined by numbersl,randx. For a query with numberi(1 ≤i≤m), you need to calculate the sum of allfj(xi)wherel≤j≤r. The value ofxiis calculated as follows:xi= (x+last)mod109, wherelastis the answer to the query with numberi- 1. The value oflastequals0ifi= 1.InputFirst line contains one integer numbern(1 ≤n≤ 75000).Each of the nextnlines contains six integer numbers:x1,x2,y1,a,b,y2(0 ≤x1<x2≤ 2·105,0 ≤y1,y2≤ 109,0 ≤a,b≤ 104).Next line contains one integer numberm(1 ≤m≤ 500000).Each of the nextmlines contains three integer numbers:l,randx(1 ≤l≤r≤n,0 ≤x≤ 109).ExamplesInput11 2 1 4 5 1011 1 2Output13Input32 5 1 1 1 43 6 8 2 5 71 3 5 1 4 1031 3 32 3 21 2 5Output191711", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d7ebef8b", "template_md5": "35d339e4", "result": "You are given an array of $n$ functions. Each function $f_i$ is defined as follows:\n\n* $f_i(x) = y_1$ if $x \\le x_1$\n* $f_i(x) = ax + b$ if $x_1 < x \\le x_2$\n* $f_i(x) = y_2$ if $x > x_2$\n\nwhere $x_1$, $x_2$, $y_1$, $a$, $b$, and $y_2$ are given parameters for each function.\n\nYou are also given $m$ queries. Each query is defined by three numbers $l$, $r$, and $x$. For each query $i$, you need to calculate the sum of all $f_j(x_i)$ where $l \\le j \\le r$.  The value of $x_i$ is calculated as follows:\n\n* $x_i = (x + last) \\mod 10^9$\n\nwhere $last$ is the answer to the previous query (query $i-1$). If $i=1$, then $last = 0$.\n\n**Input:**\n\n* The first line contains an integer $n$ (the number of functions).\n* Each of the next $n$ lines contains six integers: $x_1$, $x_2$, $y_1$, $a$, $b$, and $y_2$ (the parameters for each function).\n* The next line contains an integer $m$ (the number of queries).\n* Each of the next $m$ lines contains three integers: $l$, $r$, and $x$ (the parameters for each query).\n\n**Output:**\n\n* For each query, print the sum of all $f_j(x_i)$ where $l \\le j \\le r$."}, {"prompt_md5": "ba4d7c89", "template_md5": "465699a0", "result": "You are given a list of functions. Each function has a range and a formula. You are also given a list of queries. Each query asks you to find the sum of function values at specific points, where each point is calculated based on the previous query's result."}]}