{"uid": "1866-E", "url": "https://codeforces.com/contest/1866/problem/E", "tags": ["dp"], "title": "1866-E", "statement": "E. Elevators of Tamemtime limit per test5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputThere is a building named Taman Membeku (shortened as Tamem). The building has $$$N$$$ floors numbered from $$$1$$$ to $$$N$$$ from bottom to top. The only way to move between floors in the building is to use elevators. There are $$$3$$$ elevators available in Tamem, namely elevators $$$1$$$, $$$2$$$, and $$$3$$$.Pak Chanek works as an elevator operator in Tamem. Pak Chanek will work for $$$Q$$$ days. Initially, each elevator is in floor $$$1$$$ and all elevators are on. On each day, exactly one of the following will happen:1 x y– There is a person currently in floor $$$x$$$ who wants to go to floor $$$y$$$. ($$$1\\\\leq x,y\\\\leq N$$$; $$$x\\\\neq y$$$)2 p– Elevator $$$p$$$ changes stateat the start of the day. If previously it is on, then it will turn off. If previously it is off, then it will turn on. ($$$1\\\\leq p\\\\leq3$$$)For each day, Pak Chanek can control the movement of all elevators as he pleases. However, for each day where there is a person currently in floor $$$x$$$ who wants to go to floor $$$y$$$, among all elevator movements done by Pak Chanek, the following must happen:One elevator moves to floor $$$x$$$.The person gets into the elevator.The elevator moves to floor $$$y$$$.The person gets out of the elevator.For each day, Pak Chanek can only move the elevators that are currently on. Note that, since a change in state happens at the start of the day, this means that an elevator that turns off on some day starts becoming unusable from that day itself. Conversely, an elevator that turns on on some day starts becoming usable from that day itself.It is known that the electricity fee for each day is different. More specifically, on the $$$j$$$-th day, the fee needed to move one elevator up or down by one floor is $$$A_j$$$.From the start, Pak Chanek already knows the electricity fees and the sequence of events that will happen on the $$$Q$$$ days, so Pak Chanek can operate the elevators strategically. What is the minimum possible electricity fee to fulfill all needs of the people who want to move between floors in Tamem? Note: in the end, each elevator does not have to go back to floor $$$1$$$.InputThe first line contains two integers $$$N$$$ and $$$Q$$$ ($$$2\\\\leq N\\\\leq10^5$$$; $$$1\\\\leq Q\\\\leq300$$$) — the number of floors and the number of days.The second line contains $$$Q$$$ integers $$$A_1, A_2, A_3 \\\\ldots, A_Q$$$ ($$$1 \\\\leq A_j \\\\leq 10^5$$$) — the electricity fee for each day.The $$$j$$$-th of the next $$$Q$$$ lines contains the $$$j$$$-th event as described. At any moment, there will always be at least one elevator that is on.OutputAn integer representing the minimum possible electricity fee to fulfill all needs of the people who want to move between floors in Tamem.ExampleInput9 8 3 4 4 3 4 2 7 6 1 2 7 1 3 9 2 2 1 4 5 1 3 5 2 2 1 7 3 1 2 1Output114NoteThe following is an example of an optimal strategy:On the $$$1$$$-st day:Elevator $$$2$$$ moves to floor $$$3$$$.Elevator $$$3$$$ moves to floor $$$2$$$, picks the person up, moves to floor $$$7$$$, then drops the person off.On the $$$2$$$-nd day:Elevator $$$2$$$ picks the person up, moves to floor $$$9$$$, then drops the person off.On the $$$3$$$-rd day:Elevator $$$2$$$ turns off.On the $$$4$$$-th day:Elevator $$$3$$$ moves to floor $$$4$$$, picks the person up, moves to floor $$$5$$$, drops the person off, then moves to floor $$$3$$$.On the $$$5$$$-th day:Elevator $$$3$$$ picks the person up, moves to floor $$$5$$$, then drops the person off.On the $$$6$$$-th day:Elevator $$$2$$$ turns on.Elevator $$$1$$$ moves to floor $$$2$$$.Elevator $$$2$$$ moves to floor $$$7$$$.On the $$$7$$$-th day:Elevator $$$2$$$ picks the person up, moves to floor $$$3$$$, then drops the person off.On the $$$8$$$-th day:Elevator $$$1$$$ picks the person up, moves to floor $$$1$$$, then drops the person off.The total electricity fee for each day from the $$$1$$$-st day to the $$$8$$$-th day are $$$24$$$, $$$24$$$, $$$0$$$, $$$18$$$, $$$8$$$, $$$6$$$, $$$28$$$, and $$$6$$$ respectively. Therefore, the total electricity fee for the entire $$$Q$$$ days is $$$24+24+0+18+8+6+28+6=114$$$.It can be obtained that there is no strategy that requires a smaller electricity fee.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e3695fcc", "template_md5": "35d339e4", "result": "There is a building with $N$ floors. There are 3 elevators.  \n\nEach day, one of the following events happens:\n\n1.  A person wants to move from floor $x$ to floor $y$.\n2.  Elevator $p$ changes state (on to off or off to on).\n\nYou can control the elevators each day.  \n\n* You can only move elevators that are currently on.\n* If a person wants to move, one elevator must:\n    * Go to floor $x$\n    * Pick up the person\n    * Go to floor $y$\n    * Drop off the person\n\nThe cost to move an elevator one floor is $A_j$ on day $j$.\n\nFind the minimum total cost to fulfill all the movement requests.\n\n\n\n**Input:**\n\n* $N$ (number of floors)\n* $Q$ (number of days)\n* $A_1, A_2, ..., A_Q$ (cost per day)\n* $Q$ lines, each describing an event (1 or 2 as described above)\n\n**Output:**\n\nThe minimum total cost."}, {"prompt_md5": "c5ccd0b7", "template_md5": "465699a0", "result": "There are 3 elevators in a building with N floors.  Each day, people want to move between floors. You can control the elevators, but each move costs money based on the day.  \n\nYou know the sequence of people needing to move and the cost of moving each day.  Find the cheapest way to move everyone."}]}