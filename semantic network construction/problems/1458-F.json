{"uid": "1458-F", "url": "https://codeforces.com/contest/1458/problem/F", "tags": ["data structures", " trees"], "title": "1458-F", "statement": "F. Range Diameter Sumtime limit per test7 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a tree with $$$n$$$ vertices numbered $$$1, \\\\ldots, n$$$. A tree is a connected simple graph without cycles.Let $$$\\\\mathrm{dist}(u, v)$$$ be the number of edges in the unique simple path connecting vertices $$$u$$$ and $$$v$$$.Let $$$\\\\mathrm{diam}(l, r) = \\\\max \\\\mathrm{dist}(u, v)$$$ over all pairs $$$u, v$$$ such that $$$l \\\\leq u, v \\\\leq r$$$.Compute $$$\\\\sum_{1 \\\\leq l \\\\leq r \\\\leq n} \\\\mathrm{diam}(l, r)$$$.InputThe first line contains a single integer $$$n$$$ ($$$1 \\\\leq n \\\\leq 10^5$$$) — the number of vertices in the tree.The next $$$n - 1$$$ lines describe the tree edges. Each of these lines contains two integers $$$u, v$$$ ($$$1 \\\\leq u, v \\\\leq n$$$) — endpoint indices of the respective tree edge. It is guaranteed that the edge list indeed describes a tree.OutputPrint a single integer — $$$\\\\sum_{1 \\\\leq l \\\\leq r \\\\leq n} \\\\mathrm{diam}(l, r)$$$.ExamplesInput4 1 2 2 4 3 2Output10Input10 1 8 2 9 5 6 4 8 4 2 7 9 3 6 10 4 3 9Output224", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "749907d0", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices numbered 1 through $n$.  The tree is a connected graph with no cycles.\n\nThe distance between two vertices $u$ and $v$, denoted $\\text{dist}(u,v)$, is the number of edges on the unique path connecting them.\n\nThe diameter of a range $[l,r]$ is the maximum distance between any two vertices $u$ and $v$ where $l \\le u,v \\le r$.\n\nCalculate the sum of the diameters of all ranges $[l,r]$ where $1 \\le l \\le r \\le n$.\n\n**Input:**\n\n* The first line contains an integer $n$ (1 ≤ $n$ ≤ 10⁵) representing the number of vertices.\n* The next $n-1$ lines each contain two integers $u$ and $v$ (1 ≤ $u,v$ ≤ $n$) representing an edge between vertices $u$ and $v$.\n\n**Output:**\n\n* Print a single integer representing the sum of the diameters of all ranges $[l,r]$."}, {"prompt_md5": "86d12651", "template_md5": "465699a0", "result": "You are given a tree with numbered nodes.  Find the sum of the maximum distances between all pairs of nodes within each possible range of nodes."}]}