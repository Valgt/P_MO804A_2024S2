{"uid": "1807-F", "url": "https://codeforces.com/contest/1807/problem/F", "tags": ["brute force", " dfs and similar", " implementation"], "title": "1807-F", "statement": "F. Bouncy Balltime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a room that can be represented by a $$$n \\\\times m$$$ grid. There is a ball at position $$$(i_1, j_1)$$$ (the intersection of row $$$i_1$$$ and column $$$j_1$$$), and it starts going diagonally in one of the four directions:The ball is going down and right, denoted by $$$\\\\texttt{DR}$$$; it means that after a step, the ball's location goes from $$$(i, j)$$$ to $$$(i+1, j+1)$$$.The ball is going down and left, denoted by $$$\\\\texttt{DL}$$$; it means that after a step, the ball's location goes from $$$(i, j)$$$ to $$$(i+1, j-1)$$$.The ball is going up and right, denoted by $$$\\\\texttt{UR}$$$; it means that after a step, the ball's location goes from $$$(i, j)$$$ to $$$(i-1, j+1)$$$.The ball is going up and left, denoted by $$$\\\\texttt{UL}$$$; it means that after a step, the ball's location goes from $$$(i, j)$$$ to $$$(i-1, j-1)$$$.After each step, the ball maintains its direction unless it hits a wall (that is, the direction takes it out of the room's bounds in the next step). In this case, the ball's direction gets flipped along the axis of the wall; if the ball hits a corner, both directions get flipped. Any instance of this is called abounce. The ball never stops moving.In the above example, the ball starts at $$$(1, 7)$$$ and goes $$$\\\\texttt{DL}$$$ until it reaches the bottom wall, then it bounces and continues in the direction $$$\\\\texttt{UL}$$$. After reaching the left wall, the ball bounces and continues to go in the direction $$$\\\\texttt{UR}$$$. When the ball reaches the upper wall, it bounces and continues in the direction $$$\\\\texttt{DR}$$$. After reaching the bottom-right corner, it bouncesonceand continues in direction $$$\\\\texttt{UL}$$$, and so on.Your task is to find how many bounces the ball will go through until it reaches cell $$$(i_2, j_2)$$$ in the room, or report that it never reaches cell $$$(i_2, j_2)$$$ by printing $$$-1$$$.Note that the ball first goes in a cell and only after that bounces if it needs to.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 1000$$$) — the number of test cases.The first line of each test case contains six integers and a string $$$n, m, i_1, j_1, i_2, j_2, d$$$ ($$$2 \\\\leq n, m \\\\leq 25000$$$; $$$1 \\\\leq i_1, i_2 \\\\leq n$$$; $$$1 \\\\leq j_1, j_2 \\\\leq m$$$; $$$d \\\\in\\\\{ \\\\texttt{DR}, \\\\texttt{DL}, \\\\texttt{UR}, \\\\texttt{UL}\\\\}$$$) — the dimensions of the grid, the starting coordinates of the ball, the coordinates of the final cell and the starting direction of the ball.It is guaranteed that the sum of $$$n \\\\cdot m$$$ over all test cases does not exceed $$$5 \\\\cdot 10^4$$$.OutputFor each test case, output a single integer — the number of bounces the ball does until it reaches cell $$$(i_2, j_2)$$$ for the first time, or $$$-1$$$ if the ball never reaches the final cell.ExampleInput65 7 1 7 2 4 DL5 7 1 7 3 2 DL3 3 1 3 2 2 UR2 4 2 1 2 2 DR4 3 1 1 1 3 UL6 4 1 2 3 4 DROutput3 -1 1 -1 4 0", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "6e8af15e", "template_md5": "35d339e4", "result": "You are given a grid of size $n \\times m$. A ball starts at position $(i_1, j_1)$ and moves diagonally in one of four directions:\n\n* **DR:** Down and Right\n* **DL:** Down and Left\n* **UR:** Up and Right\n* **UL:** Up and Left\n\nThe ball moves one step at a time, changing direction when it hits a wall (going out of bounds). When it hits a corner, both directions change.\n\nYour task is to find the number of times the ball bounces until it reaches position $(i_2, j_2)$. If the ball never reaches this position, output -1. \n\n\n\nInput:\n\n* The first line contains the number of test cases, $t$.\n* Each test case has six integers and a string: $n$, $m$, $i_1$, $j_1$, $i_2$, $j_2$, and $d$ (the direction).\n\nOutput:\n\n* For each test case, output the number of bounces until the ball reaches $(i_2, j_2)$ or -1 if it never reaches the position."}, {"prompt_md5": "8ac8d326", "template_md5": "465699a0", "result": "A ball moves diagonally across a grid. It can change direction when it hits a wall.  Find the number of times the ball changes direction before it reaches a specific cell, or if it never reaches the cell."}]}