{"uid": "1296-E2", "url": "https://codeforces.com/contest/1296/problem/E2", "tags": ["data structures", " dp"], "title": "1296-E2", "statement": "E2. String Coloring (hard version)time limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is a hard version of the problem. The actual problems are different, but the easy version is almost a subtask of the hard version. Note that the constraints and the output format are different.You are given a string $$$s$$$ consisting of $$$n$$$ lowercase Latin letters.You have to colorallits charactersthe minimum number of colors(each character to exactly one color, the same letters can be colored the same or different colors, i.e. you can choose exactly one color for each index in $$$s$$$).After coloring, you can swapanytwo neighboring characters of the string that are coloreddifferentcolors. You can perform such an operation arbitrary (possibly, zero) number of times.The goal is to make the string sorted, i.e. all characters should be in alphabetical order.Your task is to find the minimum number of colors which you have to color the given string in so that after coloring it can become sorted bysomesequence of swaps. Note that you have to restore only coloring, not the sequence of swaps.InputThe first line of the input contains one integer $$$n$$$ ($$$1 \\\\le n \\\\le 2 \\\\cdot 10^5$$$) — the length of $$$s$$$.The second line of the input contains the string $$$s$$$ consisting of exactly $$$n$$$ lowercase Latin letters.OutputIn the first line print one integer $$$res$$$ ($$$1 \\\\le res \\\\le n$$$) — the minimum number of colors in which you have to color the given string so that after coloring it can become sorted bysomesequence of swaps.In the second line printanypossible coloring that can be used to sort the string using some sequence of swaps described in the problem statement. The coloring is the array $$$c$$$ of length $$$n$$$, where $$$1 \\\\le c_i \\\\le res$$$ and $$$c_i$$$ means the color of the $$$i$$$-th character.ExamplesInput9 abacbecfdOutput2 1 1 2 1 2 1 2 1 2Input8 aaabbcbbOutput2 1 2 1 2 1 2 1 1Input7 abcdedcOutput3 1 1 1 1 1 2 3Input5 abcdeOutput1 1 1 1 1 1", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2d58094c", "template_md5": "35d339e4", "result": "You are given a string of lowercase letters. You need to color each letter with a color, where each color is a number from 1 to some maximum number.  \n\nThe goal is to use the minimum number of colors possible so that you can sort the string by swapping any two adjacent letters that have different colors.  \n\nYou can swap letters as many times as you want, but you only need to find the minimum number of colors needed.\n\nOutput the minimum number of colors and one possible way to color the string."}, {"prompt_md5": "76fd14eb", "template_md5": "465699a0", "result": "You are given a string of lowercase letters. You need to color each letter with a color, and you can swap any two letters with different colors. The goal is to find the fewest colors needed so that you can sort the string by swapping letters."}]}