{"uid": "1602-B", "url": "https://codeforces.com/contest/1602/problem/B", "tags": ["constructive algorithms", " implementation"], "title": "1602-B", "statement": "B. Divine Arraytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputBlack is gifted with a Divine array $$$a$$$ consisting of $$$n$$$ ($$$1 \\\\le n \\\\le 2000$$$) integers. Each position in $$$a$$$ has an initial value. After shouting a curse over the array, it becomes angry and starts an unstoppable transformation.The transformation consists of infinite steps. Array $$$a$$$ changes at the $$$i$$$-th step in the following way: for every position $$$j$$$, $$$a_j$$$ becomes equal to the number of occurrences of $$$a_j$$$ in $$$a$$$ before starting this step.Here is an example to help you understand the process better:Initial array:$$$2$$$ $$$1$$$ $$$1$$$ $$$4$$$ $$$3$$$ $$$1$$$ $$$2$$$After the $$$1$$$-st step:$$$2$$$ $$$3$$$ $$$3$$$ $$$1$$$ $$$1$$$ $$$3$$$ $$$2$$$After the $$$2$$$-nd step:$$$2$$$ $$$3$$$ $$$3$$$ $$$2$$$ $$$2$$$ $$$3$$$ $$$2$$$After the $$$3$$$-rd step:$$$4$$$ $$$3$$$ $$$3$$$ $$$4$$$ $$$4$$$ $$$3$$$ $$$4$$$......In the initial array, we had two $$$2$$$-s, three $$$1$$$-s, only one $$$4$$$ and only one $$$3$$$, so after the first step, each element became equal to the number of its occurrences in the initial array: all twos changed to $$$2$$$, all ones changed to $$$3$$$, four changed to $$$1$$$ and three changed to $$$1$$$.The transformation steps continueforever.You have to process $$$q$$$ queries: in each query, Black is curious to know the value of $$$a_x$$$ after the $$$k$$$-th step of transformation.InputEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\\\le t \\\\le 1000$$$). Description of the test cases follows.The first line of each test case contains an integer $$$n$$$ ($$$1 \\\\le n \\\\le 2000$$$) — the size of the array $$$a$$$.The second line of each test case contains $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$1 \\\\le a_i \\\\le n$$$) — the initial values of array $$$a$$$.The third line of each test case contains a single integer $$$q$$$ ($$$1 \\\\le q \\\\le 100\\\\,000$$$) — the number of queries.Next $$$q$$$ lines contain the information about queries — one query per line. The $$$i$$$-th line contains two integers $$$x_i$$$ and $$$k_i$$$ ($$$1 \\\\le x_i \\\\le n$$$; $$$0 \\\\le k_i \\\\le 10^9$$$), meaning that Black is asking for the value of $$$a_{x_i}$$$ after the $$$k_i$$$-th step of transformation. $$$k_i = 0$$$ means that Black is interested in values of the initial array.It is guaranteed that the sum of $$$n$$$ over all test cases doesn't exceed $$$2000$$$ and the sum of $$$q$$$ over all test cases doesn't exceed $$$100\\\\,000$$$.OutputFor each test case, print $$$q$$$ answers. The $$$i$$$-th of them should be the value of $$$a_{x_i}$$$ after the $$$k_i$$$-th step of transformation. It can be shown that the answer to each query is unique.ExampleInput2 7 2 1 1 4 3 1 2 4 3 0 1 1 2 2 6 1 2 1 1 2 1 0 2 1000000000Output1 2 3 3 1 2NoteThe first test case was described ih the statement. It can be seen that:$$$k_1 = 0$$$ (initial array): $$$a_3 = 1$$$;$$$k_2 = 1$$$ (after the $$$1$$$-st step): $$$a_1 = 2$$$;$$$k_3 = 2$$$ (after the $$$2$$$-nd step): $$$a_2 = 3$$$;$$$k_4 = 1$$$ (after the $$$1$$$-st step): $$$a_6 = 3$$$.For the second test case,Initial array:$$$1$$$ $$$1$$$After the $$$1$$$-st step:$$$2$$$ $$$2$$$After the $$$2$$$-nd step:$$$2$$$ $$$2$$$......It can be seen that:$$$k_1 = 0$$$ (initial array): $$$a_1 = 1$$$;$$$k_2 = 1000000000$$$: $$$a_2 = 2$$$;", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2024ee56", "template_md5": "35d339e4", "result": "You are given an array of integers $a$ of length $n$.  The array undergoes a transformation process that repeats infinitely.  At each step, each element in the array is replaced by the number of times that element appears in the array before the current step.\n\nYou are given $q$ queries. Each query consists of two integers $x$ and $k$. For each query, you need to find the value of $a_x$ after $k$ steps of the transformation process. If $k=0$, you need to find the value of $a_x$ in the original array.\n\n**Input:**\n\n* The first line contains the number of test cases $t$.\n* For each test case:\n    * The first line contains the length of the array $n$.\n    * The second line contains the $n$ integers of the array $a$.\n    * The third line contains the number of queries $q$.\n    * The next $q$ lines each contain two integers $x$ and $k$.\n\n**Output:**\n\nFor each test case, output $q$ lines, each containing the value of $a_x$ after $k$ steps of the transformation process."}, {"prompt_md5": "1d6c7e04", "template_md5": "465699a0", "result": "You are given an array of numbers.  Each number represents how many times that number appears in the array. After each step, the array is updated based on these counts.  You need to find the value of a specific number in the array after a given number of steps."}]}