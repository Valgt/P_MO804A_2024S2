{"uid": "105-D", "url": "https://codeforces.com/contest/105/problem/D", "tags": ["brute force", " dsu", " implementation"], "title": "105-D", "statement": "D. Entertaining Geodeticstime limit per test1 secondmemory limit per test256 megabytesinputstdinoutputstdoutThe maps in the game are divided into square cells called Geo Panels. Some of these panels are painted. We shall assume that the Geo Panels without color are painted the transparent color.Besides, the map has so-called Geo Symbols. They look like pyramids of different colors (including Geo Symbols of the transparent color). Each Geo Symbol is located on one Geo Panel, and each Geo Panel may contain no more than one Geo Symbol.Geo Symbols can be eliminated. To understand better what happens when a Geo Symbol is eliminated, let us introduce some queue to which we will put the recently eliminated Geo Symbols.Let's put at the head of the queue a Geo Symbol that was eliminated just now. Next, we will repeat the following operation:Extract the Geo Symbol from the queue. Look at the color of the panel containing the given Geo Symbol. If itdiffers from transparentand differs from the color of the Geo Symbol, then all Geo Panels of this color are repainted in the color of the given Geo Symbol (transparent Geo Symbols repaint the Geo Panels transparent). Repainting is executed in an infinite spiral strictly in the following order starting from the panel, which contained the Geo Symbol:In other words, we select all the panels that need to be repainted and find their numbers in the infinite spiral whose center is placed in the position of the given Geo Symbol. After that, we repaint them in the order of the number's increasing.If a panel contains another Geo Symbol and this panel is being repainted, then the Geo Symbol is removed from the field and placed at the tail of the queue.After repainting the Geo Symbol is completely eliminated and the next Geo Symbol is taken from the head of the queue (if there is any) and the process repeats. The process ends if the queue is empty.See the sample analysis for better understanding.You know the colors of all the Geo Panels and the location of all the Geo Symbols. Determine the number of repaintings, which will occur if you destroy one of the Geo Symbols.InputThe first line contains two integersnandm(1 ≤n,m≤ 300) — the height and the width of the map (in cells).Then follownline; each of them containsmnumbers — the Geo Panels' colors.Then follownmore lines; each of them containsmnumbers — the Geo Symbols' description. -1 means that the given position contains no Geo Symbol. Otherwise, the number represents the color of the Geo Symbol in the given position.All colors are integers from0to109.0represents the transparent color.The last line contains two integersxandy(1 ≤x≤n,1 ≤y≤m) — the row and the column where the Geo Symbol is placed that needs to be eliminated. The rows are numbered from top to bottom, the columns are numbered from left to right. Coordinates are 1-based. It is guaranteed that the position with coordinates(x,y)contains a Geo Symbol.OutputPrint the single number — the total number of repaintings after the Geo Symbol is eliminated.Please, do not use the%lldspecificator to read or write 64-bit integers in C++. It is preferred to use thecoutstream (you may also use the%I64dspecificator).ExamplesInput5 59 0 1 1 00 0 3 2 01 1 1 3 01 1 1 3 00 1 2 0 3-1 1 -1 3 -1-1 -1 -1 0 -1-1 -1 -1 -1 -1-1 2 3 -1 -1-1 -1 -1 -1 24 2Output35NoteAll actions of the sample you can see on the following picture:If your browser does not support APNG and you see just static image, you can see GIF version of this image by the following link:http://assets.codeforces.com/images/geo_slow.gif", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "9a477a79", "template_md5": "35d339e4", "result": "You are given a grid of squares, some of which are colored.  Each square can have a colored object on it.  \n\nWhen an object is removed, all squares of the same color as the removed object, except for the square where the object was, are repainted the color of the removed object.  \n\nThe repainting happens in a spiral pattern, starting from the square where the object was removed.\n\nYou are given the grid, the colors of the objects, and the location of one object to remove.  Find the total number of squares that will be repainted."}, {"prompt_md5": "d81b80d2", "template_md5": "465699a0", "result": "You have a grid of colored squares. Some squares have special objects on them.  When you remove an object, all squares of a certain color around it change to the color of the removed object in a spiral pattern.  \n\nThe problem asks you to find how many times squares will change color after removing a specific object."}]}