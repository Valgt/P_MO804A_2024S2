{"uid": "525-E", "url": "https://codeforces.com/contest/525/problem/E", "tags": ["binary search", " bitmasks", " brute force", " dp", " math", " meet-in-the-middle"], "title": "525-E", "statement": "E. Anya and Cubestime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAnya loves to fold and stick. Today she decided to do just that.Anya hasncubes lying in a line and numbered from1tonfrom left to right, with natural numbers written on them. She also haskstickers with exclamation marks. We know that the number of stickers does not exceed the number of cubes.Anya can stick an exclamation mark on the cube and get the factorial of the number written on the cube. For example, if a cube reads5, then after the sticking it reads5!, which equals120.You need to help Anya count how many ways there are to choose some of the cubes and stick on some of the chosen cubes at mostkexclamation marks so that the sum of the numbers written on the chosen cubes after the sticking becomes equal toS. Anya can stick at most one exclamation mark on each cube. Can you do it?Two ways are considered the same if they have the same set of chosen cubes and the same set of cubes with exclamation marks.InputThe first line of the input contains three space-separated integersn,kandS(1 ≤n≤ 25,0 ≤k≤n,1 ≤S≤ 1016) — the number of cubes and the number of stickers that Anya has, and the sum that she needs to get.The second line containsnpositive integersai(1 ≤ai≤ 109) — the numbers, written on the cubes. The cubes in the input are described in the order from left to right, starting from the first one.Multiple cubes can contain the same numbers.OutputOutput the number of ways to choose some number of cubes and stick exclamation marks on some of them so that the sum of the numbers became equal to the given numberS.ExamplesInput2 2 304 3Output1Input2 2 74 3Output1Input3 1 11 1 1Output6NoteIn the first sample the only way is to choose both cubes and stick an exclamation mark on each of them.In the second sample the only way is to choose both cubes but don't stick an exclamation mark on any of them.In the third sample it is possible to choose any of the cubes in three ways, and also we may choose to stick or not to stick the exclamation mark on it. So, the total number of ways is six.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0441284f", "template_md5": "35d339e4", "result": "You are given $n$ numbers ($a_1, a_2, ..., a_n$) and you have $k$ stickers. You can put at most one sticker on each number.  Each sticker represents a factorial operation (e.g., if a number is 5, after sticking a sticker it becomes 5!).\n\nFind the number of ways to choose some of the numbers and apply stickers to them so that the sum of the numbers after applying the stickers equals a target sum $S$."}, {"prompt_md5": "2c3bf2d3", "template_md5": "465699a0", "result": "You have a set of numbered items. You can choose some items and add a special mark to them. Adding a mark to an item multiplies its value by a factor.  Find the number of ways to choose items and add marks so that the total value of the chosen items equals a target number."}]}