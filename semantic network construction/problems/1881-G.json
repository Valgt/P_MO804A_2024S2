{"uid": "1881-G", "url": "https://codeforces.com/contest/1881/problem/G", "tags": ["binary search", " data structures"], "title": "1881-G", "statement": "G. Anya and the Mysterious Stringtime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAnya received a string $$$s$$$ of length $$$n$$$ brought from Rome. The string $$$s$$$ consists of lowercase Latin letters and at first glance does not raise any suspicions. An instruction was attached to the string.Start of the instruction.A palindrome is a string that reads the same from left to right and right to left. For example, the strings \"anna\", \"aboba\", \"level\" are palindromes, while the strings \"gorilla\", \"banan\", \"off\" are not.A substring $$$[l \\\\ldots r]$$$ of string $$$s$$$ is a string $$$s_l s_{l+1} \\\\ldots s_{r-1} s_r$$$. For example, the substring $$$[4 \\\\ldots 6]$$$ of the string \"generation\" is the string \"era\".A string is calledbeautifulif itdoes notcontain a substring of lengthat leasttwo that is a palindrome. For example, the strings \"fox\", \"abcdef\", and \"yioy\" arebeautiful, while the strings \"xyxx\", \"yikjkitrb\" are not.When an integer $$$x$$$ is added to the character $$$s_i$$$, it is replaced $$$x$$$ times with thenextcharacter in the alphabet, with \"z\" being replaced by \"a\".When an integer $$$x$$$ is added to the substring $$$[l, r]$$$ of string $$$s$$$, it becomes the string $$$s_1 s_2 \\\\ldots s_{l-1} (s_l + x) (s_{l+1} + x) \\\\ldots (s_{r-1} + x) (s_r + x) s_{r+1} \\\\ldots s_n$$$. For example, when the substring $$$[2, 4]$$$ of the string \"abazaba\" is added with the number $$$6$$$, the resulting string is \"ahgfaba\".End of the instruction.After reading the instruction, Anya resigned herself to the fact that she has to answer $$$m$$$ queries. The queries can be of two types:Add the number $$$x$$$ to the substring $$$[l \\\\ldots r]$$$ of string $$$s$$$.Determine whether the substring $$$[l \\\\ldots r]$$$ of string $$$s$$$ isbeautiful.InputThe first line contains an integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) - the number of test cases.The descriptions of the test cases follow.The first line of each test case contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n, m \\\\le 2 \\\\cdot 10^5$$$) - the length of the string $$$s$$$ and the number of queries.The second line of each test case contains the string $$$s$$$ of length $$$n$$$, consisting of lowercase Latin letters.The next $$$m$$$ lines contain the queries:$$$1$$$ $$$l$$$ $$$r$$$ $$$x$$$ ($$$1 \\\\le l \\\\le r \\\\le n$$$, $$$1 \\\\le x \\\\le 10^9$$$) - description of a query of the first type;$$$2$$$ $$$l$$$ $$$r$$$ ($$$1 \\\\le l \\\\le r \\\\le n$$$) - description of a query of the second type.It is guaranteed that the sum of $$$n$$$ and the sum of $$$m$$$ over all test casesdo not exceed$$$2 \\\\cdot 10^5$$$.OutputFor each query of the second type, output \"YES\" if the substring $$$[l \\\\ldots r]$$$ of string $$$s$$$ isbeautiful, otherwise output \"NO\".You can output \"YES\" and \"NO\" in any case (for example, the strings \"yEs\", \"yes\", \"Yes\", and \"YES\" will be recognized as positive answers).ExampleInput512 8tedubcyyxopz2 2 51 4 8 22 1 71 3 5 401 9 11 31 10 10 92 4 102 10 1210 4ubnxwwgzjt2 4 102 10 101 6 10 82 7 711 3hntcxfxyhtu1 4 6 12 4 101 4 10 2113 2yxhlmzfhqctir1 5 9 31 8 13 152 3bp1 1 2 151 1 2 181 2 2 1000000000OutputYES NO NO YES NO YES YES YESNoteIn the first test case of the first test, the following happens:tedubcyyxopz: the stringedubisbeautiful;tedubcyyxopz$$$\\\\to$$$tedwdeaaxopz;tedwdeaaxopz: the stringtedwdeais notbeautifulas it contains the palindromeedwde;tedwdeaaxopz$$$\\\\to$$$terkreaaxopz;terkreaaxopz$$$\\\\to$$$terkreaaarsz;terkreaaarsz$$$\\\\to$$$terkreaaaasz;terkreaaaasz: the stringkreaaaais notbeautifulas it contains the palindromeaaaa;terkreaaaasz: the stringaszisbeautiful.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ea6617d7", "template_md5": "35d339e4", "result": "You are given a string of lowercase letters. You will be asked to perform two types of operations:\n\n1. **Add a number to a substring:**  Add a given number $x$ to each character in a substring of the string.  When adding $x$ to a character, wrap around the alphabet (e.g., adding 6 to 'z' results in 'a').\n\n2. **Check if a substring is beautiful:** A substring is considered \"beautiful\" if it does not contain any substring of length 2 or greater that is a palindrome.\n\nFor each query of type 2, determine if the specified substring is beautiful. \n\n\n\nLet me know if you'd like help with the input/output format or any specific part of the problem."}, {"prompt_md5": "708559ff", "template_md5": "465699a0", "result": "You are given a string. You can perform two operations:\n\n1. Add a number to a substring of the string, shifting each character in the substring forward in the alphabet (wrapping around from 'z' to 'a').\n2. Check if a substring is \"beautiful\", meaning it doesn't contain any substring of length 2 or more that reads the same backward as forward (a palindrome).\n\nAnswer multiple queries asking for whether specific substrings are beautiful after potentially performing the first operation."}]}