{"uid": "915-F", "url": "https://codeforces.com/contest/915/problem/F", "tags": ["data structures", " dsu", " graphs", " trees"], "title": "915-F", "statement": "F. Imbalance Value of a Treetime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a treeTconsisting ofnvertices. A number is written on each vertex; the number written on vertexiisai. Let's denote the functionI(x,y)as the difference between maximum and minimum value ofaion a simple path connecting verticesxandy.Your task is to calculate.InputThe first line contains one integer numbern(1 ≤n≤ 106) — the number of vertices in the tree.The second line containsninteger numbersa1,a2, ...,an(1 ≤ai≤ 106) — the numbers written on the vertices.Thenn- 1lines follow. Each line contains two integersxandydenoting an edge connecting vertexxand vertexy(1 ≤x,y≤n,x≠y). It is guaranteed that these edges denote a tree.OutputPrint one number equal to.ExampleInput42 2 3 11 21 31 4Output6", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1664a843", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices. Each vertex has a number written on it, $a_i$.  \n\nThe function $I(x,y)$ is the difference between the largest and smallest number on a path between vertices $x$ and $y$.\n\nCalculate the sum of $I(x,y)$ for all pairs of vertices $x$ and $y$ in the tree.\n\n**Input:**\n\n* The first line contains an integer $n$ (1 ≤ $n$ ≤ 10⁶) - the number of vertices.\n* The second line contains $n$ integers $a_1, a_2, ..., a_n$ (1 ≤ $a_i$ ≤ 10⁶) - the numbers on the vertices.\n* The next $n-1$ lines each contain two integers $x$ and $y$ (1 ≤ $x$, $y$ ≤ $n$, $x$ ≠ $y$) - representing an edge between vertices $x$ and $y$.\n\n**Output:**\n\n* Print one number - the sum of $I(x,y)$ for all pairs of vertices $x$ and $y$ in the tree."}, {"prompt_md5": "3d955dd5", "template_md5": "465699a0", "result": "You are given a tree-like structure with numbered nodes.  Each node has a value.  Find the largest difference between the highest and lowest value found on any path between two nodes in the tree."}]}