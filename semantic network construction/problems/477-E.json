{"uid": "477-E", "url": "https://codeforces.com/contest/477/problem/E", "tags": ["data structures"], "title": "477-E", "statement": "E. Dreamoon and Notepadtime limit per test3.5 secondsmemory limit per test256 megabytesinputstdinoutputstdoutDreamoon has just created a document of hard problems using notepad.exe. The document consists ofnlines of text,aidenotes the length of thei-th line. He now wants to know what is the fastest way to move the cursor around because the document is really long.Let(r,c)be a current cursor position, whereris row number andcis position of cursor in the row. We have1 ≤r≤nand0 ≤c≤ar.We can use following six operations in notepad.exe to move our cursor assuming the current cursor position is at(r,c):up key: the new cursor position(nr,nc) = (max(r- 1, 1),min(anr,c))down key: the new cursor position(nr,nc) = (min(r+ 1,n),min(anr,c))left key: the new cursor position(nr,nc) = (r,max(0,c- 1))right key: the new cursor position(nr,nc) = (r,min(anr,c+ 1))HOME key: the new cursor position(nr,nc) = (r, 0)END key: the new cursor position(nr,nc) = (r,ar)You're given the document description (nand sequenceai) andqqueries from Dreamoon. Each query asks what minimal number of key presses is needed to move the cursor from(r1,c1)to(r2,c2).InputThe first line contains an integern(1 ≤n≤ 400, 000)— the number of lines of text.The second line containsnintegersa1,a2, ...,an(1 ≤ai≤ 108).The third line contains an integerq(1 ≤q≤ 400, 000).Each of the nextqlines contains four integersr1,c1,r2,c2representing a query (1 ≤r1,r2≤n, 0 ≤c1≤ar1, 0 ≤c2≤ar2).OutputFor each query print the result of the query.ExamplesInput91 3 5 3 1 3 5 3 143 5 3 13 3 7 31 0 3 36 0 7 3Output2532Input210 511 0 1 5Output3NoteIn the first sample, the first query can be solved with keys: HOME, right.The second query can be solved with keys: down, down, down, END, down.The third query can be solved with keys: down, END, down.The fourth query can be solved with keys: END, down.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "9218ec53", "template_md5": "35d339e4", "result": "You are given a document with $n$ lines, where the $i$-th line has a length of $a_i$.  You can move a cursor within the document using the following six operations:\n\n* **up:** Move the cursor up one line, but not beyond the first line.\n* **down:** Move the cursor down one line, but not beyond the last line.\n* **left:** Move the cursor one character to the left, but not beyond the beginning of the line.\n* **right:** Move the cursor one character to the right, but not beyond the end of the line.\n* **HOME:** Move the cursor to the beginning of the current line.\n* **END:** Move the cursor to the end of the current line.\n\nYou are given $q$ queries, each asking for the minimum number of key presses needed to move the cursor from position $(r_1, c_1)$ to position $(r_2, c_2)$ in the document. \n\nFor each query, output the minimum number of key presses required."}, {"prompt_md5": "807cd600", "template_md5": "465699a0", "result": "You are given a document with multiple lines of varying lengths. You can move a cursor within the document using six commands: up, down, left, right, HOME (move to the beginning of the line), and END (move to the end of the line).  \n\nFor each query, you are given a starting position and an ending position in the document. Find the minimum number of commands needed to move the cursor from the starting position to the ending position."}]}