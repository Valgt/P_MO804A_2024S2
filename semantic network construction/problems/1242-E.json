{"uid": "1242-E", "url": "https://codeforces.com/contest/1242/problem/E", "tags": ["constructive algorithms", " graphs"], "title": "1242-E", "statement": "E. Planar Perimetertime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputUjan has finally cleaned up his house and now wants to decorate the interior. He decided to place a beautiful carpet that would really tie the guest room together.He is interested in carpets that are made up of polygonal patches such that each side of a patch is either a side of another (different) patch, or is an exterior side of the whole carpet. In other words, the carpet can be represented as a planar graph, where each patch corresponds to a face of the graph, each face is a simple polygon. The perimeter of the carpet is the number of the exterior sides.Ujan considers a carpet beautiful if it consists of $$$f$$$ patches, where the $$$i$$$-th patch has exactly $$$a_i$$$ sides, and the perimeter is the smallest possible. Find an example of such a carpet, so that Ujan can order it!InputThe first line of input contains a single integer $$$f$$$ ($$$1 \\\\leq f \\\\leq 10^5$$$), the number of patches in the carpet.The next line contains $$$f$$$ integers $$$a_1, \\\\ldots, a_f$$$ ($$$3 \\\\leq a_i \\\\leq 3\\\\cdot 10^5$$$), the number of sides of the patches. The total number of the sides of the patches $$$a_1 + \\\\ldots + a_f$$$ does not exceed $$$3\\\\cdot10^5$$$.OutputOutput the description of the carpet as a graph.First, output a single integer $$$n$$$ ($$$3 \\\\leq n \\\\leq 3 \\\\cdot 10^5$$$), the total number of vertices in your graph (the vertices must be numbered from $$$1$$$ to $$$n$$$).Then output $$$f$$$ lines containing the description of the faces. The $$$i$$$-th line should describe the $$$i$$$-th face and contain $$$a_i$$$ distinct integers $$$v_{i,1}, \\\\ldots, v_{i,a_i}$$$ ($$$1 \\\\leq v_{i,j} \\\\leq n$$$), which means that the vertices $$$v_{i,j}$$$ and $$$v_{i,(j \\\\bmod{a_i})+1}$$$ are connected by an edge for any $$$1 \\\\leq j \\\\leq a_i$$$.The graph should be planar and satisfy the restrictions described in the problem statement. Its perimeter should be the smallest possible.There should be no double edges or self-loops in the graph.The graph should be connected. Note that a solution always exists; if there are multiple solutions, output any of them.ExamplesInput2 3 3Output4 2 1 4  1 2 3Input3 5 3 5Output6 1 2 3 4 5 4 5 6 1 3 4 6 5NoteIn the first sample, the two triangular faces are connected by a single edge, which results in the minimum perimeter $$$4$$$.The figure shows one possible configuration for the second sample. The minimum perimeter in this case is $$$3$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "65e30fc2", "template_md5": "35d339e4", "result": "You are given a number $f$ and $f$ numbers $a_1, a_2, ..., a_f$.  Each $a_i$ represents the number of sides of a polygon.\n\nYou need to create a planar graph where:\n\n* Each face of the graph represents a polygon.\n* The number of sides of each face is given by $a_i$.\n* The graph has the smallest possible perimeter (the number of edges that are on the outside of the graph).\n\nOutput the graph description as follows:\n\n1. The total number of vertices in the graph.\n2. For each face, list its vertices in order, where the first and last vertices are connected."}, {"prompt_md5": "02fc00c5", "template_md5": "465699a0", "result": "You are given a number of shapes and the number of sides each shape has.  Design a connected arrangement of these shapes where each shape connects to other shapes along their sides, forming a single, closed structure. The goal is to make the total number of edges (the \"perimeter\") as small as possible. Describe the arrangement of the shapes."}]}