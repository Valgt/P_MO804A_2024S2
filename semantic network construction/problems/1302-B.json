{"uid": "1302-B", "url": "https://codeforces.com/contest/1302/problem/B", "tags": ["constructive algorithms"], "title": "1302-B", "statement": "B. DAGtime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is an unusual problem in an unusual contest, here is the announcement:http://codeforces.com/blog/entry/73543You are given a directed acyclic graph $$$G$$$ with $$$n$$$ vertices and $$$m$$$ edges. Denote by $$$R(v)$$$ the set of all vertices $$$u$$$ reachable from $$$v$$$ by moving along the edges of $$$G$$$. Find $$$\\\\sum\\\\limits_{v=1}^n |R(v)|^2$$$.InputThe first line contains two integers $$$n, m$$$ ($$$1 \\\\leq n, m \\\\leq 5 \\\\cdot 10^4$$$) denoting the number of vertices and the number of edges of $$$G$$$.Each of the next $$$m$$$ lines contains two integers $$$u, v$$$ ($$$1 \\\\leq u \\\\neq v \\\\leq n$$$), denoting the edge from $$$u$$$ to $$$v$$$.It's guaranteed that the given graph does not contain any cycles.OutputPrint one integer â€” the answer to the problem.ExamplesInput5 4 1 2 2 3 3 4 4 5Output55Input12 6 1 2 3 4 5 6 8 7 10 9 12 11Output30Input7 6 1 2 1 3 2 4 2 5 3 6 3 7Output45", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b35ed2f8", "template_md5": "35d339e4", "result": "You are given a directed acyclic graph  $G$ with $n$ vertices and $m$ edges.  For each vertex $v$, find the set of all vertices $u$ that can be reached from $v$ by following the edges of the graph.  Let's call this set $R(v)$.  Calculate the sum of the squares of the sizes of all these sets:\n\n$$\\sum_{v=1}^n |R(v)|^2$$\n\n**Input:**\n\n* The first line contains two integers $n$ and $m$ ($1 \\leq n, m \\leq 5 \\cdot 10^4$), representing the number of vertices and edges in the graph.\n* Each of the next $m$ lines contains two integers $u$ and $v$ ($1 \\leq u \\neq v \\leq n$), representing an edge from vertex $u$ to vertex $v$.\n\n**Output:**\n\n* Print a single integer representing the calculated sum."}, {"prompt_md5": "ef9d018d", "template_md5": "465699a0", "result": "You are given a network of points connected by one-way paths.  Find the sum of the squares of the number of points reachable from each point."}]}