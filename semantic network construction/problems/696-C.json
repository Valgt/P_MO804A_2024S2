{"uid": "696-C", "url": "https://codeforces.com/contest/696/problem/C", "tags": ["combinatorics", " dp", " implementation", " math", " matrices"], "title": "696-C", "statement": "C. PLEASEtime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputAs we all know Barney's job is \"PLEASE\" and he has not much to do at work. That's why he started playing \"cups and key\". In this game there are three identical cups arranged in a line from left to right. Initially key to Barney's heart is under the middle cup.Then at one turn Barney swaps the cup in the middle with any of other two cups randomly (he choses each with equal probability), so the chosen cup becomes the middle one. Game lastsnturns and Barneyindependently chosesa cup to swap with the middle one within each turn, and the key always remains in the cup it was at the start.Aftern-th turn Barney asks a girl to guess which cup contains the key. The girl points to the middle one but Barney was distracted while making turns and doesn't know if the key is under the middle cup. That's why he asked you to tell him the probability that girl guessed right.Numbernof game turns can be extremely large, that's why Barney did not give it to you. Instead he gave you an arraya1,a2, ...,aksuch thatin other words,nis multiplication of all elements of the given array.Because of precision difficulties, Barney asked you to tell him the answer as an irreducible fraction. In other words you need to find it as a fractionp/qsuch that, whereis the greatest common divisor. Sincepandqcan be extremely large, you only need to find the remainders of dividing each of them by109+ 7.Please note that we wantofpandqto be1,notof their remaindersafter dividing by109+ 7.InputThe first line of input contains a single integerk(1 ≤k≤ 105) — the number of elements in array Barney gave you.The second line containskintegersa1,a2, ...,ak(1 ≤ai≤ 1018) — the elements of the array.OutputIn the only line of output print a single stringx/ywherexis the remainder of dividingpby109+ 7andyis the remainder of dividingqby109+ 7.ExamplesInput12Output1/2Input31 1 1Output0/1", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "bf3bc530", "template_md5": "35d339e4", "result": "There are three cups arranged in a line. Initially, a key is under the middle cup.  \n\nIn each turn, the middle cup is swapped with one of the other two cups randomly. This process is repeated for $n$ turns.\n\nAfter $n$ turns, a person guesses the cup containing the key based on the current middle cup.\n\nYou are given an array $a_1, a_2, ..., a_k$ where $n = a_1 * a_2 * ... * a_k$.\n\nCalculate the probability that the person guessed correctly, and express the answer as a fraction $p/q$ where $p$ and $q$ are the remainders of dividing the numerator and denominator by $10^9 + 7$ respectively."}, {"prompt_md5": "84be3640", "template_md5": "465699a0", "result": "You are given a number k and an array of k numbers.  The product of these numbers represents the number of turns in a game.  In this game, a key is hidden under one of three cups.  Each turn, one of the cups is randomly swapped with the middle cup. After a certain number of turns, a person guesses the cup with the key based on which cup is in the middle. What is the probability the person guessed correctly, expressed as a fraction?"}]}