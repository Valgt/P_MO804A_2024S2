{"uid": "1984-E", "url": "https://codeforces.com/contest/1984/problem/E", "tags": ["dp", " greedy", " trees"], "title": "1984-E", "statement": "E. Shuffletime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputTwo hungry red pandas, Oscar and Lura, have a tree $$$T$$$ with $$$n$$$ nodes. They are willing to perform the followingshuffle procedureon the whole tree $$$T$$$exactly once. With this shuffle procedure, they will create a new tree out of the nodes of the old tree.Choose any node $$$V$$$ from the original tree $$$T$$$. Create a new tree $$$T_2$$$, with $$$V$$$ as the root.Remove $$$V$$$ from $$$T$$$, such that the original tree is split into one or more subtrees (or zero subtrees, if $$$V$$$ is the only node in $$$T$$$).Shuffle each subtree with the same procedure (again choosing any node as the root), then connect all shuffled subtrees' roots back to $$$V$$$ to finish constructing $$$T_2$$$.After this, Oscar and Lura are left with a new tree $$$T_2$$$. They can only eat leaves and are very hungry, so please find the maximum number of leaves over all trees that can be created inexactly oneshuffle.Note that leaves are all nodes with degree $$$1$$$. Thus, the root may be considered as a leaf if it has only one child.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 10^4$$$) — the number of test cases.The first line of every test case contains a single integer $$$n$$$ ($$$2 \\\\leq n \\\\leq 2 \\\\cdot 10^5$$$) — the number of nodes within the original tree $$$T$$$.The next $$$n - 1$$$ lines each contain two integers $$$u$$$ and $$$v$$$ ($$$1 \\\\leq u, v \\\\leq n$$$) — an edge within the original tree $$$T$$$. The given edges form a tree.The sum of $$$n$$$ over all test cases does not exceed $$$3 \\\\cdot 10^5$$$.OutputFor each test case, output a single integer — the maximum number of leaves achievable with exactly one shuffle procedure on the whole tree.ExampleInput451 21 32 42 551 22 33 44 561 21 31 41 51 6109 38 110 68 57 84 61 310 12 7Output4 3 5 6NoteIn the first test case, it can be shown that the maximum number of leaves is $$$4$$$. To accomplish this, we can start our shuffle with selecting node $$$3$$$ as the new root.Next, we are left only with one subtree, in which we can select node $$$2$$$ to be the new root of that subtree.This will force all $$$3$$$ remaining nodes to be leaves, and once we connect them back to our new root, the shuffled subtree looks like this:We connect the shuffled subtree back to our new root of our new tree. Our final tree has four leaves (including the root), and looks like this:In our second test case, we have a line of five nodes. It can be shown that the maximum number of leaves after one shuffle is $$$3$$$. We can start off with node $$$2$$$, which forces node $$$1$$$ to become a leaf. Then, if we select node $$$4$$$ on the right side, we will also have nodes $$$3$$$ and $$$5$$$ as leaves.The third test case is a star graph with six nodes. The number of leaves cannot increase, thus our answer will be $$$5$$$ (if we start the shuffling with the original root node).", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ff0754ed", "template_md5": "35d339e4", "result": "You are given a tree with $n$ nodes.  You can perform a shuffle operation on the tree exactly once.  \n\nTo perform the shuffle:\n\n1. Choose any node $V$ in the tree.\n2. Remove $V$ from the tree, splitting it into subtrees.\n3. Shuffle each subtree by choosing a new root node for each subtree and repeating steps 1 and 2 on each subtree.\n4. Connect the roots of the shuffled subtrees back to node $V$ to form a new tree.\n\nThe goal is to find the maximum number of leaves in any tree that can be created after performing this shuffle operation exactly once.  A leaf is a node with degree 1. \n\n**Input:**\n\n* The first line contains the number of test cases, $t$.\n* For each test case:\n    * The first line contains the number of nodes in the tree, $n$.\n    * The next $n-1$ lines each contain two integers, $u$ and $v$, representing an edge between nodes $u$ and $v$.\n\n**Output:**\n\nFor each test case, output the maximum number of leaves achievable after one shuffle."}, {"prompt_md5": "3503738b", "template_md5": "465699a0", "result": "You are given a tree with a certain number of nodes. You can choose any node to be the root of a new tree.  Then, you recursively apply the same process to each subtree.  What is the maximum number of leaves you can have in the resulting tree after one such operation?"}]}