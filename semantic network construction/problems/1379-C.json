{"uid": "1379-C", "url": "https://codeforces.com/contest/1379/problem/C", "tags": ["binary search", " brute force", " data structures", " dfs and similar", " dp", " greedy", " sortings", " two pointers"], "title": "1379-C", "statement": "C. Choosing flowerstime limit per test1 secondmemory limit per test512 megabytesinputstandard inputoutputstandard outputVladimir would like to prepare a present for his wife: they have an anniversary! He decided to buy herexactly$$$n$$$ flowers.Vladimir went to a flower shop, and he was amazed to see that there are $$$m$$$ types of flowers being sold there, and there is unlimited supply of flowers of each type. Vladimir wants to choose flowers to maximize the happiness of his wife. He knows that after receiving the first flower of the $$$i$$$-th type happiness of his wife increases by $$$a_i$$$ and after receiving each consecutive flower of this type her happiness increases by $$$b_i$$$. That is, if among the chosen flowers there are $$$x_i > 0$$$ flowers of type $$$i$$$, his wife gets $$$a_i + (x_i - 1) \\\\cdot b_i$$$ additional happiness (and if there are no flowers of type $$$i$$$, she gets nothing for this particular type).Please help Vladimir to choose exactly $$$n$$$ flowers to maximize the total happiness of his wife.InputThe first line contains the only integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 10\\\\,000$$$), the number of test cases. It is followed by $$$t$$$ descriptions of the test cases.Each test case description starts with two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n \\\\le 10^9$$$, $$$1 \\\\le m \\\\le 100\\\\,000$$$), the number of flowers Vladimir needs to choose and the number of types of available flowers.The following $$$m$$$ lines describe the types of flowers: each line contains integers $$$a_i$$$ and $$$b_i$$$ ($$$0 \\\\le a_i, b_i \\\\le 10^9$$$) for $$$i$$$-th available type of flowers.The test cases are separated by a blank line. It is guaranteed that the sum of values $$$m$$$ among all test cases does not exceed $$$100\\\\,000$$$.OutputFor each test case output a single integer: the maximum total happiness of Vladimir's wife after choosing exactly $$$n$$$ flowers optimally.ExampleInput2 4 3 5 0 1 4 2 2  5 3 5 2 4 2 3 1Output14 16NoteIn the first example case Vladimir can pick 1 flower of the first type and 3 flowers of the second type, in this case the total happiness equals $$$5 + (1 + 2 \\\\cdot 4) = 14$$$.In the second example Vladimir can pick 2 flowers of the first type, 2 flowers of the second type, and 1 flower of the third type, in this case the total happiness equals $$$(5 + 1 \\\\cdot 2) + (4 + 1 \\\\cdot 2) + 3 = 16$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "9b314a2c", "template_md5": "35d339e4", "result": "You are given $n$ flowers to choose from $m$ different types. Each type of flower has a base happiness value $a_i$ and a bonus happiness value $b_i$ for each additional flower of that type after the first.  \n\nFind the maximum total happiness you can achieve by choosing exactly $n$ flowers. \n\n**Input:**\n\n* $t$: the number of test cases\n* For each test case:\n    * $n$: the number of flowers to choose\n    * $m$: the number of flower types\n    * $a_i$, $b_i$: the base and bonus happiness values for each flower type\n\n**Output:**\n\n* For each test case, output the maximum total happiness achievable."}, {"prompt_md5": "84c9132c", "template_md5": "465699a0", "result": "You have a limited number of items to choose from, each with a base value and an increasing value for each additional item of that type.  Find the combination of items that maximizes the total value."}]}