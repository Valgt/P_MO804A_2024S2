{"uid": "2011-H", "url": "https://codeforces.com/contest/2011/problem/H", "tags": ["*special", " graphs", " greedy"], "title": "2011-H", "statement": "H. Strange Matrixtime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a matrix $$$a$$$ of size $$$n \\\\times m$$$, consisting of integers from $$$0$$$ to $$$31$$$ inclusive.Let's call the matrixstrangeif for every two distinct rows $$$i$$$ and $$$j$$$, both of the following conditions hold:for every set of $$$k$$$ indices $$$(x_1, x_2, \\\\dots, x_k)$$$, where $$$1 \\\\le x_1 < x_2 < \\\\cdots < x_k \\\\le m$$$, the equality $$$a_{i, x_1} \\\\mathbin{\\\\&} a_{j, x_1} \\\\mathbin{\\\\&} a_{i, x_2} \\\\mathbin{\\\\&} a_{j, x_2} \\\\mathbin{\\\\&} \\\\cdots \\\\mathbin{\\\\&} a_{i, x_k} \\\\mathbin{\\\\&} a_{j, x_k} = 0$$$ holds (where $$$\\\\mathbin{\\\\&}$$$ — bitwise AND of two numbers);for every set of $$$k$$$ indices $$$(x_1, x_2, \\\\dots, x_k)$$$, where $$$1 \\\\le x_1 < x_2 < \\\\cdots < x_k \\\\le m$$$, the equality $$$a_{i, x_1} \\\\mathbin{|} a_{j, x_1} \\\\mathbin{|} a_{i, x_2} \\\\mathbin{|} a_{j, x_2} \\\\mathbin{|} \\\\cdots \\\\mathbin{|} a_{i, x_k} \\\\mathbin{|} a_{j, x_k} = 31$$$ holds (where $$$\\\\mathbin{|}$$$ — bitwise OR of two numbers).You can perform the following operation any number of times: take any row of the matrix and a number $$$y$$$ from $$$0$$$ to $$$31$$$ inclusive; then apply the bitwise XOR with the number $$$y$$$ to all elements of the selected row. The cost of such an operation is equal to $$$y$$$.Your task is to calculate the minimum cost to make the matrix strange, or report that it is impossible.InputThe first line contains one integer $$$t$$$ ($$$1 \\\\le t \\\\le 100$$$) — the number of test cases.The first line of each test case contains three integers $$$n$$$, $$$m$$$, and $$$k$$$ ($$$1 \\\\le n, m \\\\le 50$$$; $$$1 \\\\le k \\\\le m$$$).Next, there are $$$n$$$ lines, the $$$i$$$-th of which contains $$$m$$$ integers $$$a_{i, 1}, a_{i, 2}, \\\\dots, a_{i, m}$$$ ($$$0 \\\\le a_{i, j} \\\\le 31$$$).OutputFor each test case, output one integer — the minimum cost to make the matrix strange, or-1if it is impossible to make the matrix strange.ExampleInput32 3 10 1 01 0 13 2 20 12 34 55 5 50 5 17 4 228 5 16 21 97 25 31 30 80 0 5 15 131 2 3 4 5Output30 -1 24", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7fdfe94a", "template_md5": "35d339e4", "result": "You are given a matrix $a$ of size $n \\times m$ filled with integers from 0 to 31.\n\nA matrix is considered \"strange\" if the following conditions hold for all distinct rows $i$ and $j$:\n\n1. For any set of indices $(x_1, x_2, ..., x_k)$ where $1 \\le x_1 < x_2 < ... < x_k \\le m$, the bitwise AND of corresponding elements in rows $i$ and $j$ is 0:\n   \n   $a_{i, x_1} \\mathbin{\\&} a_{j, x_1} \\mathbin{\\&} a_{i, x_2} \\mathbin{\\&} a_{j, x_2} \\mathbin{\\&} ... \\mathbin{\\&} a_{i, x_k} \\mathbin{\\&} a_{j, x_k} = 0$\n\n2. For any set of indices $(x_1, x_2, ..., x_k)$ where $1 \\le x_1 < x_2 < ... < x_k \\le m$, the bitwise OR of corresponding elements in rows $i$ and $j$ is 31:\n\n   $a_{i, x_1} \\mathbin{|} a_{j, x_1} \\mathbin{|} a_{i, x_2} \\mathbin{|} a_{j, x_2} \\mathbin{|} ... \\mathbin{|} a_{i, x_k} \\mathbin{|} a_{j, x_k} = 31$\n\nYou can perform the following operation any number of times:\n\n* Choose a row in the matrix and a number $y$ from 0 to 31.\n* Apply a bitwise XOR operation with $y$ to all elements in the chosen row.\n* The cost of this operation is equal to $y$.\n\nYour task is to find the minimum cost to make the matrix \"strange\", or report that it is impossible."}, {"prompt_md5": "2869afea", "template_md5": "465699a0", "result": "You are given a grid of numbers. You can change each row of the grid by performing a bitwise XOR operation with a number between 0 and 31. The goal is to find the minimum cost to make the grid satisfy these conditions:\n\n1. For any two different rows, if you take the bitwise AND of corresponding elements in the rows, the result is always 0.\n2. For any two different rows, if you take the bitwise OR of corresponding elements in the rows, the result is always 31. \n\n\nIf it's impossible to make the grid satisfy these conditions, output -1."}]}