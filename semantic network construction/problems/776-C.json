{"uid": "776-C", "url": "https://codeforces.com/contest/776/problem/C", "tags": ["binary search", " brute force", " data structures", " implementation", " math"], "title": "776-C", "statement": "C. Molly's Chemicalstime limit per test2.5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputMolly Hooper hasndifferent kinds of chemicals arranged in a line. Each of the chemicals has an affection value, Thei-th of them has affection valueai.Molly wants Sherlock to fall in love with her. She intends to do this by mixing a contiguous segment of chemicals together to make a love potion with total affection value as a non-negativeintegerpower ofk. Total affection value of a continuous segment of chemicals is the sum of affection values of each chemical in that segment.Help her to do so in finding the total number of such segments.InputThe first line of input contains two integers,nandk, the number of chemicals and the number, such that the total affection value is a non-negative power of this numberk. (1 ≤n≤ 105,1 ≤ |k| ≤ 10).Next line containsnintegersa1,a2, ...,an(- 109≤ai≤ 109) — affection values of chemicals.OutputOutput a single integer — the number of valid segments.ExamplesInput4 22 2 2 2Output8Input4 -33 -6 -3 12Output3NoteDo keep in mind thatk0= 1.In the first sample, Molly can get following different affection values:2: segments[1, 1],[2, 2],[3, 3],[4, 4];4: segments[1, 2],[2, 3],[3, 4];6: segments[1, 3],[2, 4];8: segments[1, 4].Out of these,2,4and8are powers ofk= 2. Therefore, the answer is8.In the second sample, Molly can choose segments[1, 2],[3, 3],[3, 4].", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "08c5c5db", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers, where each integer represents the affection value of a chemical.  Find the number of contiguous subarrays (segments) within the array whose sum of elements is a non-negative integer power of a given integer $k$. \n\nFor example, if $n=4$, $k=2$, and the array is $[2, 2, 2, 2]$, then the valid segments are:\n\n* $[1,1]$\n* $[2,2]$\n* $[3,3]$\n* $[4,4]$\n* $[1,2]$\n* $[2,3]$\n* $[3,4]$\n* $[1,4]$\n\nThere are 8 valid segments."}, {"prompt_md5": "c9a0ec0b", "template_md5": "465699a0", "result": "You are given a list of numbers. Find the number of continuous sublists within the list where the sum of the numbers in each sublist is a non-negative power of a given number."}]}