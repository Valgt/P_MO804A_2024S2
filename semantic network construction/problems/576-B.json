{"uid": "576-B", "url": "https://codeforces.com/contest/576/problem/B", "tags": ["constructive algorithms", " dfs and similar", " greedy", " trees"], "title": "576-B", "statement": "B. Invariance of Treetime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputA tree of sizenis an undirected connected graph consisting ofnvertices without cycles.Consider some tree withnvertices. We call a treeinvariantrelative to permutationp=p1p2...pn, if for any two vertices of the treeuandvthe condition holds: \"verticesuandvare connected by an edge if and only if verticespuandpvare connected by an edge\".You are given permutationpof sizen. Find some tree sizen, invariant relative to the given permutation.InputThe first line contains numbern(1 ≤n≤ 105) — the size of the permutation (also equal to the size of the sought tree).The second line contains permutationpi(1 ≤pi≤n).OutputIf the sought tree does not exist, print \"NO\" (without the quotes).Otherwise, print \"YES\", and then printn- 1lines, each of which contains two integers — the numbers of vertices connected by an edge of the tree you found. The vertices are numbered from 1, the order of the edges and the order of the vertices within the edges does not matter.If there are multiple solutions, output any of them.ExamplesInput44 3 2 1OutputYES4 14 21 3Input33 1 2OutputNONoteIn the first sample test a permutation transforms edge (4, 1) into edge (1, 4), edge (4, 2) into edge (1, 3) and edge (1, 3) into edge (4, 2). These edges all appear in the resulting tree.It can be shown that in the second sample test no tree satisfies the given condition.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c0631778", "template_md5": "35d339e4", "result": "You are given a permutation of $n$ numbers.  \n\nYou need to find a tree with $n$ vertices that satisfies the following condition:\n\n* For any two vertices $u$ and $v$ in the tree, they are connected by an edge if and only if the vertices $p_u$ and $p_v$ (where $p_i$ is the $i$-th element in the permutation) are connected by an edge in the permutation's corresponding graph.\n\nIf such a tree exists, print \"YES\" and list the edges of the tree. Otherwise, print \"NO\"."}, {"prompt_md5": "614ae208", "template_md5": "465699a0", "result": "You are given a list of numbers.  Find a way to connect these numbers into a tree (a connected structure with no cycles) where the connections in the tree match the order specified by the list. If such a tree cannot be made, say \"NO\". Otherwise, list the connections in the tree."}]}