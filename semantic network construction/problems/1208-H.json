{"uid": "1208-H", "url": "https://codeforces.com/contest/1208/problem/H", "tags": ["data structures", " implementation", " trees"], "title": "1208-H", "statement": "H. Red Blue Treetime limit per test5 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a tree of $$$n$$$ nodes. The tree is rooted at node $$$1$$$, which is not considered as a leaf regardless of its degree.Each leaf of the tree has one of the two colors:redorblue. Leaf node $$$v$$$ initially has color $$$s_{v}$$$.The color of each of the internal nodes (including the root) is determined as follows.Let $$$b$$$ be the number ofblueimmediate children, and $$$r$$$ be the number ofredimmediate children of a given vertex.Then the color of this vertex isblueif and only if $$$b - r \\\\ge k$$$, otherwisered.Integer $$$k$$$ is a parameter that is same for all the nodes.You need to handle the following types of queries:1 v: print the color of node $$$v$$$;2 v c: change the color of leaf $$$v$$$ to $$$c$$$ ($$$c = 0$$$ means red, $$$c = 1$$$ means blue);3 h: update the current value of $$$k$$$ to $$$h$$$.InputThe first line of the input consists of two integers $$$n$$$ and $$$k$$$ ($$$2 \\\\le n \\\\le 10^{5}$$$, $$$-n \\\\le k \\\\le n$$$) — the number of nodes and the initial parameter $$$k$$$.Each of the next $$$n - 1$$$ lines contains two integers $$$u$$$ and $$$v$$$ ($$$1 \\\\le u,v \\\\le n$$$), denoting that there is an edge between vertices $$$u$$$ and $$$v$$$.The next line consists of $$$n$$$ space separated integers — the initial array $$$s$$$ ($$$-1 \\\\le s_i \\\\le 1$$$). $$$s_{i} = 0$$$ means that the color of node $$$i$$$ is red. $$$s_{i} = 1$$$ means that the color of node $$$i$$$ is blue. $$$s_{i} = -1$$$ means that the node $$$i$$$ is not a leaf.The next line contains an integer $$$q$$$ ($$$1 \\\\le q \\\\le 10^5$$$), the number of queries.$$$q$$$ lines follow, each containing a query in one of the following queries:1 v($$$1 \\\\le v \\\\le n$$$): print the color of node $$$v$$$;2 v c($$$1 \\\\le v \\\\le n$$$, $$$c = 0$$$ or $$$c = 1$$$): change the color of leaf $$$v$$$ to $$$c$$$ ($$$c = 0$$$ means red, $$$c = 1$$$ means blue). It is guaranteed that $$$v$$$ is a leaf;3 h($$$-n \\\\le h \\\\le n$$$): update the current value of $$$k$$$ to $$$h$$$.OutputFor each query of the first type, print $$$0$$$ if the color of vertex $$$v$$$ is red, and $$$1$$$ otherwise.ExampleInput5 2 1 2 1 3 2 4 2 5 -1 -1 0 1 0 9 1 1 1 2 3 -2 1 1 1 2 3 1 2 5 1 1 1 1 2Output0 0 1 1 0 1NoteFigures:(i) The initial tree(ii) The tree after the 3rd query(iii) The tree after the 7th query", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4e20a6fb", "template_md5": "35d339e4", "result": "You are given a tree with $n$ nodes. The tree is rooted at node 1. Each leaf node has a color, either red or blue.  The color of each internal node is determined by the colors of its children:\n\n* If a node has more blue children than red children (by at least $k$), it is blue.\n* Otherwise, it is red.\n\nYou can perform the following operations:\n\n1. **Query:** Find the color of node $v$.\n2. **Change:** Change the color of leaf node $v$ to red (0) or blue (1).\n3. **Update:** Change the value of $k$.\n\nInput:\n\n* The first line contains $n$ and $k$.\n* The next $n-1$ lines describe the tree structure with edges between nodes.\n* The next line contains $n$ integers, where each integer represents the initial color of a node (0 for red, 1 for blue, -1 for internal node).\n* The next line contains $q$, the number of queries.\n* The following $q$ lines describe the queries (1, 2, or 3).\n\nOutput:\n\n* For each query of type 1, print 0 for red and 1 for blue."}, {"prompt_md5": "b12224c9", "template_md5": "465699a0", "result": "You are given a tree with a root node. Each leaf node has a color (red or blue).  The color of each internal node is determined by the number of red and blue children it has. If the number of blue children is greater than or equal to a given value, the node is blue; otherwise, it is red.\n\nYou can perform the following operations:\n\n1.  Find the color of a node.\n2.  Change the color of a leaf node.\n3.  Change the value used to determine the color of internal nodes."}]}