{"uid": "187-C", "url": "https://codeforces.com/contest/187/problem/C", "tags": ["dfs and similar", " dsu"], "title": "187-C", "statement": "C. Weak Memorytime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutZart PMPis qualified for ICPC World Finals in Harbin, China. After team excursion to Sun Island Park for snow sculpture art exposition, PMP should get back to buses before they leave. But the park is really big and he does not know how to find them.The park hasnintersections numbered1throughn. There arembidirectional roads that connect some pairs of these intersections. Atkintersections, ICPC volunteers are helping the teams and showing them the way to their destinations. Locations of volunteers are fixed and distinct.When PMP asks a volunteer the way to bus station, he/she can tell him the whole path. But the park is fully covered with ice and snow and everywhere looks almost the same. So PMP can only memorize at mostqintersections after each question (excluding the intersection they are currently standing). He always tells volunteers about his weak memory and if there is no direct path of length (in number of roads) at mostqthat leads to bus station, the volunteer will guide PMP to another volunteer (who is at mostqintersections away, of course). ICPC volunteers know the area very well and always tell PMP the best way. So if there exists a way to bus stations, PMP will definitely find it.PMP's initial location is intersectionsand the buses are at intersectiont. There will always be a volunteer at intersections. Your job is to find out the minimumqwhich guarantees that PMP can find the buses.InputThe first line contains three space-separated integersn,m,k(2 ≤n≤ 105, 0 ≤m≤ 2·105, 1 ≤k≤n) — the number of intersections, roads and volunteers, respectively. Next line containskdistinct space-separated integers between1andninclusive — the numbers of cities where volunteers are located.Nextmlines describe the roads. Thei-th of these lines contains two space-separated integersui,vi(1 ≤ui,vi≤n,ui≠vi) — two intersections thati-th road connects. There will be at most one road between any two intersections.Last line of input contains two space-separated integerss,t(1 ≤s,t≤n,s≠t) — the initial location of PMP and the location of the buses. It might not always be possible to reachtfroms.It is guaranteed that there is always a volunteer at intersections.OutputPrint on the only line the answer to the problem — the minimum value ofqwhich guarantees that PMP can find the buses. If PMP cannot reach the buses at all, output -1 instead.ExamplesInput6 6 31 3 61 22 34 25 64 53 41 6Output3Input6 5 31 5 61 22 33 44 56 31 5Output3NoteThe first sample is illustrated below. Blue intersections are where volunteers are located. If PMP goes in the path of dashed line, it can reach the buses withq= 3:In the second sample, PMP uses intersection 6 as an intermediate intersection, thus the answer is 3.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2528f332", "template_md5": "35d339e4", "result": "There are $n$ intersections and $m$ roads connecting them.  Each road connects two distinct intersections. There are $k$ volunteers located at specific intersections.  \n\nA person starts at intersection $s$ and wants to reach intersection $t$.  \n\nThe person can ask a volunteer for directions to the destination. Each time they ask a volunteer, they can only remember the locations of at most $q$ intersections (excluding their current location).\n\nVolunteers will always give the shortest possible path to the destination, and there is always a volunteer at each intersection.\n\nFind the minimum value of $q$ that guarantees the person can reach the destination. If it is impossible to reach the destination, output -1."}, {"prompt_md5": "d09aa977", "template_md5": "465699a0", "result": "You are given a map with cities connected by roads. Some cities have helpers. You start at one city and need to reach another. You can only remember the locations of a limited number of cities you've visited.  Find the minimum number of cities you can remember that will allow you to reach your destination, using the helpers to guide you. If it's impossible to reach the destination, output -1."}]}