{"uid": "1990-C", "url": "https://codeforces.com/contest/1990/problem/C", "tags": ["brute force", " greedy", " math"], "title": "1990-C", "statement": "C. Mad MAD Sumtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputWe define the $$$\\\\operatorname{MAD}$$$ (Maximum Appearing Duplicate) in an array as the largest number that appears at least twice in the array. Specifically, if there is no number that appears at least twice, the $$$\\\\operatorname{MAD}$$$ value is $$$0$$$.For example, $$$\\\\operatorname{MAD}([1, 2, 1]) = 1$$$, $$$\\\\operatorname{MAD}([2, 2, 3, 3]) = 3$$$, $$$\\\\operatorname{MAD}([1, 2, 3, 4]) = 0$$$.You are given an array $$$a$$$ of size $$$n$$$. Initially, a variable $$$sum$$$ is set to $$$0$$$.The following process will be executed in a sequential loop until all numbers in $$$a$$$ become $$$0$$$:Set $$$sum := sum + \\\\sum_{i=1}^{n} a_i$$$;Let $$$b$$$ be an array of size $$$n$$$. Set $$$b_i :=\\\\ \\\\operatorname{MAD}([a_1, a_2, \\\\ldots, a_i])$$$ for all $$$1 \\\\le i \\\\le n$$$, and then set $$$a_i := b_i$$$ for all $$$1 \\\\le i \\\\le n$$$.Find the value of $$$sum$$$ after the process.InputThe first line contains an integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 2 \\\\cdot 10^4$$$) — the number of test cases.For each test case:The first line contains an integer $$$n$$$ ($$$1 \\\\leq n \\\\leq 2 \\\\cdot 10^5$$$) — the size of the array $$$a$$$;The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\ldots, a_n$$$ ($$$1 \\\\leq a_i \\\\leq n$$$) — the elements of the array.It is guaranteed that the sum of $$$n$$$ over all test cases will not exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, output the value of $$$sum$$$ in a new line.ExampleInput41132 2 342 1 1 244 4 4 4Output1 13 9 40NoteIn the first test case, $$$a=[1]$$$ initially.In the first loop:Set $$$sum := sum + a_1 = 0+1=1$$$;Set $$$b_1 :=\\\\ \\\\operatorname{MAD}([a_1])=\\\\ \\\\operatorname{MAD}([1])=0$$$, and then set $$$a_1 := b_1$$$.After the first loop, $$$a=[0]$$$ and the process ends. The value of $$$sum$$$ after the process is $$$1$$$.In the second test case, $$$a=[2,2,3]$$$ initially.After the first loop, $$$a=[0,2,2]$$$ and $$$sum=7$$$.After the second loop, $$$a=[0,0,2]$$$ and $$$sum=11$$$.After the third loop, $$$a=[0,0,0]$$$ and $$$sum=13$$$. Then the process ends.The value of $$$sum$$$ after the process is $$$13$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "afdac3b5", "template_md5": "35d339e4", "result": "You are given an array of integers.  You will repeatedly perform the following steps until all the numbers in the array are 0:\n\n1. Calculate the sum of all the numbers in the array and add it to a variable called `sum`.\n2. Create a new array `b` of the same size as the original array. For each index `i` in the array, calculate the largest number that appears at least twice in the subarray from index 1 to `i`. This is called the Maximum Appearing Duplicate (MAD). Store this MAD value in `b[i]`.\n3. Replace the original array with the array `b`.\n\nFind the final value of `sum` after all the numbers in the array are 0."}, {"prompt_md5": "ad0e9702", "template_md5": "465699a0", "result": "You are given a list of numbers.  Repeatedly do the following:\n\n1. Calculate the sum of all the numbers in the list.\n2. Create a new list where each number is the largest number that appears at least twice in the portion of the original list up to that point.\n3. Replace the original list with the new list.\n\nWhat is the sum of all the numbers in the list after this process is complete?"}]}