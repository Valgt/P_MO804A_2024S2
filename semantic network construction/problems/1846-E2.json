{"uid": "1846-E2", "url": "https://codeforces.com/contest/1846/problem/E2", "tags": ["binary search", " brute force", " implementation", " math"], "title": "1846-E2", "statement": "E2. Rudolf and Snowflakes (hard version)time limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is the hard version of the problem. The only difference is that in this version $$$n \\\\le 10^{18}$$$.One winter morning, Rudolf was looking thoughtfully out the window, watching the falling snowflakes. He quickly noticed a certain symmetry in the configuration of the snowflakes. And like a true mathematician, Rudolf came up with a mathematical model of a snowflake.He defined a snowflake as an undirected graph constructed according to the following rules:Initially, the graph has only one vertex.Then, more vertices are added to the graph. The initial vertex is connected by edges to $$$k$$$ new vertices ($$$k > 1$$$).Each vertex that is connected to only one other vertex is connected by edges to $$$k$$$ more new vertices. This step should be doneat least once.The smallest possible snowflake for $$$k = 4$$$ is shown in the figure.After some mathematical research, Rudolf realized that such snowflakes may not have any number of vertices. Help Rudolf check whether a snowflake with $$$n$$$ vertices can exist.InputThe first line of the input contains an integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — the number of test cases.Then follow the descriptions of the test cases.The first line of each test case contains an integer $$$n$$$ ($$$1 \\\\le n \\\\le 10^{18}$$$) — the number of vertices for which it is necessary to check the existence of a snowflake.OutputOutput $$$t$$$ lines, each of which is the answer to the corresponding test case — \"YES\" if there exists such $$$k > 1$$$ that a snowflake with the given number of vertices can be constructed; \"NO\" otherwise.ExampleInput912361315255101011000000000000000000OutputNO NO NO NO YES YES YES YES NO", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d819f305", "template_md5": "35d339e4", "result": "You are given an integer $n$. Determine if there exists an integer $k > 1$ such that a graph with $n$ vertices can be constructed following these rules:\n\n1. The graph starts with a single vertex.\n2.  $k$ new vertices are added and connected to the initial vertex.\n3.  Any vertex connected to only one other vertex is connected to $k$ more new vertices.\n4.  This step (rule 3) must be performed at least once. \n\nOutput \"YES\" if such a graph exists, otherwise output \"NO\"."}, {"prompt_md5": "e1247f84", "template_md5": "465699a0", "result": "Given a number, determine if it's possible to create a specific type of tree-like structure with that many nodes, where the structure follows these rules:\n\n1. Start with a single node.\n2. Add multiple new nodes connected to the original node.\n3.  Each new node added later can only be connected to other nodes."}]}