{"uid": "1789-C", "url": "https://codeforces.com/contest/1789/problem/C", "tags": ["combinatorics", " dp", " implementation", " math"], "title": "1789-C", "statement": "C. Serval and Toxel's Arraystime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputToxel likes arrays. Before traveling to the Paldea region, Serval gave him an array $$$a$$$ as a gift. This array has $$$n$$$pairwise distinctelements.In order to get more arrays, Toxel performed $$$m$$$ operations with the initial array. In the $$$i$$$-th operation, he modified the $$$p_{i}$$$-th element of the $$$(i-1)$$$-th array to $$$v_{i}$$$, resulting in the $$$i$$$-th array (the initial array $$$a$$$ is numbered as $$$0$$$). During modifications, Toxel guaranteed that the elements of each array are stillpairwise distinctafter each operation.Finally, Toxel got $$$m+1$$$ arrays and denoted them as $$$A_{0}=a, A_{1},\\\\ldots,A_{m}$$$. For each pair $$$(i,j)$$$ ($$$0\\\\le i<j\\\\le m$$$), Toxel defines its value as the number of distinct elements of the concatenation of $$$A_{i}$$$ and $$$A_{j}$$$. Now Toxel wonders, what is the sum of the values of all pairs? Please help him to calculate the answer.InputEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1\\\\le t\\\\le10^{4}$$$). The description of the test cases follows.The first line of each test case contains two integers $$$n$$$ and $$$m$$$ ($$$1\\\\le n,m\\\\le2\\\\cdot10^{5}$$$) — the length of the array and the number of operations.The second line of each test case contains $$$n$$$ integers $$$a_{1},a_{2},\\\\dots,a_{n}$$$ ($$$1\\\\le a_{i}\\\\le n+m$$$). It is guaranteed that all $$$a_i$$$ are pairwise distinct.Each of the next $$$m$$$ lines of each test case contains two integers $$$p_{i}$$$ and $$$v_{i}$$$ ($$$1\\\\le p_{i}\\\\le n$$$, $$$1\\\\le v_{i}\\\\le n+m$$$) — the position of the modified element and its new value. It is guaranteed that the elements of each array are still pairwise distinct after each modification.It is guaranteed that the sum of $$$n$$$ and the sum of $$$m$$$ over all test cases do not exceed $$$2\\\\cdot10^{5}$$$.OutputFor each test case, print a single integer — the sum of the values of all pairs of arrays.ExampleInput33 21 2 31 42 51 111 110 104 6 9 12 16 20 2 10 19 71 35 42 172 186 117 18 175 55 52 2Output13 1 705NoteIn the first test case, the arrays change as follows: $$$[1,2,3]\\\\to[\\\\underline{4},2,3]\\\\to[4,\\\\underline{5},3]$$$.The concatenation of the $$$0$$$-th array and the $$$1$$$-st array is $$$\\\\require{cancel}[1,2,3,4,\\\\cancel{2},\\\\cancel{3}]$$$. There are $$$4$$$ distinct elements.The concatenation of the $$$0$$$-th array and the $$$2$$$-nd array is $$$\\\\require{cancel}[1,2,3,4,5,\\\\cancel{3}]$$$. There are $$$5$$$ distinct elements.The concatenation of the $$$1$$$-st array and the $$$2$$$-nd array is $$$\\\\require{cancel}[4,2,3,\\\\cancel{4},5,\\\\cancel{3}]$$$. There are $$$4$$$ distinct elements.Strikethrough elements are duplicates in the array.Therefore, the answer is $$$4+5+4=13$$$.In the second test case, note that the array may remain unchanged after operations.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b86ff990", "template_md5": "35d339e4", "result": "You are given an array of $n$ distinct integers. You perform $m$ operations on this array. In each operation, you choose a position $p_i$ in the array and change the element at that position to a new value $v_i$.  After each operation, the array remains distinct.\n\nYou want to find the sum of the number of distinct elements in all possible concatenations of pairs of the resulting arrays. \n\n**Input:**\n\n* $t$: the number of test cases\n* For each test case:\n    * $n$: the length of the initial array\n    * $m$: the number of operations\n    * $a_1, a_2, ..., a_n$: the elements of the initial array\n    * $p_1, v_1, p_2, v_2, ..., p_m, v_m$: the positions and new values for each operation\n\n**Output:**\n\n* For each test case, print the sum of the number of distinct elements in all possible concatenations of pairs of the resulting arrays."}, {"prompt_md5": "1bb24529", "template_md5": "465699a0", "result": "You are given a list of numbers. You perform a series of operations where you change a specific number in the list to a new value.  After each operation, you have a new list.  You need to find the sum of the number of unique elements in all possible pairs of these lists."}]}