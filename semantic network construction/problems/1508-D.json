{"uid": "1508-D", "url": "https://codeforces.com/contest/1508/problem/D", "tags": ["constructive algorithms", " geometry", " sortings"], "title": "1508-D", "statement": "D. Swap Passtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputBased on a peculiar incident at basketball practice, Akari came up with the following competitive programming problem!You are given $$$n$$$ points on the plane, no three of which are collinear. The $$$i$$$-th point initially has a label $$$a_i$$$, in such a way that the labels $$$a_1, a_2, \\\\dots, a_n$$$ form a permutation of $$$1, 2, \\\\dots, n$$$.You are allowed to modify the labels through the following operation:Choose two distinct integers $$$i$$$ and $$$j$$$ between $$$1$$$ and $$$n$$$.Swap the labels of points $$$i$$$ and $$$j$$$, and finallyDraw the segment between points $$$i$$$ and $$$j$$$.A sequence of operations is valid if after applying all of the operations in the sequence in order, the $$$k$$$-th point ends up having the label $$$k$$$ for all $$$k$$$ between $$$1$$$ and $$$n$$$ inclusive, and the drawn segments don't intersect each other internally. Formally, if two of the segments intersect, then they must do so at a common endpoint of both segments.In particular, all drawn segments must be distinct.Find any valid sequence of operations, or say that none exist.InputThe first line contains an integer $$$n$$$ ($$$3 \\\\le n \\\\le 2000$$$)  — the number of points.The $$$i$$$-th of the following $$$n$$$ lines contains three integers $$$x_i$$$, $$$y_i$$$, $$$a_i$$$ ($$$-10^6 \\\\le x_i, y_i \\\\le 10^6$$$, $$$1 \\\\le a_i \\\\le n$$$), representing that the $$$i$$$-th point has coordinates $$$(x_i, y_i)$$$ and initially has label $$$a_i$$$.It is guaranteed that all points are distinct, no three points are collinear, and the labels $$$a_1, a_2, \\\\dots, a_n$$$ form a permutation of $$$1, 2, \\\\dots, n$$$.OutputIf it is impossible to perform a valid sequence of operations, print $$$-1$$$.Otherwise, print an integer $$$k$$$ ($$$0 \\\\le k \\\\le \\\\frac{n(n - 1)}{2}$$$)  — the number of operations to perform, followed by $$$k$$$ lines, each containing two integers $$$i$$$ and $$$j$$$ ($$$1 \\\\le i, j \\\\le n$$$, $$$i\\\\neq j$$$)  — the indices of the points chosen for the operation.Note that you arenotrequired to minimize or maximize the value of $$$k$$$.If there are multiple possible answers, you may print any of them.ExamplesInput5 -1 -2 2 3 0 5 1 3 4 4 -3 3 5 2 1Output5 1 2 5 3 4 5 1 5 1 3Input3 5 4 1 0 0 2 -3 -2 3Output0NoteThe following animation showcases the first sample test case. The black numbers represent the indices of the points, while the boxed orange numbers represent their labels.In the second test case, all labels are already in their correct positions, so no operations are necessary.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "24f0fe84", "template_md5": "35d339e4", "result": "You are given $n$ points on a plane, no three of which lie on the same line. Each point has a label from 1 to $n$.  \n\nYou can perform the following operation:\n\n1. Choose two distinct points $i$ and $j$.\n2. Swap the labels of points $i$ and $j$.\n3. Draw a line segment between points $i$ and $j$.\n\nA sequence of operations is valid if:\n\n1. After all operations, each point has the same label as its index (e.g., the first point has label 1, the second point has label 2, and so on).\n2. No two line segments intersect except at their endpoints.\n\nFind a valid sequence of operations, or determine if no such sequence exists.\n\nInput:\n\n* The first line contains an integer $n$ ($3 \\le n \\le 2000$) - the number of points.\n* Each of the following $n$ lines contains three integers $x_i$, $y_i$, and $a_i$ ($-10^6 \\le x_i, y_i \\le 10^6$, $1 \\le a_i \\le n$) representing the coordinates $(x_i, y_i)$ and the initial label $a_i$ of the $i$-th point.\n\nOutput:\n\n* If no valid sequence exists, print $-1$.\n* Otherwise, print an integer $k$ ($0 \\le k \\le \\frac{n(n-1)}{2}$) - the number of operations. Then print $k$ lines, each containing two integers $i$ and $j$ ($1 \\le i, j \\le n$, $i \\neq j$) representing the indices of the points chosen for each operation."}, {"prompt_md5": "0b6e3c8b", "template_md5": "465699a0", "result": "You are given a set of points on a plane, each with a number. You can swap the numbers of any two points and draw a line between them.  The goal is to rearrange the numbers so that each point has the same number as its position and no lines intersect except at their endpoints.  Find a way to do this, or say it's impossible."}]}