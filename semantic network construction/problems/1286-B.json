{"uid": "1286-B", "url": "https://codeforces.com/contest/1286/problem/B", "tags": ["constructive algorithms", " data structures", " dfs and similar", " graphs", " greedy", " trees"], "title": "1286-B", "statement": "B. Numbers on Treetime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputEvlampiy was gifted a rooted tree. The vertices of the tree are numbered from $$$1$$$ to $$$n$$$. Each of its vertices also has an integer $$$a_i$$$ written on it. For each vertex $$$i$$$, Evlampiy calculated $$$c_i$$$ — the number of vertices $$$j$$$ in the subtree of vertex $$$i$$$, such that $$$a_j < a_i$$$.Illustration for the second example, the first integer is $$$a_i$$$ and the integer in parentheses is $$$c_i$$$After the new year, Evlampiy could not remember what his gift was! He remembers the tree and the values of $$$c_i$$$, but he completely forgot which integers $$$a_i$$$ were written on the vertices.Help him to restore initial integers!InputThe first line contains an integer $$$n$$$ $$$(1 \\\\leq n \\\\leq 2000)$$$ — the number of vertices in the tree.The next $$$n$$$ lines contain descriptions of vertices: the $$$i$$$-th line contains two integers $$$p_i$$$ and $$$c_i$$$ ($$$0 \\\\leq p_i \\\\leq n$$$; $$$0 \\\\leq c_i \\\\leq n-1$$$), where $$$p_i$$$ is the parent of vertex $$$i$$$ or $$$0$$$ if vertex $$$i$$$ is root, and $$$c_i$$$ is the number of vertices $$$j$$$ in the subtree of vertex $$$i$$$, such that $$$a_j < a_i$$$.It is guaranteed that the values of $$$p_i$$$ describe a rooted tree with $$$n$$$ vertices.OutputIf a solution exists, in the first line print \"YES\", and in the second line output $$$n$$$ integers $$$a_i$$$ $$$(1 \\\\leq a_i \\\\leq {10}^{9})$$$. If there are several solutions, output any of them. One can prove that if there is a solution, then there is also a solution in which all $$$a_i$$$ are between $$$1$$$ and $$$10^9$$$.If there are no solutions, print \"NO\".ExamplesInput3 2 0 0 2 2 0OutputYES 1 2 1Input5 0 1 1 3 2 1 3 0 2 0OutputYES 2 3 2 1 2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4e016663", "template_md5": "465699a0", "result": "You are given a tree with numbered nodes. Each node has a value associated with it. You also know, for each node, how many nodes in its subtree have smaller values.  Can you reconstruct the original values for each node?"}, {"prompt_md5": "a1b7f744", "template_md5": "35d339e4", "result": "You are given a rooted tree with $n$ vertices. Each vertex has a value $a_i$ associated with it. For each vertex $i$, you know the number of vertices $j$ in its subtree where $a_j < a_i$.  \n\nYour task is to determine the original values $a_1, a_2, ..., a_n$. \n\nIf a solution exists, output \"YES\" followed by the values $a_1, a_2, ..., a_n$. If no solution exists, output \"NO\"."}]}