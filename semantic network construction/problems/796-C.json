{"uid": "796-C", "url": "https://codeforces.com/contest/796/problem/C", "tags": ["constructive algorithms", " data structures", " dp", " trees"], "title": "796-C", "statement": "C. Bank Hackingtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAlthough Inzane successfully found his beloved bone, Zane, his owner, has yet to return. To search for Zane, he would need a lot of money, of which he sadly has none. To deal with the problem, he has decided to hack the banks.There arenbanks, numbered from1ton. There are alson- 1wires connecting the banks. All banks are initiallyonline. Each bank also has its initial strength: bankihas initial strengthai.Let us define some keywords before we proceed. Bankiand bankjareneighboringif and only if there exists a wire directly connecting them. Bankiand bankjaresemi-neighboringif and only if there exists anonlinebankksuch that bankiand bankkareneighboringand bankkand bankjareneighboring.When a bank is hacked, it becomesoffline(and no longeronline), and other banks that areneighboringorsemi-neighboringto it have their strengths increased by1.To start his plan, Inzane will choose a bank to hack first. Indeed, the strength of such bank must not exceed the strength of his computer. After this, he will repeatedly choose some bank to hack next until all the banks are hacked, but he can continue to hack bankxif and only if all these conditions are met:Bankxisonline. That is, bankxis not hacked yet.Bankxisneighboringto someofflinebank.The strength of bankxis less than or equal to the strength of Inzane's computer.Determine the minimum strength of the computer Inzane needs to hack all the banks.InputThe first line contains one integern(1 ≤n≤ 3·105) — the total number of banks.The second line containsnintegersa1,a2, ...,an(- 109≤ai≤ 109) — the strengths of the banks.Each of the nextn- 1lines contains two integersuiandvi(1 ≤ui,vi≤n,ui≠vi) — meaning that there is a wire directly connecting banksuiandvi.It is guaranteed that the wires connect the banks in such a way that Inzane can somehow hack all the banks using a computer with appropriate strength.OutputPrint one integer — the minimum strength of the computer Inzane needs to accomplish the goal.ExamplesInput51 2 3 4 51 22 33 44 5Output5Input738 -29 87 93 39 28 -551 22 53 22 41 77 6Output93Input51 2 7 6 71 55 33 42 4Output8NoteIn the first sample, Inzane can hack all banks using a computer with strength5. Here is how:Initially, strengths of the banks are[1, 2, 3, 4, 5].He hacks bank5, then strengths of the banks become[1, 2, 4, 5,  - ].He hacks bank4, then strengths of the banks become[1, 3, 5,  - ,  - ].He hacks bank3, then strengths of the banks become[2, 4,  - ,  - ,  - ].He hacks bank2, then strengths of the banks become[3,  - ,  - ,  - ,  - ].He completes his goal by hacking bank1.In the second sample, Inzane can hack banks4,2,3,1,5,7, and6, in this order. This way, he can hack all banks using a computer with strength93.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7d3163e2", "template_md5": "35d339e4", "result": "There are $n$ banks, each with an initial strength $a_i$.  The banks are connected by $n-1$ wires.  \n\nWhen a bank is hacked, it becomes offline and the strength of all its neighboring banks and semi-neighboring banks is increased by 1.\n\nA bank is neighboring to another bank if there is a direct wire connecting them. A bank is semi-neighboring to another bank if there is an online bank that is both neighboring to the first bank and neighboring to the second bank.\n\nYou start with a computer of a certain strength. You must choose a bank to hack first.  The strength of the chosen bank must be less than or equal to the strength of your computer.  After hacking a bank, you can continue to hack other banks as long as:\n\n* The bank is online (not yet hacked).\n* The bank is neighboring to at least one offline bank.\n* The strength of the bank is less than or equal to the strength of your computer.\n\nDetermine the minimum strength your computer needs to have in order to hack all the banks."}, {"prompt_md5": "a206d6f5", "template_md5": "465699a0", "result": "You are given a number of nodes, each with a strength value. Some nodes are connected by edges.  You need to find the minimum strength required to \"hack\" all nodes, following these rules:\n\n* You start by hacking a node with a strength less than or equal to your computer's strength.\n* You can only hack a node that is connected to a previously hacked node.\n* Hacking a node increases the strength of all its connected nodes."}]}