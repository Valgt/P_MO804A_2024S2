{"uid": "840-B", "url": "https://codeforces.com/contest/840/problem/B", "tags": ["constructive algorithms", " data structures", " dfs and similar", " dp", " graphs"], "title": "840-B", "statement": "B. Leha and another game about graphtime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLeha plays a computer game, where is on each level is given a connected graph withnvertices andmedges. Graph can contain multiple edges, but can not contain self loops. Each vertex has an integerdi, which can be equal to0,1or- 1. To pass the level, he needs to find a «good» subset of edges of the graph or say, that it doesn't exist. Subset is called «good», if by by leaving only edges from this subset in the original graph, we obtain the following: for every vertex i,di=  - 1 or it's degree modulo 2 is equal todi. Leha wants to pass the game as soon as possible and ask you to help him. In case of multiple correct answers, print any of them.InputThe first line contains two integersn,m(1 ≤n≤ 3·105,n- 1 ≤m≤ 3·105) — number of vertices and edges.The second line containsnintegersd1,d2, ...,dn(- 1 ≤di≤ 1) — numbers on the vertices.Each of the nextmlines contains two integersuandv(1 ≤u,v≤n) — edges. It's guaranteed, that graph in the input is connected.OutputPrint- 1in a single line, if solution doesn't exist. Otherwise in the first linek— number of edges in a subset. In the nextklines indexes of edges. Edges are numerated in order as they are given in the input, starting from1.ExamplesInput1 01Output-1Input4 50 0 0 -11 22 33 41 42 4Output0Input2 11 11 2Output11Input3 30 -1 11 22 31 3Output12NoteIn the first sample we have single vertex without edges. It's degree is 0 and we can not get 1.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "22db0c44", "template_md5": "35d339e4", "result": "You are given a connected graph with $n$ vertices and $m$ edges. Each vertex has an integer value $d_i$ which can be 0, 1, or -1. \n\nA subset of edges is considered \"good\" if, after removing all other edges and keeping only those in the subset, the degree of each vertex (the number of edges connected to it) modulo 2 is equal to $d_i$.\n\nDetermine if a \"good\" subset of edges exists. If it does, output the number of edges in the subset and list the edges. If no such subset exists, output -1."}, {"prompt_md5": "a4bec9f3", "template_md5": "465699a0", "result": "Given a connected graph with vertices and edges, each vertex has a value (-1, 0, or 1).  Find a subset of edges such that for every vertex, its degree (number of connected edges) in the subgraph formed by the chosen edges is either -1 or has the same parity (even or odd) as the vertex's value. If no such subset exists, output -1. Otherwise, output the number of edges in the subset and the indices of those edges."}]}