{"uid": "1045-A", "url": "https://codeforces.com/contest/1045/problem/A", "tags": ["data structures", " flows", " graph matchings", " graphs", " trees"], "title": "1045-A", "statement": "A. Last chancetime limit per test2 secondsmemory limit per test128 megabytesinputstandard inputoutputstandard outputIt is the year 2969. 1000 years have passed from the moon landing. Meanwhile, the humanity colonized the Hyperspace™ and lived in harmony.Until we realized that we were not alone.Not too far away from the Earth, the massive fleet of aliens' spaceships is preparing to attack the Earth. For the first time in a while, the humanity is in real danger. Crisis and panic are everywhere. The scientists from all around the solar system have met and discussed the possible solutions. However, no progress has been made.The Earth's last hope is YOU!Fortunately, the Earth is equipped with very powerful defense systems made by MDCS. There are $$$N$$$ aliens' spaceships which form the line. The defense system consists of three types of weapons:SQL rockets – every SQL rocket can destroy at most one spaceship in the given set.Cognition beams – every Cognition beam has an interval $$$[l,r]$$$ and can destroy at most one spaceship in that interval.OMG bazooka – every OMG bazooka has three possible targets, however, each bazooka can destroy either zero or exactly two spaceships. In addition, due to the smart targeting system, the sets of the three possible targets of any two different OMG bazookas are disjoint (that means that every ship is targeted with at most one OMG bazooka).Your task is to make a plan of the attack which will destroy the largest possible number of spaceships. Every destroyed spaceship should be destroyed with exactly one weapon.InputThe first line contains two integers: the number of your weapons $$$N$$$ $$$(1\\\\leq N\\\\leq 5000)$$$ and the number of spaceships $$$M$$$ $$$(1\\\\leq M\\\\leq 5000)$$$.In the next $$$N$$$ lines, each line starts with one integer that represents type (either 0, 1 or 2). If the type is 0, then the weapon is SQL rocket, the rest of the line contains strictly positive number $$$K$$$ $$$(\\\\sum{K} \\\\leq 100 000)$$$ and array $$$k_i$$$ $$$(1\\\\leq k_i\\\\leq M)$$$ of $$$K$$$ integers. If the type is 1, then the weapon is Cognition beam, the rest of the line contains integers $$$l$$$ and $$$r$$$ $$$(1\\\\leq l\\\\leq r\\\\leq M)$$$. If the type is 2 then the weapon is OMG bazooka, the rest of the line contains distinct numbers $$$a$$$, $$$b$$$ and $$$c$$$ $$$ (1 \\\\leq a,b,c \\\\leq M)$$$.OutputThe first line should contain the maximum number of destroyed spaceships — $$$X$$$.In the next $$$X$$$ lines, every line should contain two numbers $$$A$$$ and $$$B$$$, where $$$A$$$ is an index of the weapon and $$$B$$$ is an index of the spaceship which was destroyed by the weapon $$$A$$$.ExampleInput3 50 1 42 5 4 11 1 4Output42 13 21 42 5NoteSQL rocket can destroy only 4th spaceship. OMG Bazooka can destroy two of 1st, 4th or 5th spaceship, and Cognition beam can destroy any spaceship from the interval $$$[1,4]$$$. The maximum number of destroyed spaceship is 4, and one possible plan is that SQL rocket should destroy 4th spaceship, OMG bazooka should destroy 1st and 5th spaceship and Cognition beam should destroy 2nd spaceship.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b504e110", "template_md5": "35d339e4", "result": "You are given $N$ weapons and $M$ spaceships.  \n\nThere are three types of weapons:\n\n* **SQL rockets:** Each SQL rocket can destroy exactly one spaceship. You are given $K$ targets for each SQL rocket.\n* **Cognition beams:** Each Cognition beam can destroy at most one spaceship within a given interval $[l, r]$.\n* **OMG bazookas:** Each OMG bazooka can destroy either zero or two spaceships from a set of three targets. No two OMG bazookas share any targets.\n\nYour goal is to determine the maximum number of spaceships you can destroy using these weapons, ensuring that each spaceship is destroyed by exactly one weapon.\n\n**Input:**\n\n* The first line contains two integers: $N$ (the number of weapons) and $M$ (the number of spaceships).\n* The next $N$ lines describe each weapon:\n    * If the weapon type is 0 (SQL rocket), the line contains $K$ and a list of $K$ target spaceship indices.\n    * If the weapon type is 1 (Cognition beam), the line contains two integers $l$ and $r$ representing the interval.\n    * If the weapon type is 2 (OMG bazooka), the line contains three distinct integers $a$, $b$, and $c$ representing the targets.\n\n**Output:**\n\n* The first line should contain the maximum number of destroyed spaceships, $X$.\n* The next $X$ lines should each contain two numbers: the weapon index and the spaceship index that was destroyed by that weapon."}, {"prompt_md5": "e07fa6d9", "template_md5": "465699a0", "result": "You have a set of weapons with different attack ranges and capabilities.  You need to choose a combination of weapons to destroy as many targets as possible, with each target destroyed by only one weapon."}]}