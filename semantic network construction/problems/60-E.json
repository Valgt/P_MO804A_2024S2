{"uid": "60-E", "url": "https://codeforces.com/contest/60/problem/E", "tags": ["math", " matrices"], "title": "60-E", "statement": "E. Mushroom Gnomestime limit per test3 secondsmemory limit per test256 megabytesinputstdinoutputstdoutOnce upon a time in the thicket of the mushroom forest lived mushroom gnomes. They were famous among their neighbors for their magic mushrooms. Their magic nature made it possible that between every two neighboring mushrooms every minute grew another mushroom with the weight equal to the sum of weights of two neighboring ones.The mushroom gnomes loved it when everything was in order, that's why they always planted the mushrooms in one line in the order of their weights' increasing. Well... The gnomes planted the mushrooms and went to eat. Afterxminutes they returned and saw that new mushrooms had grown up, so that the increasing order had been violated. The gnomes replanted all the mushrooms in the correct order, that is, they sorted the mushrooms in the order of the weights' increasing. And went to eat again (those gnomes were quite big eaters). What total weights modulopwill the mushrooms have in anotheryminutes?InputThe first line contains four integersn,x,y,p(1 ≤n≤ 106, 0 ≤x,y≤ 1018,x+y> 0, 2 ≤p≤ 109) which represent the number of mushrooms, the number of minutes after the first replanting, the number of minutes after the second replanting and the module. The next line containsnintegersaiwhich represent the mushrooms' weight in the non-decreasing order (0 ≤ai≤ 109).Please, do not use%lldspecificator to read or write 64-bit integers in C++. It is preffered to usecin(also you may use%I64d).OutputThe answer should contain a single number which is the total weights of the mushrooms modulopin the end afterx+yminutes.ExamplesInput2 1 0 6572765451 2Output6Input2 1 1 8884502821 2Output14Input4 5 0 100001 2 3 4Output1825", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b23e035e", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers, $a_1, a_2, ..., a_n$, representing the weights of mushrooms.  Every minute, a new mushroom grows between each pair of existing mushrooms, with the weight of the new mushroom being the sum of the weights of its neighbors.\n\nYou are asked to find the total weight of all mushrooms after $x$ minutes and then another $y$ minutes, modulo $p$. \n\n**Input:**\n\n* $n$: the number of mushrooms\n* $x$: the number of minutes after the first calculation\n* $y$: the number of minutes after the second calculation\n* $p$: the modulo value\n* $a_1, a_2, ..., a_n$: the weights of the mushrooms\n\n**Output:**\n\n* The total weight of all mushrooms after $x+y$ minutes, modulo $p$."}, {"prompt_md5": "00970b1c", "template_md5": "465699a0", "result": "You are given a list of numbers representing the weights of items.  Every minute, each item's weight doubles, and the weight of a new item is the sum of the weights of the two items next to it.  \n\nYou need to find the total weight of all the items after a certain number of minutes, modulo a given number."}]}