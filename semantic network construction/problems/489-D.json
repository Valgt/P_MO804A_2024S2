{"uid": "489-D", "url": "https://codeforces.com/contest/489/problem/D", "tags": ["brute force", " combinatorics", " dfs and similar", " graphs"], "title": "489-D", "statement": "D. Unbearable Controversy of Beingtime limit per test1 secondmemory limit per test256 megabytesinputstdinoutputstdoutTomash keeps wandering off and getting lost while he is walking along the streets of Berland. It's no surprise! In his home town, for any pair of intersections there is exactly one way to walk from one intersection to the other one. The capital of Berland is very different!Tomash has noticed that even simple cases of ambiguity confuse him. So, when he sees a group of four distinct intersectionsa,b,candd, such that there are two paths fromatoc— one throughband the other one throughd, he calls the group a \"damn rhombus\". Note that pairs(a,b),(b,c),(a,d),(d,c)should be directly connected by the roads. Schematically, a damn rhombus is shown on the figure below:Other roads between any of the intersections don't make the rhombus any more appealing to Tomash, so the four intersections remain a \"damn rhombus\" for him.Given that the capital of Berland hasnintersections andmroads and all roads are unidirectional and are known in advance, find the number of \"damn rhombi\" in the city.When rhombi are compared, the order of intersectionsbandddoesn't matter.InputThe first line of the input contains a pair of integersn,m(1 ≤n≤ 3000, 0 ≤m≤ 30000) — the number of intersections and roads, respectively. Nextmlines list the roads, one per line. Each of the roads is given by a pair of integersai,bi(1 ≤ai,bi≤n;ai≠bi) — the number of the intersection it goes out from and the number of the intersection it leads to. Between a pair of intersections there is at most one road in each of the two directions.It is not guaranteed that you can get from any intersection to any other one.OutputPrint the required number of \"damn rhombi\".ExamplesInput5 41 22 31 44 3Output1Input4 121 21 31 42 12 32 43 13 23 44 14 24 3Output12", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1be89cff", "template_md5": "35d339e4", "result": "Given a city with $n$ intersections and $m$ one-way roads, find the number of sets of four distinct intersections that form a \"rhombus\".  \n\nA rhombus is defined as four intersections ($a$, $b$, $c$, $d$) where there are two paths from intersection $a$ to intersection $c$:\n\n* One path goes through intersection $b$.\n* The other path goes through intersection $d$.\n\nNote that the order of $b$ and $d$ does not matter.\n\n**Input:**\n\n* The first line contains two integers, $n$ and $m$ ($1 \\le n \\le 3000$, $0 \\le m \\le 30000$), representing the number of intersections and roads, respectively.\n* The next $m$ lines each contain two integers, $a_i$ and $b_i$ ($1 \\le a_i, b_i \\le n$, $a_i \\neq b_i$), representing a road going from intersection $a_i$ to intersection $b_i$.\n\n**Output:**\n\nPrint the number of \"rhombi\" in the city."}, {"prompt_md5": "6a9e9b9f", "template_md5": "465699a0", "result": "Given a network of roads connecting cities, find the number of sets of four cities where there are two distinct paths between the first and fourth city."}]}