{"uid": "1217-D", "url": "https://codeforces.com/contest/1217/problem/D", "tags": ["constructive algorithms", " dfs and similar", " graphs"], "title": "1217-D", "statement": "D. Coloring Edgestime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a directed graph with $$$n$$$ vertices and $$$m$$$ directed edges without self-loops or multiple edges.Let's denote the $$$k$$$-coloring of a digraph as following: you color each edge in one of $$$k$$$ colors. The $$$k$$$-coloring isgoodif and only if there no cycle formed by edges of same color.Find a good $$$k$$$-coloring of given digraph with minimum possible $$$k$$$.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$2 \\\\le n \\\\le 5000$$$, $$$1 \\\\le m \\\\le 5000$$$) — the number of vertices and edges in the digraph, respectively.Next $$$m$$$ lines contain description of edges — one per line. Each edge is a pair of integers $$$u$$$ and $$$v$$$ ($$$1 \\\\le u, v \\\\le n$$$, $$$u \\\\ne v$$$) — there is directed edge from $$$u$$$ to $$$v$$$ in the graph.It is guaranteed that each ordered pair $$$(u, v)$$$ appears in the list of edges at most once.OutputIn the first line print single integer $$$k$$$ — the number of used colors in a good $$$k$$$-coloring of given graph.In the second line print $$$m$$$ integers $$$c_1, c_2, \\\\dots, c_m$$$ ($$$1 \\\\le c_i \\\\le k$$$), where $$$c_i$$$ is a color of the $$$i$$$-th edge (in order as they are given in the input).If there are multiple answers print any of them (you still have to minimize $$$k$$$).ExamplesInput4 5 1 2 1 3 3 4 2 4 1 4Output1 1 1 1 1 1Input3 3 1 2 2 3 3 1Output2 1 1 2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f014faad", "template_md5": "35d339e4", "result": "You are given a directed graph with $n$ vertices and $m$ directed edges.  No edge points to itself, and no two edges have the same endpoints.\n\nA *k*-coloring of the graph is an assignment of one of $k$ colors to each edge. A *k*-coloring is *good* if no cycle in the graph consists entirely of edges of the same color.\n\nFind the smallest possible value of $k$ for which a good *k*-coloring exists, and provide one such coloring."}, {"prompt_md5": "57f4a62e", "template_md5": "465699a0", "result": "You are given a directed graph.  Find the smallest number of colors needed to color the edges so that no cycle of edges has the same color.  Output the number of colors used and the color of each edge."}]}