{"uid": "497-E", "url": "https://codeforces.com/contest/497/problem/E", "tags": ["dp", " matrices"], "title": "497-E", "statement": "E. Subsequences Returntime limit per test1 secondmemory limit per test256 megabytesinputstdinoutputstdoutAssume thatsk(n)equals the sum of digits of numbernin thek-based notation. For example,s2(5) =s2(1012) = 1 + 0 + 1 = 2,s3(14) =s3(1123) = 1 + 1 + 2 = 4.The sequence of integersa0, ...,an- 1is defined as. Your task is to calculate the number of distinctsubsequencesof sequencea0, ...,an- 1. Calculate the answer modulo109+ 7.Sequencea1, ...,akis called to be asubsequenceof sequenceb1, ...,bl, if there is a sequence of indices1 ≤i1< ... <ik≤l, such thata1=bi1, ...,ak=bik. In particular, an empty sequence (i.e. the sequence consisting of zero elements) is a subsequence of any sequence.InputThe first line contains two space-separated numbersnandk(1 ≤n≤ 1018,2 ≤k≤ 30).OutputIn a single line print the answer to the problem modulo109+ 7.ExamplesInput4 2Output11Input7 7Output128NoteIn the first sample the sequenceailooks as follows:(0, 1, 1, 0). All the possible subsequences are:(), (0), (0, 0), (0, 1), (0, 1, 0), (0, 1, 1), (0, 1, 1, 0), (1), (1, 0), (1, 1), (1, 1, 0).In the second sample the sequenceailooks as follows:(0, 1, 2, 3, 4, 5, 6). The subsequences of this sequence are exactly all increasing sequences formed from numbers from 0 to 6. It is easy to see that there are27= 128such sequences.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a89633d6", "template_md5": "35d339e4", "result": "You are given a sequence of integers $a_0, a_1, ..., a_{n-1}$.  Each integer in the sequence is defined based on a given base $k$.  The function $s_k(n)$ calculates the sum of the digits of the number $n$ when written in base $k$. For example, $s_2(5) = s_2(1012) = 1 + 0 + 1 = 2$ and $s_3(14) = s_3(1123) = 1 + 1 + 2 = 4$.\n\nYour task is to find the number of distinct subsequences of the sequence $a_0, a_1, ..., a_{n-1}$.  Calculate the answer modulo $10^9 + 7$.\n\n**Input:**\n\n* Two space-separated integers $n$ and $k$ ($1 \\le n \\le 10^{18}$, $2 \\le k \\le 30$).\n\n**Output:**\n\n* A single line containing the number of distinct subsequences modulo $10^9 + 7$."}, {"prompt_md5": "49ee9d1d", "template_md5": "465699a0", "result": "You are given a sequence of numbers.  Find the number of unique subsequences within that sequence. A subsequence is a sequence of numbers taken from the original sequence, in any order, without removing any numbers.  The answer should be given modulo 10^9 + 7."}]}