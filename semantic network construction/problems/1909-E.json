{"uid": "1909-E", "url": "https://codeforces.com/contest/1909/problem/E", "tags": ["bitmasks", " brute force", " constructive algorithms", " math", " number theory"], "title": "1909-E", "statement": "E. Multiple Lampstime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputKid2Will - Fire Aura⠀You have $$$n$$$ lamps, numbered from $$$1$$$ to $$$n$$$. Initially, all the lamps are turned off.You also have $$$n$$$ buttons. The $$$i$$$-th button toggles all the lamps whose index is a multiple of $$$i$$$. When a lamp is toggled, if it was off it turns on, and if it was on it turns off.You have to press some buttons according to the following rules.You have to press at least one button.You cannot press the same button multiple times.You are given $$$m$$$ pairs $$$(u_i, v_i)$$$. If you press the button $$$u_i$$$, you also have to press the button $$$v_i$$$ (at any moment, not necessarily after pressing the button $$$u_i$$$). Note that, if you press the button $$$v_i$$$, you don't need to press the button $$$u_i$$$.You don't want to waste too much electricity. Find a way to press buttons such that at the end at most $$$\\\\lfloor n/5 \\\\rfloor$$$ lamps are on, or print $$$-1$$$ if it is impossible.InputEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$). The description of the test cases follows.The first line of each test case contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\leq n \\\\leq 2 \\\\cdot 10^5$$$, $$$0 \\\\leq m \\\\leq 2 \\\\cdot 10^5$$$) — the number of lamps and the number of pairs, respectively.Each of the next $$$m$$$ lines contains two integers $$$u_i$$$, $$$v_i$$$ ($$$1 \\\\leq u_i, v_i \\\\leq n$$$, $$$u_i \\\\neq v_i$$$). If you press the button $$$u_i$$$, you also have to press the button $$$v_i$$$. It is guaranteed that the pairs $$$(u_i, v_i)$$$ are distinct.It is guaranteed that the sum of $$$n$$$ and the sum of $$$m$$$ over all test cases do not exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case:If there is no choice of buttons that makes at most $$$\\\\lfloor n/5 \\\\rfloor$$$ lamps on at the end, output a single line containing $$$-1$$$.Otherwise, output two lines. The first line should contain an integer $$$k$$$ ($$$1 \\\\le k \\\\le n$$$) — the number of pressed buttons. The second line should contain $$$k$$$ integers $$$b_1, b_2, \\\\dots, b_k$$$ ($$$1 \\\\le b_i \\\\le n$$$) — the indices of the pressed buttons (in any order). The $$$b_i$$$ must be distinct, and at the end at most $$$\\\\lfloor n/5 \\\\rfloor$$$ lamps must be turned on.ExampleInput44 05 24 15 115 97 88 99 1010 911 112 213 314 415 55 41 22 33 44 5Output-1 4 3 5 1 2 3 8 9 10 1 5NoteIn the first test case, you need to turn at most $$$\\\\lfloor 4/5 \\\\rfloor$$$ lamps on, which means that no lamp can be turned on. You can show that no choice of at least one button turns $$$0$$$ lamps on.In the second test case, you can press buttons $$$3$$$, $$$5$$$, $$$1$$$, $$$2$$$.Initially, all the lamps are off;after pressing button $$$3$$$, the lamps whose index is a multiple of $$$3$$$ (i.e., $$$3$$$) are toggled, so lamp $$$3$$$ is turned on;after pressing button $$$5$$$, the lamps whose index is a multiple of $$$5$$$ (i.e., $$$5$$$) are toggled, so lamps $$$3$$$, $$$5$$$ are turned on;after pressing button $$$1$$$, the lamps whose index is a multiple of $$$1$$$ (i.e., $$$1$$$, $$$2$$$, $$$3$$$, $$$4$$$, $$$5$$$) are toggled, so lamps $$$1$$$, $$$2$$$, $$$4$$$ are turned on;after pressing button $$$2$$$, the lamps whose index is a multiple of $$$2$$$ (i.e., $$$2$$$, $$$4$$$) are toggled, so lamp $$$1$$$ is turned on.This is valid becauseyou pressed at least one button;you pressed all the buttons at most once;you pressed button $$$u_2 = 5$$$, which means that you had to also press button $$$v_2 = 1$$$: in fact, button $$$1$$$ has been pressed;at the end, only lamp $$$1$$$ is on.In the third test case, pressing the buttons $$$8$$$, $$$9$$$, $$$10$$$ turns only the lamps $$$8$$$, $$$9$$$, $$$10$$$ on.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7f9bfdbf", "template_md5": "35d339e4", "result": "You have $n$ lamps, numbered from 1 to $n$. Initially, all lamps are off. You have $n$ buttons. The $i$-th button toggles all the lamps whose index is a multiple of $i$.  \n\nYou must press at least one button, and you cannot press the same button multiple times. You are given $m$ pairs $(u_i, v_i)$. If you press button $u_i$, you must also press button $v_i$ (not necessarily immediately after).  You do not need to press $u_i$ if you press $v_i$.\n\nFind a way to press buttons so that at most $\\lfloor n/5 \\rfloor$ lamps are on at the end. If this is impossible, output -1. \n\n**Input:**\n\n* The first line contains the number of test cases $t$ ($1 \\le t \\le 10^4$).\n* For each test case:\n    * The first line contains two integers $n$ and $m$ ($1 \\le n \\le 2 \\cdot 10^5$, $0 \\le m \\le 2 \\cdot 10^5$) — the number of lamps and the number of pairs, respectively.\n    * Each of the next $m$ lines contains two integers $u_i$ and $v_i$ ($1 \\le u_i, v_i \\le n$, $u_i \\neq v_i$).\n\n**Output:**\n\n* For each test case:\n    * If it's impossible to have at most $\\lfloor n/5 \\rfloor$ lamps on, output -1.\n    * Otherwise, output two lines:\n        * The first line should contain an integer $k$ ($1 \\le k \\le n$) — the number of pressed buttons.\n        * The second line should contain $k$ integers $b_1, b_2, ..., b_k$ ($1 \\le b_i \\le n$) — the indices of the pressed buttons (in any order). The $b_i$ must be distinct, and at the end at most $\\lfloor n/5 \\rfloor$ lamps must be turned on."}, {"prompt_md5": "26c35d48", "template_md5": "465699a0", "result": "You have a set of lights. Each light can be turned on or off. You have buttons, and each button controls a specific set of lights.  You must press at least one button, and you can't press the same button twice.  Some buttons are linked: if you press one, you must also press another.  Your goal is to find a way to press buttons so that at most a certain number of lights are on at the end. If this is impossible, say so."}]}