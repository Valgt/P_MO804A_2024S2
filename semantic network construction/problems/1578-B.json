{"uid": "1578-B", "url": "https://codeforces.com/contest/1578/problem/B", "tags": ["data structures", " dsu"], "title": "1578-B", "statement": "B. Building Forest Trailstime limit per test3 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputThere are $$$n$$$ villages lying equidistant on a circle in the middle of a thick, impassable forest. From ancient times, it was impossible to move from one village to another, but technical progress has changed a lot. Now, there is a technology to build passable trails in the forest.The building process consists of $$$m$$$ events. Each event is either building a trail or querying if two villages are connected. Trails are built as straight lines connecting two villages. After a trail is built, anybody can walk along the trail from one village to another.Moreover, if two trails cross, anybody can turn at the intersection, and if other trails leave a village you have just reached, they can also be used to walk along. So, for example, if villages are numbered $$$1$$$ to $$$6$$$ in the order around the circle, and there are trails $$$1$$$ to $$$3$$$, $$$2$$$ to $$$4$$$, and $$$4$$$ to $$$6$$$, then all villages, except the $$$5$$$-th, are reachable from the $$$1$$$-st village.Given a list of $$$m$$$ events, for each query, find if two given villages are reachable from each other at that moment.InputThe first line contains two integers $$$n$$$ ($$$2 \\\\le n \\\\le 2\\\\cdot 10^5$$$) and $$$m$$$ ($$$1 \\\\le m \\\\le 3\\\\cdot 10^5$$$) — the number of villages and the number of events respectively.Next $$$m$$$ lines contain events. Each event description consists of three integers $$$e$$$ ($$$e$$$ is $$$1$$$ or $$$2$$$), $$$v$$$ ($$$1 \\\\le v \\\\le n$$$), and $$$u$$$ ($$$1 \\\\le u \\\\le n$$$, $$$u \\\\ne v$$$). If $$$e = 1$$$, then the event is building a trail between villages $$$v$$$ and $$$u$$$. If $$$e = 2$$$, then the event is a query if the villages $$$v$$$ and $$$u$$$ are connected. It is guaranteed that each trail is built at most once.Villages are numbered $$$1$$$ to $$$n$$$ in clockwise order around the circle.OutputFor each query print one character '0' if villages are not reachable, and '1' if villages are reachable from each other. Print answers for all queries as a single string in one line.ExamplesInput6 9 1 1 3 1 4 6 2 3 4 1 2 4 2 1 2 2 1 3 2 1 4 2 6 1 2 5 3Output011110Input2 5 2 1 2 2 2 1 1 1 2 2 1 2 2 2 1Output0011", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4f2e352f", "template_md5": "35d339e4", "result": "There are $n$ villages arranged in a circle. You can build trails between villages. Each trail connects two villages with a straight line.  \n\nYou are given $m$ events. Each event is either:\n\n* **Building a trail:**  Connect villages $v$ and $u$ with a trail.\n* **Query:** Check if villages $v$ and $u$ are connected (reachable from each other) by trails.\n\nAfter each building event, determine if the given query villages are connected.\n\n**Input:**\n\n* The first line contains two integers, $n$ (the number of villages) and $m$ (the number of events).\n* The next $m$ lines describe the events. Each line has three integers:\n    * $e$ (1 for building a trail, 2 for a query)\n    * $v$ (the first village)\n    * $u$ (the second village)\n\n**Output:**\n\n* Print a string of '0's and '1's, where each character represents the answer to a query. '0' means the villages are not connected, '1' means they are connected."}, {"prompt_md5": "a3571a67", "template_md5": "465699a0", "result": "You have a number of cities arranged in a circle. You can build roads between cities.  You are given a list of actions: build a road between two cities or check if two cities are connected by a road. For each check, say if the cities are connected or not."}]}