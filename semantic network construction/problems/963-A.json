{"uid": "963-A", "url": "https://codeforces.com/contest/963/problem/A", "tags": ["math", " number theory"], "title": "963-A", "statement": "A. Alternating Sumtime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given two integers $$$a$$$ and $$$b$$$. Moreover, you are given a sequence $$$s_0, s_1, \\\\dots, s_{n}$$$. All values in $$$s$$$ are integers $$$1$$$ or $$$-1$$$. It's known that sequence is $$$k$$$-periodic and $$$k$$$ divides $$$n+1$$$. In other words, for each $$$k \\\\leq i \\\\leq n$$$ it's satisfied that $$$s_{i} = s_{i - k}$$$.Find out thenon-negativeremainder of division of $$$\\\\sum \\\\limits_{i=0}^{n} s_{i} a^{n - i} b^{i}$$$ by $$$10^{9} + 9$$$.Note that the modulo is unusual!InputThe first line contains four integers $$$n, a, b$$$ and $$$k$$$ $$$(1 \\\\leq n \\\\leq 10^{9}, 1 \\\\leq a, b \\\\leq 10^{9}, 1 \\\\leq k \\\\leq 10^{5})$$$.The second line contains a sequence of length $$$k$$$ consisting of characters '+' and '-'.If the $$$i$$$-th character (0-indexed) is '+', then $$$s_{i} = 1$$$, otherwise $$$s_{i} = -1$$$.Note that only the first $$$k$$$ members of the sequence are given, the rest can be obtained using the periodicity property.OutputOutput a single integer — value of given expression modulo $$$10^{9} + 9$$$.ExamplesInput2 2 3 3+-+Output7Input4 1 5 1-Output999999228NoteIn the first example:$$$(\\\\sum \\\\limits_{i=0}^{n} s_{i} a^{n - i} b^{i})$$$ = $$$2^{2} 3^{0} - 2^{1} 3^{1} + 2^{0} 3^{2}$$$ = 7In the second example:$$$(\\\\sum \\\\limits_{i=0}^{n} s_{i} a^{n - i} b^{i}) = -1^{4} 5^{0} - 1^{3} 5^{1} - 1^{2} 5^{2} - 1^{1} 5^{3} - 1^{0} 5^{4} = -781 \\\\equiv 999999228 \\\\pmod{10^{9} + 9}$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1e26b7be", "template_md5": "35d339e4", "result": "You are given two integers $a$ and $b$, and a sequence of $k$ integers $s_0, s_1, ..., s_{k-1}$. Each integer in the sequence is either 1 or -1.  \n\nThe sequence is *k*-periodic, meaning that for any $k \\le i \\le n$, $s_i = s_{i-k}$.\n\nYou need to find the non-negative remainder when the following expression is divided by $10^9 + 9$:\n\n$$\\sum_{i=0}^{n} s_i a^{n-i} b^i$$\n\nwhere $n$ is a multiple of $k$.\n\nThe input will give you $n$, $a$, $b$, $k$, and the first $k$ elements of the sequence."}, {"prompt_md5": "ec55c237", "template_md5": "465699a0", "result": "You are given a repeating sequence of +1s and -1s, and two numbers a and b.  Calculate the sum of  (a^(n-i) * b^i * sequence[i]) for i from 0 to n, and find the remainder when divided by 10^9 + 9."}]}