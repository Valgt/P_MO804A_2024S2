{"uid": "1558-E", "url": "https://codeforces.com/contest/1558/problem/E", "tags": ["binary search", " dfs and similar", " graphs", " greedy", " meet-in-the-middle", " shortest paths"], "title": "1558-E", "statement": "E. Down Belowtime limit per test5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputIn a certain video game, the player controls a hero characterized by a single integer value:power.On the current level, the hero got into a system of $$$n$$$ caves numbered from $$$1$$$ to $$$n$$$, and $$$m$$$ tunnels between them. Each tunnel connects two distinct caves. Any two caves are connected with at most one tunnel. Any cave can be reached from any other cave by moving via tunnels.The hero starts the level in cave $$$1$$$, and every other cave contains a monster.The hero can move between caves via tunnels. If the hero leaves a cave and enters a tunnel, he must finish his movement and arrive at the opposite end of the tunnel.The hero can use each tunnel to move in both directions. However, the herocan notuse the same tunneltwice in a row. Formally, if the hero has just moved from cave $$$i$$$ to cave $$$j$$$ via a tunnel, he can not head back to cave $$$i$$$ immediately after, but he can head to any other cave connected to cave $$$j$$$ with a tunnel.It is known that at least two tunnels come out of every cave, thus, the hero will never find himself in a dead end even considering the above requirement.To pass the level, the hero must beat the monsters in all the caves. When the hero enters a cave for the first time, he will have to fight the monster in it. The hero can beat the monster in cave $$$i$$$ if and only if the hero's power is strictly greater than $$$a_i$$$. In case of beating the monster, the hero's power increases by $$$b_i$$$. If the hero can't beat the monster he's fighting, the game ends and the player loses.After the hero beats the monster in cave $$$i$$$, all subsequent visits to cave $$$i$$$ won't have any consequences: the cave won't have any monsters, and the hero's power won't change either.Find the smallest possible power the hero must start the level with to be able to beat all the monsters and pass the level.InputEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\\\le t \\\\le 100$$$). Description of the test cases follows.The first line of each test case contains two integers $$$n$$$ and $$$m$$$ ($$$3 \\\\le n \\\\le 1000$$$; $$$n \\\\le m \\\\le min(\\\\frac{n(n-1)}{2}, 2000)$$$) — the number of caves and tunnels.The second line contains $$$n-1$$$ integers $$$a_2, a_3, \\\\ldots, a_n$$$ ($$$1 \\\\le a_i \\\\le 10^9$$$) — values the hero's power are compared to while fighting monsters in caves $$$2, 3, \\\\ldots, n$$$.The third line contains $$$n-1$$$ integers $$$b_2, b_3, \\\\ldots, b_n$$$ ($$$1 \\\\le b_i \\\\le 10^9$$$) — increases applied to the hero's power for beating monsters in caves $$$2, 3, \\\\ldots, n$$$.Each of the next $$$m$$$ lines contains two integers $$$u_i$$$ and $$$v_i$$$ ($$$1 \\\\le u_i, v_i \\\\le n$$$; $$$u_i \\\\ne v_i$$$) — the numbers of caves connected with a tunnel.No two caves are connected with more than one tunnel. Any cave can be reached from any other cave by moving via tunnels. At least two tunnels come out of every cave.It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$1000$$$, and the sum of $$$m$$$ over all test cases does not exceed $$$2000$$$.OutputFor each test case print a single integer — the smallest possible power the hero must start the level with to be able to beat all the monsters and pass the level.ExampleInput3 4 4 11 22 13 8 7 5 1 2 2 3 3 4 4 1 4 4 11 22 13 5 7 8 1 2 2 3 3 4 4 1 5 7 10 40 20 30 7 2 10 5 1 2 1 5 2 3 2 4 2 5 3 4 4 5Output15 15 19NoteIn the first test case, the hero can pass the level with initial power $$$15$$$ as follows:move from cave $$$1$$$ to cave $$$2$$$: since $$$15 > 11$$$, the hero beats the monster, and his power increases to $$$15 + 8 = 23$$$;move from cave $$$2$$$ to cave $$$3$$$: since $$$23 > 22$$$, the hero beats the monster, and his power increases to $$$23 + 7 = 30$$$;move from cave $$$3$$$ to cave $$$4$$$: since $$$30 > 13$$$, the hero beats the monster, and his power increases to $$$30 + 5 = 35$$$.In the second test case, the situation is similar except that the power increases for beating monsters in caves $$$2$$$ and $$$4$$$ are exchanged. The hero can follow a different route, $$$1 \\\\rightarrow 4 \\\\rightarrow 3 \\\\rightarrow 2$$$, and pass the level with initial power $$$15$$$.In the third test case, the hero can pass the level with initial power $$$19$$$ as follows:move from cave $$$1$$$ to cave $$$2$$$: since $$$19 > 10$$$, the hero beats the monster, and his power increases to $$$19 + 7 = 26$$$;move from cave $$$2$$$ to cave $$$4$$$: since $$$26 > 20$$$, the hero beats the monster, and his power increases to $$$26 + 10 = 36$$$;move from cave $$$4$$$ to cave $$$5$$$: since $$$36 > 30$$$, the hero beats the monster, and his power increases to $$$36 + 5 = 41$$$;move from cave $$$5$$$ to cave $$$2$$$: there is no monster in this cave anymore, nothing happens;move from cave $$$2$$$ to cave $$$3$$$: since $$$41 > 40$$$, the hero beats the monster, and his power increases to $$$41 + 2 = 43$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8ef639bf", "template_md5": "35d339e4", "result": "You are given a graph with $n$ nodes and $m$ edges. Each node represents a cave, and each edge represents a tunnel connecting two caves.  The hero starts at node 1. Each node except node 1 has a monster with a certain strength $a_i$. The hero can defeat a monster if their power is greater than the monster's strength.  \n\nAfter defeating a monster, the hero's power increases by a certain amount $b_i$. The hero can move between caves through tunnels. However, the hero cannot use the same tunnel twice in a row.\n\nFind the minimum power the hero needs to start with to defeat all the monsters and complete the level."}, {"prompt_md5": "ef4be64b", "template_md5": "465699a0", "result": "You are given a graph with nodes representing caves and edges representing tunnels. Each cave has a monster with a certain strength. You start at a specific cave and must defeat all monsters to win. You have a power level that increases when you defeat a monster. You can only move through tunnels once in a row. Find the minimum power level you need to start with to defeat all monsters."}]}