{"uid": "817-D", "url": "https://codeforces.com/contest/817/problem/D", "tags": ["data structures", " divide and conquer", " dsu", " sortings"], "title": "817-D", "statement": "D. Imbalanced Arraytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an arrayaconsisting ofnelements. Theimbalance valueof some subsegment of this array is the difference between the maximum and minimum element from this segment. Theimbalance valueof the array is the sum ofimbalance valuesof all subsegments of this array.For example, theimbalance valueof array[1, 4, 1]is9, because there are6different subsegments of this array:[1](from index1to index1),imbalance valueis0;[1, 4](from index1to index2),imbalance valueis3;[1, 4, 1](from index1to index3),imbalance valueis3;[4](from index2to index2),imbalance valueis0;[4, 1](from index2to index3),imbalance valueis3;[1](from index3to index3),imbalance valueis0;You have to determine theimbalance valueof the arraya.InputThe first line contains one integern(1 ≤n≤ 106) — size of the arraya.The second line containsnintegersa1,a2...an(1 ≤ai≤ 106) — elements of the array.OutputPrint one integer — theimbalance valueofa.ExampleInput31 4 1Output9", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4856609d", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers.  The imbalance of a subsegment of the array is the difference between the maximum and minimum elements in that subsegment. The imbalance of the entire array is the sum of the imbalances of all its subsegments.\n\nFor example, for the array $[1, 4, 1]$, the imbalances of the subsegments are:\n\n* $[1]$: imbalance = 0\n* $[1, 4]$: imbalance = 3\n* $[1, 4, 1]$: imbalance = 3\n* $[4]$: imbalance = 0\n* $[4, 1]$: imbalance = 3\n* $[1]$: imbalance = 0\n\nThe total imbalance of the array is $0 + 3 + 3 + 0 + 3 + 0 = 9$.\n\nGiven an array of $n$ integers, find the total imbalance of the array."}, {"prompt_md5": "1352de43", "template_md5": "465699a0", "result": "You are given a list of numbers.  Calculate the sum of the differences between the largest and smallest number in every possible sublist of the original list."}]}