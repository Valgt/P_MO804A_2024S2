{"uid": "1809-G", "url": "https://codeforces.com/contest/1809/problem/G", "tags": ["combinatorics", " dp", " math"], "title": "1809-G", "statement": "G. Predictiontime limit per test4 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputConsider a tournament with $$$n$$$ participants. The rating of the $$$i$$$-th participant is $$$a_i$$$.The tournament will be organized as follows. First of all, organizers will assign each participant an index from $$$1$$$ to $$$n$$$. All indices will be unique. Let $$$p_i$$$ be the participant who gets the index $$$i$$$.Then, $$$n-1$$$ games will be held. In the first game, participants $$$p_1$$$ and $$$p_2$$$ will play. In the second game, the winner of the first game will play against $$$p_3$$$. In the third game, the winner of the second game will play against $$$p_4$$$, and so on — in the last game, the winner of the $$$(n-2)$$$-th game will play against $$$p_n$$$.Monocarp wants to predict the results of all $$$n-1$$$ games (of course, he will do the prediction only after the indices of the participants are assigned). He knows for sure that, when two participants with ratings $$$x$$$ and $$$y$$$ play, and $$$|x - y| > k$$$, the participant with the higher rating wins. But if $$$|x - y| \\\\le k$$$, any of the two participants may win.Among all $$$n!$$$ ways to assign the indices to participants, calculate the number of ways to do this so that Monocarp can predict the results ofall$$$n-1$$$ games. Since the answer can be large, print it modulo $$$998244353$$$.InputThe first line contains two integers $$$n$$$ and $$$k$$$ ($$$2 \\\\le n \\\\le 10^6$$$; $$$0 \\\\le k \\\\le 10^9$$$).The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$0 \\\\le a_1 \\\\le a_2 \\\\le \\\\dots \\\\le a_n \\\\le 10^9$$$).OutputPrint one integer — the number of ways to assign the indices to the participants so that Monocarp can predict the results of all $$$n-1$$$ games.ExamplesInput4 3 7 12 17 21Output24Input3 7 4 9 28Output4Input4 1 1 2 3 4Output0Input4 1 1 2 2 4Output12Input16 30 8 12 15 27 39 44 49 50 51 53 58 58 59 67 68 100Output527461297NoteIn the first example, a match with any pair of players can be predicted by Monocarp, so all $$$24$$$ ways to assign indices should be counted.In the second example, suitable ways are $$$[1, 3, 2]$$$, $$$[2, 3, 1]$$$, $$$[3, 1, 2$$$] and $$$[3, 2, 1]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "02c4512d", "template_md5": "35d339e4", "result": "You are given $n$ numbers ($a_1, a_2, ..., a_n$) representing the ratings of $n$ participants in a tournament.  \n\nThe tournament will be a single-elimination bracket.  \n\n* Participants will be assigned unique numbers from 1 to $n$.\n* In the first round, participant 1 will play participant 2.\n* The winner of the first round will play participant 3 in the second round, and so on.\n* The last participant will automatically advance to the final round.\n\nYou know that if the difference in ratings between two participants is greater than $k$, the higher-rated participant will win. If the difference is less than or equal to $k$, either participant could win.\n\nHow many different ways can you assign the numbers to the participants so that you can predict the winner of every round?  \n\nThe answer may be very large, so print it modulo 998244353."}, {"prompt_md5": "f308ddc1", "template_md5": "465699a0", "result": "You have a tournament with  'n' players, each with a rating.  Two players will play against each other if the difference in their ratings is greater than 'k'. If the difference is less than or equal to 'k', the winner is unpredictable.  \n\nDetermine the number of ways to arrange the players so that the outcome of every match can be predicted based on their ratings."}]}