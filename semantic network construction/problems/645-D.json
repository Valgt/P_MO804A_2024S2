{"uid": "645-D", "url": "https://codeforces.com/contest/645/problem/D", "tags": ["binary search", " dp", " graphs"], "title": "645-D", "statement": "D. Robot Rapping Results Reporttime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputWhile Farmer John rebuilds his farm in an unfamiliar portion of Bovinia, Bessie is out trying some alternative jobs. In her new gig as a reporter, Bessie needs to know about programming competition results as quickly as possible. When she covers the 2016 Robot Rap Battle Tournament, she notices that all of the robots operate under deterministic algorithms. In particular, robotiwill beat robotjif and only if robotihas a higher skill level than robotj. And if robotibeats robotjand robotjbeats robotk, then robotiwill beat robotk. Since rapping is such a subtle art, two robots can never have the same skill level.Given the results of the rap battles in the order in which they were played, determine theminimum numberof first rap battles that needed to take place before Bessie could order all of the robots by skill level.InputThe first line of the input consists of two integers, the number of robotsn(2 ≤n≤ 100 000) and the number of rap battlesm().The nextmlines describe the results of the rap battles in the order they took place. Each consists of two integersuiandvi(1 ≤ui,vi≤n,ui≠vi), indicating that robotuibeat robotviin thei-th rap battle. No two rap battles involve the same pair of robots.It is guaranteed that at least one ordering of the robots satisfies allmrelations.OutputPrint the minimumksuch that the ordering of the robots by skill level is uniquely defined by the firstkrap battles. If there exists more than one ordering that satisfies allmrelations, output-1.ExamplesInput4 52 11 32 34 24 3Output4Input3 21 23 2Output-1NoteIn the first sample, the robots from strongest to weakest must be(4, 2, 1, 3), which Bessie can deduce after knowing the results of the first four rap battles.In the second sample, both(1, 3, 2)and(3, 1, 2)are possible orderings of the robots from strongest to weakest after both rap battles.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0c8e7048", "template_md5": "35d339e4", "result": "You are given a list of rap battle results. Each result indicates that one robot beat another.  \n\nDetermine the minimum number of rap battles that need to occur so that the skill level of all robots can be uniquely determined. \n\n**Input:**\n\n* The first line contains two integers: \n    *  $n$: the number of robots (2 ≤ $n$ ≤ 100,000)\n    *  $m$: the number of rap battle results\n* The next $m$ lines each contain two integers:\n    * $u$ and $v$ (1 ≤ $u$, $v$ ≤ $n$, $u$ ≠ $v$) indicating that robot $u$ beat robot $v$.\n\n**Output:**\n\n* Print the minimum $k$ such that the skill level of all robots can be uniquely determined based on the first $k$ rap battles. \n* If there is no such $k$ (meaning multiple orderings are possible), print -1."}, {"prompt_md5": "496ead30", "template_md5": "465699a0", "result": "You are given a list of wins in a competition.  Each win indicates one competitor beat another.  Find the fewest number of wins needed to determine the ranking of all competitors from strongest to weakest. If it's impossible to uniquely determine the ranking, output -1."}]}