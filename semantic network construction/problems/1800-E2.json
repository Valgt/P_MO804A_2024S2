{"uid": "1800-E2", "url": "https://codeforces.com/contest/1800/problem/E2", "tags": ["brute force", " constructive algorithms", " dfs and similar", " dsu", " graphs", " greedy", " strings"], "title": "1800-E2", "statement": "E2. Unforgivable Curse (hard version)time limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is a complex version of the problem. This version has no additional restrictions on the number $$$k$$$.The chief wizard of the Wizengamot once caught the evil wizard Drahyrt, but the evil wizard has returned and wants revenge on the chief wizard. So he stolespell$$$s$$$ from his student Harry.Thespell— is a $$$n$$$-length string of lowercase Latin letters.Drahyrt wants to replacespellwith an unforgivable curse — string $$$t$$$.Dragirt, using ancient magic, can swap letters at a distance $$$k$$$ or $$$k+1$$$ inspellas many times as he wants. In other words, Drahyrt can change letters in positions $$$i$$$ and $$$j$$$ inspell$$$s$$$ if $$$|i-j|=k$$$ or $$$|i-j|=k+1$$$.For example, if $$$k = 3, s = $$$ \"talant\" and $$$t = $$$ \"atltna\", Drahyrt can act as follows:swap the letters at positions $$$1$$$ and $$$4$$$ to getspell\"aaltnt\".swap the letters at positions $$$2$$$ and $$$6$$$ to getspell\"atltna\".You are givenspells$$$s$$$ and $$$t$$$. Can Drahyrt changespell$$$s$$$ to $$$t$$$?InputThe first line of input gives a single integer $$$T$$$ ($$$1 \\\\le T \\\\le 10^4$$$) — the number of test cases in the test.Descriptions of the test cases are follow.The first line contains two integers $$$n, k$$$ ($$$1 \\\\le n \\\\le 2 \\\\cdot 10^5$$$, $$$1 \\\\le k \\\\le 2 \\\\cdot 10^5$$$) — the lengthspellsand the number $$$k$$$ such that Drahyrt can change letters in a spell at a distance $$$k$$$ or $$$k+1$$$.The second line givesspell$$$s$$$ — a string of length $$$n$$$ consisting of lowercase Latin letters.The third line givesspell$$$t$$$ — a string of length $$$n$$$ consisting of lowercase Latin letters.It is guaranteed that the sum of $$$n$$$ values over all test cases does not exceed $$$2 \\\\cdot 10^5$$$. Note that there is no limit on the sum of $$$k$$$ values over all test cases.OutputFor each test case, output on a separate line \"YES\" if Drahyrt can changespell$$$s$$$ to $$$t$$$ and \"NO\" otherwise.You can output the answer in any case (for example, lines \"yEs\", \"yes\", \"Yes\" and \"YES\" will be recognized as positive answer).ExampleInput76 3talantatltna7 1abacabaaaaabbc12 6abracadabraaavadakedavra5 3acciocicao5 4lumosmolus4 3uwjttwju4 3kvpxvxpkOutputYES YES NO YES NO YES NONoteThe first case is explained in the condition.In the second case, we can swap adjacent letters, so we can sort the string using bubble sorting, for example.In the third case, we can show that from the string $$$s$$$ we cannot get the string $$$t$$$ by swapping letters at a distance of $$$6$$$ or $$$7$$$.In the fourth case, for example, the following sequence of transformations is appropriate:\"accio\" $$$\\\\rightarrow$$$ \"aocic\" $$$\\\\rightarrow$$$ \"cocia\" $$$\\\\rightarrow$$$ \"iocca\" $$$\\\\rightarrow$$$ \"aocci\" $$$\\\\rightarrow$$$ \"aicco\" $$$\\\\rightarrow$$$ \"cicao\"In the fifth case, we can show that it is impossible to get the string $$$s$$$ from the string $$$t$$$.In the sixth example, it is enough to swap the two outermost letters.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "03b81d97", "template_md5": "35d339e4", "result": "You are given two strings,  $s$ and $t$, both of length $n$.  You are also given an integer $k$.  \n\nYou can perform the following operation on $s$ any number of times:\n\n* Choose two indices $i$ and $j$ where $|i-j| = k$ or $|i-j| = k+1$.\n* Swap the characters at positions $i$ and $j$ in $s$.\n\nDetermine if it is possible to transform $s$ into $t$ using these operations. \n\n**Input:**\n\n* The first line contains an integer $T$ ($1 \\le T \\le 10^4$) representing the number of test cases.\n* For each test case:\n    * The first line contains two integers $n$ and $k$ ($1 \\le n \\le 2 \\cdot 10^5$, $1 \\le k \\le 2 \\cdot 10^5$).\n    * The second line contains the string $s$ of length $n$.\n    * The third line contains the string $t$ of length $n$.\n\n**Output:**\n\nFor each test case, output \"YES\" if it is possible to transform $s$ into $t$, and \"NO\" otherwise."}, {"prompt_md5": "4ad86768", "template_md5": "465699a0", "result": "You are given two strings of equal length. You can swap any two characters in the first string if they are a fixed distance apart (either  'k' or 'k+1' positions away). Can you transform the first string into the second string using these swaps?"}]}