{"uid": "311-D", "url": "https://codeforces.com/contest/311/problem/D", "tags": ["data structures", " math"], "title": "311-D", "statement": "D. Interval Cubingtime limit per test6 secondsmemory limit per test256 megabytesinputstdinoutputstdoutWhile learning Computational Geometry, Tiny is simultaneously learning a useful data structure called segment tree or interval tree. He has scarcely grasped it when comes out a strange problem:Given an integer sequencea1,a2, ...,an. You should runqqueries of two types:Given two integerslandr(1 ≤l≤r≤n), ask the sum of all elements in the sequenceal,al+ 1, ...,ar.Given two integerslandr(1 ≤l≤r≤n), let each elementxin the sequenceal,al+ 1, ...,arbecomesx3. In other words, apply an assignmentsal=al3,al+ 1=al+ 13, ...,ar=ar3.For every query of type 1, output the answer to it.Tiny himself surely cannot work it out, so he asks you for help. In addition, Tiny is a prime lover. He tells you that because the answer may be too huge, you should only output it modulo95542721(this number is a prime number).InputThe first line contains an integern(1 ≤n≤ 105), representing the length of the sequence. The second line containsnspace-separated integersa1,a2, ...,an(0 ≤ai≤ 109).The third line contains an integerq(1 ≤q≤ 105), representing the number of queries. Then followqlines. Each line contains three integersti(1 ≤ti≤ 2),li,ri(1 ≤li≤ri≤n), wheretistands for the type of the query whileliandriis the parameters of the query, correspondingly.OutputFor each 1-type query, print the answer to it per line.You should notice that each printed number should be non-negative and less than95542721.ExamplesInput81 2 3 4 5 6 7 851 2 52 2 51 2 52 3 61 4 7Output142242215492", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d71b62c3", "template_md5": "35d339e4", "result": "You are given an array of integers $a_1, a_2, ..., a_n$.  You need to process $q$ queries. There are two types of queries:\n\n* **Type 1:** Given integers $l$ and $r$ ($1 \\le l \\le r \\le n$), find the sum of the elements in the subarray $a_l, a_{l+1}, ..., a_r$.\n* **Type 2:** Given integers $l$ and $r$ ($1 \\le l \\le r \\le n$), cube each element in the subarray $a_l, a_{l+1}, ..., a_r$.  \n\nFor each Type 1 query, output the sum modulo 95542721."}, {"prompt_md5": "f521007f", "template_md5": "465699a0", "result": "You are given a list of numbers.  You need to answer two types of queries:\n\n1. Find the sum of numbers in a given range of the list.\n2. Cube each number in a given range of the list.\n\nAfter each query of type 1, print the sum modulo 95542721."}]}