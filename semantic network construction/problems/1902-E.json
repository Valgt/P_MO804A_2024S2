{"uid": "1902-E", "url": "https://codeforces.com/contest/1902/problem/E", "tags": ["data structures", " strings", " trees"], "title": "1902-E", "statement": "E. Collapsing Stringstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given $$$n$$$ strings $$$s_1, s_2, \\\\dots, s_n$$$, consisting of lowercase Latin letters. Let $$$|x|$$$ be the length of string $$$x$$$.Let acollapse$$$C(a, b)$$$ of two strings $$$a$$$ and $$$b$$$ be the following operation:if $$$a$$$ is empty, $$$C(a, b) = b$$$;if $$$b$$$ is empty, $$$C(a, b) = a$$$;if the last letter of $$$a$$$ is equal to the first letter of $$$b$$$, then $$$C(a, b) = C(a_{1,|a|-1}, b_{2,|b|})$$$, where $$$s_{l,r}$$$ is the substring of $$$s$$$ from the $$$l$$$-th letter to the $$$r$$$-th one;otherwise, $$$C(a, b) = a + b$$$, i. e. the concatenation of two strings.Calculate $$$\\\\sum\\\\limits_{i=1}^n \\\\sum\\\\limits_{j=1}^n |C(s_i, s_j)|$$$.InputThe first line contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 10^6$$$).Each of the next $$$n$$$ lines contains a string $$$s_i$$$ ($$$1 \\\\le |s_i| \\\\le 10^6$$$), consisting of lowercase Latin letters.The total length of the strings doesn't exceed $$$10^6$$$.OutputPrint a single integer — $$$\\\\sum\\\\limits_{i=1}^n \\\\sum\\\\limits_{j=1}^n |C(s_i, s_j)|$$$.ExamplesInput3abaabbaOutput20Input5ababbabxxabxbababOutput126", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "562cab7e", "template_md5": "35d339e4", "result": "You are given $n$ strings.  For each pair of strings, perform the following operation:\n\n* If one string is empty, the result is the other string.\n* If the last letter of the first string is the same as the first letter of the second string, remove those matching letters from both strings and repeat the operation on the remaining strings.\n* Otherwise, combine the two strings together.\n\nCalculate the sum of the lengths of all the resulting strings from all the pairs.\n\n\n\nLet $s_1, s_2, ..., s_n$ be the input strings.  The problem asks to compute:\n\n$$\\sum_{i=1}^n \\sum_{j=1}^n |C(s_i, s_j)|$$ \n\nwhere $|x|$ is the length of string $x$ and $C(a,b)$ is the result of the collapsing operation described above."}, {"prompt_md5": "ab06c6a4", "template_md5": "465699a0", "result": "You are given a list of strings. For each pair of strings, you can combine them in a specific way: if the last letter of the first string matches the first letter of the second string, you remove those matching letters and combine the rest. Otherwise, you simply join the two strings together.  Calculate the total length of all the combined strings you get from every possible pair of strings in the list."}]}