{"uid": "891-C", "url": "https://codeforces.com/contest/891/problem/C", "tags": ["data structures", " dsu", " graphs"], "title": "891-C", "statement": "C. Envytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputFor a connected undirected weighted graphG, MST (minimum spanning tree) is a subgraph ofGthat contains all ofG's vertices, is a tree, and sum of its edges is minimum possible.You are given a graphG. If you run a MST algorithm on graph it would give you only one MST and it causes other edges to become jealous. You are given some queries, each query contains a set of edges of graphG, and you should determine whether there is a MST containing all these edges or not.InputThe first line contains two integersn,m(2  ≤n,m≤ 5·105,n- 1 ≤m) — the number of vertices and edges in the graph and the number of queries.Thei-th of the nextmlines contains three integersui,vi,wi(ui≠vi,1 ≤wi≤ 5·105) — the endpoints and weight of thei-th edge. There can be more than one edges between two vertices. It's guaranteed that the given graph is connected.The next line contains a single integerq(1 ≤q≤ 5·105) — the number of queries.qlines follow, thei-th of them contains thei-th query. It starts with an integerki(1 ≤ki≤n- 1) — the size of edges subset and continues withkidistinct space-separated integers from1tom— the indices of the edges. It is guaranteed that the sum ofkifor1 ≤i≤qdoes not exceed5·105.OutputFor each query you should print \"YES\" (without quotes) if there's a MST containing these edges and \"NO\" (of course without quotes again) otherwise.ExampleInput5 71 2 21 3 22 3 12 4 13 4 13 5 24 5 242 3 43 3 4 52 1 72 1 2OutputYESNOYESNONoteThis is the graph of sample:Weight of minimum spanning tree on this graph is6.MST with edges(1, 3, 4, 6), contains all of edges from the first query, so answer on the first query is \"YES\".Edges from the second query form a cycle of length3, so there is no spanning tree including these three edges. Thus, answer is \"NO\".", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "59ddffa6", "template_md5": "35d339e4", "result": "You are given a connected undirected weighted graph with $n$ vertices and $m$ edges.  \n\nFind if there exists a minimum spanning tree (MST) that includes a given set of edges for each of $q$ queries.\n\n**Input:**\n\n* The first line contains two integers $n$ and $m$ (2 ≤ $n$, $m$ ≤ 5⋅10⁵, $n$−1 ≤ $m$) representing the number of vertices and edges, respectively.\n* The next $m$ lines each contain three integers $u$, $v$, and $w$ (1 ≤ $w$ ≤ 5⋅10⁵) representing an edge between vertices $u$ and $v$ with weight $w$.\n* The next line contains an integer $q$ (1 ≤ $q$ ≤ 5⋅10⁵) representing the number of queries.\n* Each of the next $q$ lines starts with an integer $k$ (1 ≤ $k$ ≤ $n$−1) followed by $k$ distinct space-separated integers representing the indices of the edges in the query.\n\n**Output:**\n\nFor each query, print \"YES\" if there exists an MST containing all the edges in the query, and \"NO\" otherwise."}, {"prompt_md5": "78638994", "template_md5": "465699a0", "result": "You are given a connected graph with edges having weights.  You need to determine if a given set of edges can be part of the minimum spanning tree of the graph."}]}