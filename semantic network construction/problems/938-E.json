{"uid": "938-E", "url": "https://codeforces.com/contest/938/problem/E", "tags": ["combinatorics", " math"], "title": "938-E", "statement": "E. Max Historytime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an arrayaof lengthn. We definefathe following way:Initiallyfa= 0,M= 1;for every2 ≤i≤nifaM<aithen we setfa=fa+aMand then setM=i.Calculate the sum offaover alln!permutations of the arrayamodulo109+ 7.Note: two elements are considered different if their indices differ, so for every arrayathere are exactlyn!permutations.InputThe first line contains integern(1 ≤n≤  1 000 000) — the size of arraya.Second line containsnintegersa1,a2, ...,an(1 ≤ai≤  109).OutputPrint the only integer, the sum offaover alln!permutations of the arrayamodulo109+ 7.ExamplesInput21 3Output1Input31 1 2Output4NoteFor the second example all the permutations are:p= [1, 2, 3]:fais equal to1;p= [1, 3, 2]:fais equal to1;p= [2, 1, 3]:fais equal to1;p= [2, 3, 1]:fais equal to1;p= [3, 1, 2]:fais equal to0;p= [3, 2, 1]:fais equal to0.Wherepis the array of the indices of initial arraya. The sum offais equal to4.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f543f2ee", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers.  For each permutation of the array, calculate a value $f_a$ as follows:\n\n1. Initialize $f_a = 0$ and $M = 1$.\n2. For each index $i$ from 2 to $n$, if $M < a_i$, set $f_a = f_a + M$ and then set $M = i$.\n\nFind the sum of $f_a$ over all $n!$ permutations of the array, modulo $10^9 + 7$."}, {"prompt_md5": "693a0ed6", "template_md5": "465699a0", "result": "You are given a list of numbers.  For each possible order of the numbers, calculate a value based on finding the largest number encountered so far.  Add up all these values and find the result modulo 10^9 + 7."}]}