{"uid": "1613-F", "url": "https://codeforces.com/contest/1613/problem/F", "tags": ["combinatorics", " divide and conquer", " fft"], "title": "1613-F", "statement": "F. Tree Coloringtime limit per test4.5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a rooted tree consisting of $$$n$$$ vertices numbered from $$$1$$$ to $$$n$$$. The root of the tree is the vertex $$$1$$$.You have to color all vertices of the tree into $$$n$$$ colors (also numbered from $$$1$$$ to $$$n$$$) so that there is exactly one vertex for each color. Let $$$c_i$$$ be the color of vertex $$$i$$$, and $$$p_i$$$ be the parent of vertex $$$i$$$ in the rooted tree. The coloring is considered beautiful if there is no vertex $$$k$$$ ($$$k > 1$$$) such that $$$c_k = c_{p_k} - 1$$$, i. e. no vertex such that its color is less than the color of its parent byexactly $$$1$$$.Calculate the number of beautiful colorings, and print it modulo $$$998244353$$$.InputThe first line contains one integer $$$n$$$ ($$$2 \\\\le n \\\\le 250000$$$) — the number of vertices in the tree.Then $$$n-1$$$ lines follow, the $$$i$$$-th line contains two integers $$$x_i$$$ and $$$y_i$$$ ($$$1 \\\\le x_i, y_i \\\\le n$$$; $$$x_i \\\\ne y_i$$$) denoting an edge between the vertex $$$x_i$$$ and the vertex $$$y_i$$$. These edges form a tree.OutputPrint one integer — the number of beautiful colorings, taken modulo $$$998244353$$$.ExamplesInput5 1 2 3 2 4 2 2 5Output42Input5 1 2 2 3 3 4 4 5Output53Input20 20 19 20 4 12 4 5 8 1 2 20 7 3 10 7 18 11 8 9 10 17 10 1 15 11 16 14 11 18 10 10 1 14 2 13 17 20 6Output955085064", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "97ade7e2", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices numbered from 1 to $n$.  The root of the tree is vertex 1. You need to color each vertex with a distinct color from 1 to $n$.  A coloring is considered beautiful if no vertex $k$ ($k > 1$) has a color that is one less than the color of its parent. \n\nFind the number of beautiful colorings and print the result modulo 998244353. \n\nThe input consists of:\n\n* The first line contains the number of vertices, $n$.\n* The next $n-1$ lines each contain two integers, $x_i$ and $y_i$, representing an edge between vertices $x_i$ and $y_i$."}, {"prompt_md5": "cef83b71", "template_md5": "465699a0", "result": "You are given a tree with numbered nodes.  You need to color each node with a unique number from 1 to the number of nodes.  A coloring is valid if no node's color is one less than its parent's color.  Count the number of valid colorings."}]}