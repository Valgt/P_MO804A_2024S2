{"uid": "1762-F", "url": "https://codeforces.com/contest/1762/problem/F", "tags": ["binary search", " data structures", " dp"], "title": "1762-F", "statement": "F. Good Pairstime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an array $$$a$$$ consisting of $$$n$$$ integers and an integer $$$k$$$.A pair $$$(l,r)$$$ isgoodif there exists a sequence of indices $$$i_1, i_2, \\\\dots, i_m$$$ such that$$$i_1=l$$$ and $$$i_m=r$$$;$$$i_j < i_{j+1}$$$ for all $$$1 \\\\leq j < m$$$; and$$$|a_{i_j}-a_{i_{j+1}}| \\\\leq k$$$ for all $$$1 \\\\leq j < m$$$.Find the number of pairs $$$(l,r)$$$ ($$$1 \\\\leq l \\\\leq r \\\\leq n$$$) that aregood.InputEach test contains multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 10^5$$$) — the number of test cases. The description of the test cases follows.The first line of each test case contains two space-separated integers $$$n$$$ and $$$k$$$ ($$$1 \\\\leq n \\\\leq 5 \\\\cdot 10^5$$$; $$$0 \\\\leq k \\\\leq 10^5$$$) — the length of the array $$$a$$$ and the integer $$$k$$$.The second line of each test case contains $$$n$$$ space-separated integers $$$a_1,a_2,\\\\ldots,a_n$$$ ($$$1 \\\\leq a_i \\\\leq 10^5$$$) — representing the array $$$a$$$.It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$5 \\\\cdot 10^5$$$.OutputFor each test case, print the number ofgoodpairs.ExampleInput43 01 1 14 24 8 6 86 47 2 5 8 3 820 23110 57 98 14 20 1 60 82 108 37 82 73 8 46 38 35 106 115 58 112Output6 9 18 92NoteIn the first test case,goodpairs are $$$(1,1)$$$, $$$(1,2)$$$, $$$(1,3)$$$, $$$(2,2)$$$, $$$(2,3)$$$, and $$$(3,3)$$$.In the second test case,goodpairs are $$$(1,1)$$$, $$$(1,3)$$$, $$$(1,4)$$$, $$$(2,2)$$$, $$$(2,3)$$$, $$$(2,4)$$$, $$$(3,3)$$$, $$$(3,4)$$$ and $$$(4,4)$$$. Pair $$$(1,4)$$$ isgoodbecause there exists a sequence of indices $$$1, 3, 4$$$ which satisfy the given conditions.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "6c50acca", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers and an integer $k$.  \n\nYou need to find the number of pairs of indices $(l, r)$ where $1 \\le l \\le r \\le n$ such that there exists a sequence of indices $i_1, i_2, ..., i_m$  satisfying:\n\n* $i_1 = l$ and $i_m = r$\n* $i_j < i_{j+1}$ for all $1 \\le j < m$\n* $|a_{i_j} - a_{i_{j+1}}| \\le k$ for all $1 \\le j < m$\n\n\n\nIn other words, you need to find the number of pairs $(l, r)$ where you can connect the elements at those indices in the array with a sequence of jumps, where each jump is at most $k$ units away."}, {"prompt_md5": "7903cef3", "template_md5": "465699a0", "result": "You are given a list of numbers and a limit.  Find the number of pairs of positions in the list where the difference between the numbers at those positions is less than or equal to the limit."}]}