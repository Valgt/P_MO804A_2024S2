{"uid": "38-F", "url": "https://codeforces.com/contest/38/problem/F", "tags": ["dp", " games", " strings"], "title": "38-F", "statement": "F. Smart Boytime limit per test4 secondsmemory limit per test256 megabytesinputstdinoutputstdoutOnce Petya and Vasya invented a new game and called it \"Smart Boy\". They located a certain set of words — the dictionary — for the game. It is admissible for the dictionary to contain similar words.The rules of the game are as follows: first the first player chooses any letter (a word as long as1) from any word from the dictionary and writes it down on a piece of paper. The second player adds some other letter to this one's initial or final position, thus making a word as long as2, then it's the first player's turn again, he adds a letter in the beginning or in the end thus making a word as long as3and so on. But the player mustn't break one condition: the newly created word must be a substring of a word from a dictionary. The player who can't add a letter to the current word without breaking the condition loses.Also if by the end of a turn a certain stringsis written on paper, then the player, whose turn it just has been, gets a number of points according to the formula:whereis a sequence number of symbolcin Latin alphabet, numbered starting from1. For example,, and.is the number of words from the dictionary where the linesoccurs as a substring at least once.Your task is to learn who will win the game and what the final score will be. Every player plays optimally and most of all tries to win, then — to maximize the number of his points, then — to minimize the number of the points of the opponent.InputThe first input line contains an integernwhich is the number of words in the located dictionary(1 ≤n≤ 30). Thenlines contain the words from the dictionary — one word is written on one line. Those lines are nonempty, consisting of Latin lower-case characters no longer than30characters. Equal words can be in the list of words.OutputOn the first output line print a line \"First\" or \"Second\" which means who will win the game. On the second line output the number of points of the first player and the number of points of the second player after the game ends. Separate the numbers by a single space.ExamplesInput2abaabacOutputSecond29 35Input3artemnikmaxOutputFirst2403 1882", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a8eaf4d3", "template_md5": "35d339e4", "result": "You are given a dictionary of words. Two players take turns building a word by adding a letter to the beginning or end of the current word.  \n\nHere are the rules:\n\n* The added letter must make a valid word that exists in the dictionary.\n* The game ends when a player cannot add a letter to the current word while following the rules.\n\nThe player who ends the game gets points based on the final word. The points are calculated as follows:\n\n*  Let  's' be the final word.\n*  Let  $c_i$ be the $i$-th character in 's'.\n*  The player's score is  $\\sum_{i=1}^{|s|} i * count(c_i)$ , where  $count(c_i)$ is the number of words in the dictionary that contain the character $c_i$ as a substring.\n\nDetermine which player will win the game and their respective scores."}, {"prompt_md5": "0f4a6a57", "template_md5": "465699a0", "result": "Two players take turns building a word by adding a letter to the beginning or end of the current word. The added letter must be part of a given dictionary of words. The player who can't add a valid letter loses.  The player who ends their turn with a word that is a substring of a dictionary word scores points based on how many dictionary words contain that substring. Determine which player wins and their final scores."}]}