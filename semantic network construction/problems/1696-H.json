{"uid": "1696-H", "url": "https://codeforces.com/contest/1696/problem/H", "tags": ["brute force", " combinatorics", " dp", " greedy", " implementation", " math", " two pointers"], "title": "1696-H", "statement": "H. Maximum Product?time limit per test1.5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a positive integer $$$k$$$. For a multiset of integers $$$S$$$, define $$$f(S)$$$ as the following.If the number of elements in $$$S$$$ is less than $$$k$$$, $$$f(S)=0$$$.Otherwise, define $$$f(S)$$$ as the maximum product you can get by choosing exactly $$$k$$$ integers from $$$S$$$.More formally, let $$$|S|$$$ denote the number of elements in $$$S$$$. Then,If $$$|S|<k$$$, $$$f(S)=0$$$.Otherwise, $$$f(S)=\\\\max\\\\limits_{T\\\\subseteq S,|T|=k}\\\\left(\\\\prod\\\\limits_{i\\\\in T}i\\\\right)$$$.You are given a multiset of integers, $$$A$$$. Compute $$$\\\\sum\\\\limits_{B\\\\subseteq A} f(B)$$$ modulo $$$10^9+7$$$.Note that in this problem,we distinguish the elements by indices instead of values. That is, a multiset consisting of $$$n$$$ elements always has $$$2^n$$$ distinct subsets regardless of whether some of its elements are equal.InputThe first line of input contains two integers $$$n$$$ and $$$k$$$, where $$$n$$$ is the number of elements in $$$A$$$ ($$$1\\\\le k\\\\le n\\\\le 600$$$).The second line of input contains $$$n$$$ integers $$$a_1,a_2,\\\\dots,a_n$$$, describing the elements in $$$A$$$ ($$$-10^9\\\\le a_i\\\\le 10^9$$$).OutputOutput $$$\\\\sum\\\\limits_{B\\\\subseteq A} f(B)$$$ modulo $$$10^9+7$$$.ExamplesInput3 2 -1 2 4Output10Input3 1 1 1 1Output7Input10 4 -24 -41 9 -154 -56 14 18 53 -7 120Output225905161Input15 5 0 0 2 -2 2 -2 3 -3 -3 4 5 -4 -4 4 5Output18119684NoteConsider the first sample. From the definitions we know that$$$f(\\\\varnothing)=0$$$$$$f(\\\\{-1\\\\})=0$$$$$$f(\\\\{2\\\\})=0$$$$$$f(\\\\{4\\\\})=0$$$$$$f(\\\\{-1,2\\\\})=-2$$$$$$f(\\\\{-1,4\\\\})=-4$$$$$$f(\\\\{2,4\\\\})=8$$$$$$f(\\\\{-1,2,4\\\\})=8$$$So we should print $$$(0+0+0+0-2-4+8+8)\\\\bmod (10^9+7)=10$$$.In the second example, note that although the multiset consists of three same values, it still has $$$8$$$ distinct subsets: $$$\\\\varnothing,\\\\{1\\\\},\\\\{1\\\\},\\\\{1\\\\},\\\\{1,1\\\\},\\\\{1,1\\\\},\\\\{1,1\\\\},\\\\{1,1,1\\\\}$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "06d24357", "template_md5": "35d339e4", "result": "You are given a positive integer $k$ and a set of $n$ integers $A$.  \n\nDefine a function $f(S)$ as follows:\n\n* If the number of elements in set $S$ is less than $k$, then $f(S) = 0$.\n* Otherwise, $f(S)$ is the maximum product you can get by choosing exactly $k$ integers from $S$.\n\nCalculate the sum of $f(B)$ for all possible subsets $B$ of $A$, modulo $10^9 + 7$. \n\n**Input:**\n\n* The first line contains two integers $n$ and $k$ ($1 \\le k \\le n \\le 600$).\n* The second line contains $n$ integers $a_1, a_2, ..., a_n$ ($-10^9 \\le a_i \\le 10^9$).\n\n**Output:**\n\n* Output the sum of $f(B)$ for all subsets $B$ of $A$, modulo $10^9 + 7$."}, {"prompt_md5": "3c630922", "template_md5": "465699a0", "result": "You are given a set of numbers.  Find the sum of the maximum products you can get by choosing a fixed number of these numbers at a time, for all possible subsets of the set.  The maximum product is calculated by multiplying the chosen numbers together.  The result should be given modulo 10^9+7."}]}