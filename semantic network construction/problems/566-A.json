{"uid": "566-A", "url": "https://codeforces.com/contest/566/problem/A", "tags": ["dfs and similar", " strings", " trees"], "title": "566-A", "statement": "A. Matching Namestime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputTeachers of one programming summer school decided to make a surprise for the students by giving them names in the style of the \"Hobbit\" movie. Each student must get a pseudonym maximally similar to his own name. The pseudonym must be a name of some character of the popular saga and now the teachers are busy matching pseudonyms to student names.There arenstudents in a summer school. Teachers chose exactlynpseudonyms for them. Each student must get exactly one pseudonym corresponding to him. Let us determine the relevance of a pseudonymbto a student with nameaas the length of the largest common prefixaandb. We will represent such value as. Then we can determine thequalityof matching of the pseudonyms to students as a sum of relevances of all pseudonyms to the corresponding students.Find the matching between students and pseudonyms with the maximumquality.InputThe first line contains numbern(1 ≤n≤ 100 000) — the number of students in the summer school.Nextnlines contain the name of the students. Each name is a non-empty word consisting of lowercase English letters. Some names can be repeating.The lastnlines contain the given pseudonyms. Each pseudonym is a non-empty word consisting of small English letters. Some pseudonyms can be repeating.The total length of all the names and pseudonyms doesn't exceed800 000characters.OutputIn the first line print the maximum possiblequalityof matching pseudonyms to students.In the nextnlines describe the optimal matching. Each line must have the formab(1 ≤a,b≤n), that means that the student who was numberain the input, must match to the pseudonym numberbin the input.The matching should be a one-to-one correspondence, that is, each student and each pseudonym should occur exactly once in your output. If there are several optimal answers, output any.ExamplesInput5gennadygalyaborisbilltoshikbilbotoringendalfsmauggaladrielOutput114 12 51 35 23 4NoteThe first test from the statement the match looks as follows:bill→bilbo (lcp = 3)galya→galadriel (lcp = 3)gennady→gendalf (lcp = 3)toshik→torin (lcp = 2)boris→smaug (lcp = 0)", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "3888dae3", "template_md5": "35d339e4", "result": "You are given a list of $n$ student names and a list of $n$ pseudonyms.  The goal is to match each student to a pseudonym in a way that maximizes the total \"relevance\" of the matches.\n\nThe relevance of a match between a student name ($a$) and a pseudonym ($b$) is defined as the length of the longest common prefix of the two strings.\n\nOutput the maximum possible total relevance (sum of the relevance of all matches) and a valid matching of students to pseudonyms.  A valid matching means each student is matched to exactly one pseudonym, and each pseudonym is matched to exactly one student."}, {"prompt_md5": "6cc62fe8", "template_md5": "465699a0", "result": "You are given a list of names and a list of pseudonyms.  Find the best way to match each name to a pseudonym so that the total length of the longest common prefix between each name and its matched pseudonym is as large as possible. Output the maximum total length and the matching between names and pseudonyms."}]}