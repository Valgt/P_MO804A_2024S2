{"uid": "263-C", "url": "https://codeforces.com/contest/263/problem/C", "tags": ["brute force", " dfs and similar", " implementation"], "title": "263-C", "statement": "C. Circle of Numberstime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutOne day Vasya came up to the blackboard and wrote outndistinct integers from1tonin some order in a circle. Then he drew arcs to join the pairs of integers(a,b)(a≠b), that are either each other's immediate neighbors in the circle, or there is numberc, such thataandсare immediate neighbors, andbandcare immediate neighbors. As you can easily deduce, in the end Vasya drew2·narcs.For example, if the numbers are written in the circle in the order1, 2, 3, 4, 5(in the clockwise direction), then the arcs will join pairs of integers(1, 2),(2, 3),(3, 4),(4, 5),(5, 1),(1, 3),(2, 4),(3, 5),(4, 1)and(5, 2).Much time has passed ever since, the numbers we wiped off the blackboard long ago, but recently Vasya has found a piece of paper with2·nwritten pairs of integers that were joined with the arcs on the board. Vasya asks you to find the order of numbers in the circle by these pairs.InputThe first line of the input contains a single integern(5 ≤n≤ 105) that shows, how many numbers were written on the board. Next2·nlines contain pairs of integersai,bi(1 ≤ai,bi≤n,ai≠bi) — the numbers that were connected by the arcs.It is guaranteed that no pair of integers, connected by a arc, occurs in the input more than once. The pairs of numbers and the numbers in the pairs are given in the arbitrary order.OutputIf Vasya made a mistake somewhere and there isn't any way to place numbers from1tonon the circle according to the statement, then print a single number \"-1\" (without the quotes). Otherwise, print any suitable sequence ofndistinct integers from1ton.If there are multiple solutions, you are allowed to print any of them. Specifically, it doesn't matter which number you write first to describe the sequence of the order. It also doesn't matter whether you write out the numbers in the clockwise or counter-clockwise direction.ExamplesInput51 22 33 44 55 11 32 43 54 15 2Output1 2 3 4 5Input65 64 35 32 46 13 16 22 51 43 61 24 5Output1 2 4 5 3 6", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "65f481f9", "template_md5": "35d339e4", "result": "You are given $2n$ pairs of distinct integers from 1 to $n$.  These pairs represent connections in a circle.  Two numbers are connected if they are neighbors in the circle, or if there is a third number that is a neighbor to both.\n\nYour task is to determine a possible order of the numbers from 1 to $n$ that would create this circle of connections. If no such order exists, output -1. \n\n**Input:**\n\n* The first line contains an integer $n$ (5 ≤ $n$ ≤ 10⁵).\n* The next $2n$ lines each contain a pair of integers $a_i$, $b_i$ (1 ≤ $a_i$, $b_i$ ≤ $n$, $a_i$ ≠ $b_i$).\n\n**Output:**\n\n* If a valid order exists, output a sequence of $n$ distinct integers from 1 to $n$ representing one possible order.\n* If no valid order exists, output -1."}, {"prompt_md5": "3ce86c98", "template_md5": "465699a0", "result": "You are given a list of pairs of numbers.  Each pair represents a connection between two numbers.  \n\nYour task is to determine a possible order of the numbers so that the connections make sense based on the given rules. If no such order exists, output -1."}]}