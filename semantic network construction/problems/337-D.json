{"uid": "337-D", "url": "https://codeforces.com/contest/337/problem/D", "tags": ["dfs and similar", " divide and conquer", " dp", " trees"], "title": "337-D", "statement": "D. Book of Eviltime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutPaladin Manao caught the trail of the ancient Book of Evil in a swampy area. This area containsnsettlements numbered from 1 ton. Moving through the swamp is very difficult, so people tramped exactlyn- 1paths. Each of these paths connects some pair of settlements and is bidirectional. Moreover, it is possible to reach any settlement from any other one by traversing one or several paths.Thedistancebetween two settlements is the minimum number of paths that have to be crossed to get from one settlement to the other one. Manao knows that the Book of Evil has got a damage ranged. This means that if the Book of Evil is located in some settlement, its damage (for example, emergence of ghosts and werewolves) affects other settlements at distancedor less from the settlement where the Book resides.Manao has heard ofmsettlements affected by the Book of Evil. Their numbers arep1,p2, ...,pm. Note that the Book may be affecting other settlements as well, but this has not been detected yet. Manao wants to determine which settlements may contain the Book. Help him with this difficult task.InputThe first line contains three space-separated integersn,mandd(1 ≤m≤n≤ 100000; 0 ≤d≤n- 1). The second line containsmdistinct space-separated integersp1,p2, ...,pm(1 ≤pi≤n). Thenn- 1lines follow, each line describes a path made in the area. A path is described by a pair of space-separated integersaiandbirepresenting the ends of this path.OutputPrint a single number — the number of settlements that may contain the Book of Evil. It is possible that Manao received some controversial information and there is no settlement that may contain the Book. In such case, print 0.ExamplesInput6 2 31 21 52 33 44 55 6Output3NoteSample 1. The damage range of the Book of Evil equals 3 and its effects have been noticed in settlements 1 and 2. Thus, it can be in settlements 3, 4 or 5.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ae9b6540", "template_md5": "35d339e4", "result": "There are $n$ settlements connected by $n-1$ bidirectional paths. The distance between two settlements is the minimum number of paths needed to travel between them. \n\nYou are given $m$ settlements that are affected by a mysterious force with a damage range of $d$. This means that any settlement within a distance of $d$ or less from the source of the force is affected.\n\nYour task is to determine the number of settlements that could potentially be the source of the force. \n\n\nYou are given:\n\n* $n$: the number of settlements\n* $m$: the number of affected settlements\n* $d$: the damage range of the force\n* $p_1, p_2, ..., p_m$: the numbers of the affected settlements\n* $n-1$ pairs of integers $(a_i, b_i)$ representing the connections (paths) between settlements. \n\n\n\nOutput the number of settlements that could be the source of the force."}, {"prompt_md5": "7b45337d", "template_md5": "465699a0", "result": "You are given a network of connected locations. Some locations are known to be affected by a mysterious force.  You need to find all the locations that could be the source of the force, based on how far its effects can reach."}]}