{"uid": "1737-F", "url": "https://codeforces.com/contest/1737/problem/F", "tags": ["constructive algorithms", " math", " number theory"], "title": "1737-F", "statement": "F. Ela and Prime GCDtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAfter a long, tough, but fruitful day at DTL, Ela goes home happily. She entertains herself by solving Competitive Programming problems. She prefers short statements, because she already read too many long papers and documentation at work. The problem of the day reads:You are given an integer $$$c$$$. Suppose that $$$c$$$ has $$$n$$$ divisors. You have to find a sequence with $$$n - 1$$$ integers $$$[a_1, a_2, ... a_{n - 1}]$$$, which satisfies the following conditions:Each element is strictly greater than $$$1$$$.Each element is a divisor of $$$c$$$.All elements are distinct.For all $$$1 \\\\le i < n - 1$$$, $$$\\\\gcd(a_i, a_{i + 1})$$$ is a prime number.In this problem, because $$$c$$$ can be too big, the result of prime factorization of $$$c$$$ is given instead. Note that $$$\\\\gcd(x, y)$$$ denotes the greatest common divisor (GCD) of integers $$$x$$$ and $$$y$$$ and a prime number is a positive integer which has exactly $$$2$$$ divisors.InputThe first line contains one integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) - the number of test cases.The first line of each test case contains one integer $$$m$$$ ($$$1 \\\\le m \\\\le 16$$$) - the number of prime factor of $$$c$$$.The second line of each test case contains $$$m$$$ integers $$$b_1, b_2, \\\\ldots, b_m$$$ ($$$1 \\\\le b_i < 2^{20}$$$) â€” exponents of corresponding prime factors of $$$c$$$, so that $$$c = p_1^{b_1} \\\\cdot p_2^{b_2} \\\\cdot \\\\ldots \\\\cdot p_m^{b_m}$$$ and $$$n = (b_1 + 1)(b_2 + 1) \\\\ldots (b_m + 1)$$$ hold. $$$p_i$$$ is the $$$i$$$-th smallest prime number.It is guaranteed that the sum of $$$n \\\\cdot m$$$ over all test cases does not exceed $$$2^{20}$$$.OutputPrint the answer for each test case, one per line. If there is no sequence for the given $$$c$$$, print $$$-1$$$.Otherwise, print $$$n - 1$$$ lines. In $$$i$$$-th line, print $$$m$$$ space-separated integers. The $$$j$$$-th integer of $$$i$$$-th line is equal to the exponent of $$$j$$$-th prime number from $$$a_i$$$.If there are multiple answers, print any of them.ExampleInput521 11131 1 11422 1Output0 1  1 1  1 0  1  0 1 1  0 0 1  1 0 1  1 1 0  0 1 0  1 1 1  1 0 0  -1 2 0  1 1  0 1  2 1  1 0NoteIn each test case, the values of $$$c$$$ are $$$6$$$, $$$2$$$, $$$30$$$, $$$16$$$, and $$$12$$$ in that order.In the first test case, $$$1$$$, $$$2$$$, $$$3$$$, $$$6$$$ are divisors of $$$6$$$. Here, sequences $$$[2, 6, 3]$$$ and $$$[3, 6, 2]$$$ can be answer. Permutation $$$[3, 2, 6]$$$ is invalid because $$$\\\\gcd(a_1, a_2) = 1$$$ is not a prime number.In the forth test case, $$$1$$$, $$$2$$$, $$$4$$$, $$$8$$$, $$$16$$$ are divisors of $$$16$$$. Among the permutation of sequence $$$[2, 4, 8, 16]$$$, no valid answer exist.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "018a764e", "template_md5": "35d339e4", "result": "You are given the prime factorization of an integer $c$.  You need to find a sequence of $n-1$ integers, where $n$ is the number of divisors of $c$, that satisfy the following conditions:\n\n* Each integer in the sequence is greater than 1.\n* Each integer in the sequence is a divisor of $c$.\n* No two integers in the sequence are the same.\n* For every pair of consecutive integers in the sequence, their greatest common divisor (GCD) is a prime number.\n\nIf no such sequence exists, output -1. Otherwise, output the sequence. \n\n**Input:**\n\n* The first line contains the number of test cases, $t$.\n* For each test case:\n    * The first line contains the number of prime factors of $c$, $m$.\n    * The second line contains $m$ integers, $b_1, b_2, ..., b_m$, which are the exponents of the prime factors of $c$.\n\n**Output:**\n\nFor each test case, output one line. If no valid sequence exists, output -1. Otherwise, output $n-1$ lines, where each line contains $m$ integers representing the exponents of the prime factors of each integer in the sequence."}, {"prompt_md5": "849cc2c8", "template_md5": "465699a0", "result": "You are given a number. Find a sequence of smaller numbers that divide the given number, where each number in the sequence is distinct and the greatest common divisor of any two consecutive numbers in the sequence is a prime number. If no such sequence exists, output -1."}]}