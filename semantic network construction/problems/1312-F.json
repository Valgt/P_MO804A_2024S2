{"uid": "1312-F", "url": "https://codeforces.com/contest/1312/problem/F", "tags": ["games", " two pointers"], "title": "1312-F", "statement": "F. Attack on Red Kingdomtime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputThe Red Kingdom is attacked by the White King and the Black King!The Kingdom is guarded by $$$n$$$ castles, the $$$i$$$-th castle is defended by $$$a_i$$$ soldiers. To conquer the Red Kingdom, the Kings have to eliminate all the defenders.Each day the White King launches an attack on one of the castles. Then, at night, the forces of the Black King attack a castle (possibly the same one). Then the White King attacks a castle, then the Black King, and so on. The first attack is performed by the White King.Each attack must target a castle withat least onealive defender in it. There are three types of attacks:amixed attackdecreases the number of defenders in the targeted castle by $$$x$$$ (or sets it to $$$0$$$ if there are already less than $$$x$$$ defenders);aninfantry attackdecreases the number of defenders in the targeted castle by $$$y$$$ (or sets it to $$$0$$$ if there are already less than $$$y$$$ defenders);acavalry attackdecreases the number of defenders in the targeted castle by $$$z$$$ (or sets it to $$$0$$$ if there are already less than $$$z$$$ defenders).Themixed attackcan be launched at any valid target (at any castle with at least one soldier). However, theinfantry attackcannot be launched if theprevious attack on the targeted castlehad the same type, no matter when and by whom it was launched. The same applies to thecavalry attack. A castle that was not attacked at all can be targeted by any type of attack.The King who launches the last attack will be glorified as the conqueror of the Red Kingdom, so both Kings want to launch the last attack (and they are wise enough to find a strategy that allows them to do it no matter what are the actions of their opponent, if such strategy exists). The White King is leading his first attack, and you are responsible for planning it. Can you calculate the number of possible options for the first attack that allow the White King to launch the last attack? Each option for the first attack is represented by the targeted castle and the type of attack, and two options are different if the targeted castles or the types of attack are different.InputThe first line contains one integer $$$t$$$ ($$$1 \\\\le t \\\\le 1000$$$) â€” the number of test cases.Then, the test cases follow. Each test case is represented by two lines.The first line contains four integers $$$n$$$, $$$x$$$, $$$y$$$ and $$$z$$$ ($$$1 \\\\le n \\\\le 3 \\\\cdot 10^5$$$, $$$1 \\\\le x, y, z \\\\le 5$$$).The second line contains $$$n$$$ integers $$$a_1$$$, $$$a_2$$$, ..., $$$a_n$$$ ($$$1 \\\\le a_i \\\\le 10^{18}$$$).It is guaranteed that the sum of values of $$$n$$$ over all test cases in the input does not exceed $$$3 \\\\cdot 10^5$$$.OutputFor each test case, print the answer to it: the number of possible options for the first attack of the White King (or $$$0$$$, if the Black King can launch the last attack no matter how the White King acts).ExamplesInput3 2 1 3 4 7 6 1 1 2 3 1 1 1 2 2 3Output2 3 0Input10 6 5 4 5 2 3 2 3 1 3 1 5 2 3 10 4 4 2 3 8 10 8 5 2 2 1 4 8 5 3 5 3 5 9 2 10 4 5 5 5 2 10 4 2 2 3 1 4 1 10 3 1 5 3 9 8 7 2 5 4 5 8 8 3 5 1 4 5 5 10Output0 2 1 2 5 12 5 0 0 2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "3b85275a", "template_md5": "35d339e4", "result": "You are given $n$ castles, each with a number of defenders $a_i$. Two players take turns attacking the castles. \n\nOn each turn, a player can choose a castle with at least one defender and perform one of three types of attacks:\n\n* **Mixed attack:** Reduce the number of defenders in the castle by $x$ (or to 0 if there are fewer than $x$ defenders).\n* **Infantry attack:** Reduce the number of defenders in the castle by $y$ (or to 0 if there are fewer than $y$ defenders).\n* **Cavalry attack:** Reduce the number of defenders in the castle by $z$ (or to 0 if there are fewer than $z$ defenders).\n\nThe **infantry attack** and **cavalry attack** cannot be used consecutively on the same castle.\n\nThe first player (White) chooses the first attack. The goal is to determine the number of possible first attacks White can make to guarantee they get to make the last attack. \n\n\nYou are given $t$ test cases. Each test case consists of:\n\n* $n$: the number of castles\n* $x$, $y$, $z$: the attack values for each attack type\n* $a_1$, $a_2$, ..., $a_n$: the number of defenders in each castle. \n\n\n\nFor each test case, output the number of possible first attacks White can make to guarantee they get to make the last attack. If it's impossible, output 0."}, {"prompt_md5": "b3ea0a9c", "template_md5": "465699a0", "result": "You have a set of locations with a number of defenders at each. Two players take turns attacking locations. Each attack reduces the defenders at a location by a certain amount, with different attack types having different reduction amounts.  \n\nAn attack type cannot be used consecutively on the same location.  \n\nThe first player goes first. Determine the number of ways the first player can attack to guarantee they make the last attack."}]}