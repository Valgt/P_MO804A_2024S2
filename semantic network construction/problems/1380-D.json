{"uid": "1380-D", "url": "https://codeforces.com/contest/1380/problem/D", "tags": ["constructive algorithms", " greedy", " implementation", " math", " two pointers"], "title": "1380-D", "statement": "D. Berserk And Fireballtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThere are $$$n$$$ warriors in a row. The power of the $$$i$$$-th warrior is $$$a_i$$$. All powers are pairwise distinct.You have two types of spells which you may cast:Fireball: you spend $$$x$$$ mana and destroyexactly$$$k$$$ consecutive warriors;Berserk: you spend $$$y$$$ mana, choose two consecutive warriors, and the warrior with greater power destroys the warrior with smaller power.For example, let the powers of warriors be $$$[2, 3, 7, 8, 11, 5, 4]$$$, and $$$k = 3$$$. If you cast Berserk on warriors with powers $$$8$$$ and $$$11$$$, the resulting sequence of powers becomes $$$[2, 3, 7, 11, 5, 4]$$$. Then, for example, if you cast Fireball on consecutive warriors with powers $$$[7, 11, 5]$$$, the resulting sequence of powers becomes $$$[2, 3, 4]$$$.You want to turn the current sequence of warriors powers $$$a_1, a_2, \\\\dots, a_n$$$ into $$$b_1, b_2, \\\\dots, b_m$$$. Calculate the minimum amount of mana you need to spend on it.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n, m \\\\le 2 \\\\cdot 10^5$$$) — the length of sequence $$$a$$$ and the length of sequence $$$b$$$ respectively.The second line contains three integers $$$x, k, y$$$ ($$$1 \\\\le x, y, \\\\le 10^9; 1 \\\\le k \\\\le n$$$) — the cost of fireball, the range of fireball and the cost of berserk respectively.The third line contains $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$1 \\\\le a_i \\\\le n$$$). It is guaranteed that all integers $$$a_i$$$ are pairwise distinct.The fourth line contains $$$m$$$ integers $$$b_1, b_2, \\\\dots, b_m$$$ ($$$1 \\\\le b_i \\\\le n$$$). It is guaranteed that all integers $$$b_i$$$ are pairwise distinct.OutputPrint the minimum amount of mana for turning the sequnce $$$a_1, a_2, \\\\dots, a_n$$$ into $$$b_1, b_2, \\\\dots, b_m$$$, or $$$-1$$$ if it is impossible.ExamplesInput5 2 5 2 3 3 1 4 5 2 3 5Output8Input4 4 5 1 4 4 3 1 2 2 4 3 1Output-1Input4 4 2 1 11 1 3 2 4 1 3 2 4Output0", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "9890b990", "template_md5": "35d339e4", "result": "You are given two sequences of integers,  $a_1, a_2, ..., a_n$ and $b_1, b_2, ..., b_m$. You can perform two types of operations:\n\n* **Fireball:** Spend $x$ mana and remove $k$ consecutive elements from the sequence.\n* **Berserk:** Spend $y$ mana and choose two consecutive elements in the sequence. The element with the larger value destroys the element with the smaller value, removing both from the sequence.\n\nFind the minimum amount of mana needed to transform sequence $a$ into sequence $b$ using these operations. If it's impossible to transform $a$ into $b$, output -1. \n\n**Input:**\n\n* The first line contains two integers $n$ and $m$ ($1 \\le n, m \\le 2 \\cdot 10^5$) representing the lengths of sequences $a$ and $b$.\n* The second line contains three integers $x$, $k$, and $y$ ($1 \\le x, y \\le 10^9; 1 \\le k \\le n$) representing the cost of Fireball, the range of Fireball, and the cost of Berserk, respectively.\n* The third line contains $n$ integers $a_1, a_2, ..., a_n$ ($1 \\le a_i \\le n$) representing sequence $a$.\n* The fourth line contains $m$ integers $b_1, b_2, ..., b_m$ ($1 \\le b_i \\le n$) representing sequence $b$.\n\n**Output:**\n\n* Print the minimum mana required to transform sequence $a$ into sequence $b$. If it's impossible, output -1."}, {"prompt_md5": "dda805ff", "template_md5": "465699a0", "result": "You have a sequence of numbers. You can use two types of operations:\n\n1. Remove a consecutive group of  'k' numbers, costing 'x' mana.\n2. Swap two consecutive numbers, with the larger number destroying the smaller, costing 'y' mana.\n\nYour goal is to transform the sequence into a target sequence using the minimum amount of mana.  If it's impossible to transform the sequence, output -1."}]}