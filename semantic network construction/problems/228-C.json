{"uid": "228-C", "url": "https://codeforces.com/contest/228/problem/C", "tags": ["dp", " hashing"], "title": "228-C", "statement": "C. Fractal Detectortime limit per test4 secondsmemory limit per test256 megabytesinputstdinoutputstdoutLittle Vasya likes painting fractals very much.He does it like this. First the boy cuts out a2 × 2-cell square out of squared paper. Then he paints some cells black. The boy calls the cut out square a fractalpattern. Then he takes a clean square sheet of paper and paints a fractal by the following algorithm:He divides the sheet into four identical squares. A part of them is painted black according to the fractal pattern.Each square that remained white, is split into 4 lesser white squares, some of them are painted according to the fractal pattern. Each square that remained black, is split into 4 lesser black squares.In each of the following steps step 2 repeats. To draw a fractal, the boy can make an arbitrary positive number of steps of the algorithm. But he need to make at least two steps. In other words step 2 of the algorithmmust be done at least once. The resulting picture (the square with painted cells) will be a fractal. The figure below shows drawing a fractal (here boy made three steps of the algorithm).One evening Vasya got very tired, so he didn't paint the fractal, he just took a sheet of paper, painted an×m-cell field. Then Vasya paint some cells black.Now he wonders, how many squares are on the field, such that there is a fractal, which can be obtained as described above, and which is equal to that square. Square is considered equal to some fractal if they consist of the same amount of elementary not divided cells and for each elementary cell of the square corresponding elementary cell of the fractal have the same color.InputThe first line contains two space-separated integersn,m(2 ≤n,m≤ 500)— the number of rows and columns of the field, correspondingly.Nextnlines containmcharacters each — the description of the field, painted by Vasya. Character \".\" represents a white cell, character \"*\" represents a black cell.It is guaranteed that the field description doesn't contain other characters than \".\" and \"*\".OutputOn a single line print a single integer — the number of squares on the field, such that these squares contain a drawn fractal, which can be obtained as described above.ExamplesInput6 11......*.****.*.*....**.***....*.*..***.*.....*.*.....**......*.*..Output3Input4 4..**..**........Output0NoteThe answer for the first sample is shown on the picture below. Fractals are outlined by red, blue and green squares.The answer for the second sample is 0. There is no fractal, equal to the given picture.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "02e8456d", "template_md5": "35d339e4", "result": "You are given a rectangular grid of cells, where each cell is either white (\".\") or black (\"*\").  \n\nDetermine the number of sub-squares within the grid that can be the starting point for a fractal pattern. \n\nA fractal pattern is created by repeatedly dividing each square into four smaller squares.  \n\n* White squares are further divided into four smaller white squares, some of which are painted black.\n* Black squares are further divided into four smaller black squares.\n\nA sub-square can be considered a starting point for a fractal if the resulting fractal pattern, after any number of these divisions, perfectly matches the sub-square's arrangement of black and white cells.\n\n\n\nInput:\n\n* Two integers, $n$ and $m$, representing the number of rows and columns of the grid.\n* $n$ lines, each containing $m$ characters (\".\") or (\"*\") representing the grid.\n\nOutput:\n\n* A single integer representing the number of sub-squares that can be starting points for a fractal pattern."}, {"prompt_md5": "eb421e51", "template_md5": "465699a0", "result": "Given a grid of black and white cells, count the number of subgrids that can be transformed into a fractal pattern by repeatedly dividing them into four smaller squares and painting them according to a specific rule."}]}