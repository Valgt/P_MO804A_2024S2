{"uid": "863-D", "url": "https://codeforces.com/contest/863/problem/D", "tags": ["data structures", " implementation"], "title": "863-D", "statement": "D. Yet Another Array Queries Problemtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an arrayaof sizen, andqqueries to it. There are queries of two types:1liri— perform a cyclic shift of the segment[li,ri]to the right. That is, for everyxsuch thatli≤x<rinew value ofax+ 1becomes equal to old value ofax, and new value ofalibecomes equal to old value ofari;2liri— reverse the segment[li,ri].There aremimportant indices in the arrayb1,b2, ...,bm. For eachisuch that1 ≤i≤myou have to output the number that will have indexbiin the array after all queries are performed.InputThe first line contains three integer numbersn,qandm(1 ≤n,q≤ 2·105,1 ≤m≤ 100).The second line containsninteger numbersa1,a2, ...,an(1 ≤ai≤ 109).Thenqlines follow.i-th of them contains three integer numbersti,li,ri, wheretiis the type ofi-th query, and[li,ri]is the segment where this query is performed (1 ≤ti≤ 2,1 ≤li≤ri≤n).The last line containsminteger numbersb1,b2, ...,bm(1 ≤bi≤n) — important indices of the array.OutputPrintmnumbers,i-th of which is equal to the number at indexbiafter all queries are done.ExampleInput6 3 51 2 3 4 5 62 1 32 3 61 1 62 2 1 5 3Output3 3 1 5 2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0eb48a4b", "template_md5": "35d339e4", "result": "You are given an array of size $n$ and $q$ queries to perform on it. There are two types of queries:\n\n1. **Cyclic Shift:** Shift the segment from index $l$ to $r$ ($l \\le r$) to the right. This means the element at index $x$ ($l \\le x < r$) will become the element at index $x+1$, and the element at index $l$ will become the element at index $r$.\n2. **Reverse:** Reverse the segment from index $l$ to $r$ ($l \\le r$).\n\nThere are $m$ important indices $b_1, b_2, ..., b_m$ in the array. For each $i$ ($1 \\le i \\le m$), you need to find the value at index $b_i$ after all the queries are performed.\n\n**Input:**\n\n* The first line contains three integers: $n$, $q$, and $m$ ($1 \\le n, q \\le 2 \\cdot 10^5$, $1 \\le m \\le 100$).\n* The second line contains $n$ integers: $a_1, a_2, ..., a_n$ ($1 \\le a_i \\le 10^9$).\n* The next $q$ lines each contain three integers: $t$, $l$, and $r$ ($1 \\le t \\le 2$, $1 \\le l \\le r \\le n$).  $t$ indicates the type of query (1 for cyclic shift, 2 for reverse), and $[l, r]$ is the segment affected by the query.\n* The last line contains $m$ integers: $b_1, b_2, ..., b_m$ ($1 \\le b_i \\le n$).\n\n**Output:**\n\nPrint $m$ integers, where the $i$-th integer is the value at index $b_i$ after all the queries are performed."}, {"prompt_md5": "7d402461", "template_md5": "465699a0", "result": "You are given an array of numbers and a series of operations to perform on it. Some operations shift a segment of the array to the right, and others reverse a segment. You are also given a list of important indices.  Find the value at each of these important indices after all operations are completed."}]}