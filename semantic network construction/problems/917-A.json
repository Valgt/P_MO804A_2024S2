{"uid": "917-A", "url": "https://codeforces.com/contest/917/problem/A", "tags": ["dp", " greedy", " implementation", " math"], "title": "917-A", "statement": "A. The Monstertime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputAs Will is stuck in the Upside Down, he can still communicate with his mom, Joyce, through the Christmas lights (he can turn them on and off with his mind). He can't directly tell his mom where he is, because the monster that took him to the Upside Down will know and relocate him.Thus, he came up with a puzzle to tell his mom his coordinates. His coordinates are the answer to the following problem.A string consisting only of parentheses ('(' and ')') is called a bracket sequence. Some bracket sequence are called correct bracket sequences. More formally:Empty string is a correct bracket sequence.ifsis a correct bracket sequence, then(s)is also a correct bracket sequence.ifsandtare correct bracket sequences, thenst(concatenation ofsandt) is also a correct bracket sequence.A string consisting of parentheses and question marks ('?') is called pretty if and only if there's a way to replace each question mark with either '(' or ')' such that the resulting string is anon-emptycorrect bracket sequence.Will gave his mom a stringsconsisting of parentheses and question marks (using Morse code through the lights) and his coordinates are the number of pairs of integers(l,r)such that1 ≤l≤r≤ |s|and the stringslsl+ 1...sris pretty, wheresiisi-th character ofs.Joyce doesn't know anything about bracket sequences, so she asked for your help.InputThe first and only line of input contains strings, consisting only of characters '(', ')' and '?' (2 ≤ |s| ≤ 5000).OutputPrint the answer to Will's puzzle in the first and only line of output.ExamplesInput((?))Output4Input??()??Output7NoteFor the first sample testcase, the pretty substrings ofsare:\"(?\" which can be transformed to \"()\".\"?)\" which can be transformed to \"()\".\"((?)\" which can be transformed to \"(())\".\"(?))\" which can be transformed to \"(())\".For the second sample testcase, the pretty substrings ofsare:\"??\" which can be transformed to \"()\".\"()\".\"??()\" which can be transformed to \"()()\".\"?()?\" which can be transformed to \"(())\".\"??\" which can be transformed to \"()\".\"()??\" which can be transformed to \"()()\".\"??()??\" which can be transformed to \"()()()\".", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c3f8ace6", "template_md5": "35d339e4", "result": "You are given a string consisting of parentheses '(' , ')' and question marks '?'.  \n\nA substring of this string is considered \"pretty\" if you can replace all the '?' characters with '(' or ')' to form a valid bracket sequence. A valid bracket sequence is one that follows these rules:\n\n* An empty string is a valid bracket sequence.\n* If  's' is a valid bracket sequence, then '(s)' is also a valid bracket sequence.\n* If 's' and 't' are valid bracket sequences, then 'st' is also a valid bracket sequence.\n\nYour task is to count the number of pairs of integers (l, r) such that 1 ≤ l ≤ r ≤ |s| (where |s| is the length of the string) and the substring  s[l...r] is pretty.\n\n\n\nLet me know if you'd like me to elaborate on any part of the problem!"}, {"prompt_md5": "688ebd27", "template_md5": "465699a0", "result": "Given a string containing parentheses and question marks, count the number of substrings where you can replace the question marks with parentheses to form a valid, balanced parenthesis sequence."}]}