{"uid": "855-F", "url": "https://codeforces.com/contest/855/problem/F", "tags": ["binary search", " data structures"], "title": "855-F", "statement": "F. Naginitime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputNagini, being a horcrux You-know-who created with the murder of Bertha Jorkins, has accumulated its army of snakes and is launching an attack on Hogwarts school.Hogwarts' entrance can be imagined as a straight line (x-axis) from1to105. Nagini is launching various snakes at the Hogwarts entrance. Each snake lands parallel to the entrance, covering a segment at a distancekfromx=ltox=r. Formally, each snake can be imagined as being a line segment between points(l,k)and(r,k). Note thatkcan be both positive and negative, but not0.Let, at somex-coordinatex=i, there be snakes at point(i,y1)and point(i,y2), such thaty1> 0andy2< 0. Then, if for any point(i,y3)containing a snake such thaty3> 0,y1≤y3holds and for any point(i,y4)containing a snake such thaty4< 0,|y2| ≤ |y4|holds, then the danger value at coordinatex=iisy1+ |y2|. If no suchy1andy2exist, danger value is0.Harry wants to calculate the danger value of various segments of the Hogwarts entrance. Danger value for a segment[l,r)of the entrance can be calculated by taking the sum of danger values for each integerx-coordinate present in the segment.Formally, you have to implement two types of queries:1 l r k: a snake is added parallel to entrance fromx=ltox=rat y-coordinatey=k(linclusive,rexclusive).2 l r: you have to calculate the danger value of segmentltor(linclusive,rexclusive).InputFirst line of input contains a single integerq(1 ≤q≤ 5·104) denoting the number of queries.Nextqlines each describe a query. Each query description first contains the query typetypei(1 ≤typei≤ 2). This is followed by further description of the query. In case of the type being1, it is followed by integersli,riandki(,- 109≤ki≤ 109,k≠ 0). Otherwise, it just contains two integers,liandri(1 ≤li<ri≤ 105).OutputOutput the answer for each query of type 2 in a separate line.ExamplesInput31 1 10 101 2 4 -72 1 10Output34Input71 2 3 51 1 10 101 4 5 -52 4 81 1 10 -102 4 82 1 10Output1575170NoteIn the first sample case, the danger value forx-coordinates1is0as there is noy2satisfying the above condition forx= 1.Danger values forx-coordinates2and3is10 + | - 7| = 17.Danger values forx-coordinates4to9is again0as there is noy2satisfying the above condition for these coordinates.Thus, total danger value is17 + 17 = 34.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "bd506dd3", "template_md5": "35d339e4", "result": "You are given a line segment from $x=1$ to $x=10^5$.  Snakes are launched at the line segment, each snake covering a segment of the line at a distance $k$ from the x-axis. Each snake can be represented as a line segment between points $(l,k)$ and $(r,k)$.  \n\nThere are two types of queries:\n\n1. **Add snake:**  Add a snake to the line segment from $x=l$ to $x=r$ at a y-coordinate of $k$.\n2. **Calculate danger value:** Calculate the danger value of the line segment from $x=l$ to $x=r$.\n\nThe danger value at a point $x$ is calculated as follows:\n\n* If there are snakes at $x$ with positive $y$ coordinates ($y_1 > 0$) and negative $y$ coordinates ($y_2 < 0$), then the danger value at $x$ is $y_1 + |y_2|$.\n* If there are no snakes at $x$ with both positive and negative $y$ coordinates, then the danger value at $x$ is 0.\n\nThe danger value of a segment is the sum of the danger values at each integer $x$ coordinate within the segment."}, {"prompt_md5": "8435c3bb", "template_md5": "465699a0", "result": "You are given a line segment.  Objects are added to the line segment at specific points, each object covering a range of points.  You need to calculate the \"danger value\" of different segments of the line. The danger value of a segment is the sum of the danger values at each point within that segment. The danger value at a point is determined by the objects present at that point and their heights. \n\n\nYou will be given two types of queries:\n\n1. Add an object to the line segment at a specific point and height.\n2. Calculate the danger value of a specific segment of the line."}]}