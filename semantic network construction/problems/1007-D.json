{"uid": "1007-D", "url": "https://codeforces.com/contest/1007/problem/D", "tags": ["2-sat", " data structures", " trees"], "title": "1007-D", "statement": "D. Antstime limit per test3 secondsmemory limit per test768 megabytesinputstandard inputoutputstandard outputThere is a tree with $$$n$$$ vertices. There are also $$$m$$$ ants living on it. Each ant has its own color. The $$$i$$$-th ant has two favorite pairs of vertices: ($$$a_i, b_i$$$) and ($$$c_i, d_i$$$). You need to tell if it is possible to paint the edges of the tree in $$$m$$$ colors so that every ant will be able to walk between vertices from one of its favorite pairs using only edges of his color; if it is possible, you need to print which pair every ant should use.InputThe first line contains a single integer $$$n$$$ ($$$2 \\\\leq n \\\\leq 10^5$$$) — the number of vertices.Each of the next $$$n-1$$$ lines contains two integers $$$u_i$$$ and $$$v_i$$$ ($$$1 \\\\leq u_i, v_i \\\\leq n$$$), meaning that there is an edge between vertices $$$u_i$$$ and $$$v_i$$$.The next line contains a single integer $$$m$$$ ($$$1 \\\\leq m \\\\leq 10^4$$$) — the number of ants.Each of the next $$$m$$$ lines contains four integers $$$a_i$$$, $$$b_i$$$, $$$c_i$$$, and $$$d_i$$$ ($$$1 \\\\leq a_i, b_i, c_i, d_i \\\\leq n$$$, $$$a_i \\\\neq b_i, c_i \\\\neq d_i$$$), meaning that pairs ($$$a_i$$$, $$$b_i$$$) and ($$$c_i$$$, $$$d_i$$$) are favorite for the $$$i$$$-th ant.OutputPrint \"NO\" (without quotes) if the wanted painting is impossible.Otherwise, print \"YES\" (without quotes). Print $$$m$$$ lines. On the $$$i$$$-th line, print $$$1$$$ if the $$$i$$$-th ant will use the first pair and $$$2$$$ otherwise. If there are multiple answers, print any.ExamplesInput61 23 14 15 26 232 6 3 41 6 6 51 4 5 2OutputYES212Input51 21 31 41 522 3 4 53 4 5 2OutputNONoteIn the sample, the second and the third edge should be painted in the first color, the first and the fifth should be painted in the second color, and the fourth should be painted in the third color.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f9363611", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices. There are $m$ ants, each with two favorite pairs of vertices.  You need to color the edges of the tree with $m$ colors so that each ant can travel between the vertices of one of its favorite pairs using only edges of its color. \n\n**Input:**\n\n* The first line contains $n$ (the number of vertices).\n* The next $n-1$ lines each contain two integers $u_i$ and $v_i$ (representing an edge between vertices $u_i$ and $v_i$).\n* The next line contains $m$ (the number of ants).\n* Each of the next $m$ lines contains four integers $a_i$, $b_i$, $c_i$, and $d_i$ (representing the two favorite pairs of vertices for the $i$-th ant).\n\n**Output:**\n\n* If it is possible to color the edges as described, print \"YES\".\n* Otherwise, print \"NO\".\n* If it is possible, print $m$ lines, where the $i$-th line contains 1 if the $i$-th ant uses the first pair of its favorite vertices, and 2 if it uses the second pair."}, {"prompt_md5": "7867799e", "template_md5": "465699a0", "result": "You are given a tree with nodes and edges.  Each edge can be colored. There are ants, each with two pairs of favorite nodes.  Determine if it's possible to color the edges so that each ant can travel between its favorite nodes using only edges of the same color. If possible, indicate which pair each ant should use."}]}