{"uid": "1467-E", "url": "https://codeforces.com/contest/1467/problem/E", "tags": ["data structures", " dfs and similar", " dp", " trees"], "title": "1467-E", "statement": "E. Distinctive Roots in a Treetime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a tree with $$$n$$$ vertices. Each vertex $$$i$$$ has a value $$$a_i$$$ associated with it.Let us root the tree at some vertex $$$v$$$. The vertex $$$v$$$ is called adistinctive rootif the following holds: in all paths that start at $$$v$$$ and end at some other node, all the values encountered are distinct. Two different paths may have values in common but a single path must have all distinct values.Find the number ofdistinctive rootsin the tree.InputThe first line of the input contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 2\\\\cdot10^5$$$) — the number of vertices in the tree.The next line contains $$$n$$$ space-separated integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$1 \\\\le a_i \\\\le 10^9$$$).The following $$$n-1$$$ lines each contain two space-separated integers $$$u$$$ and $$$v$$$ ($$$1 \\\\le u$$$, $$$v \\\\le n$$$), denoting an edge from $$$u$$$ to $$$v$$$.It is guaranteed that the edges form a tree.OutputPrint a single integer — the number ofdistinctive rootsin the tree.ExamplesInput5 2 5 1 1 4 1 2 1 3 2 4 2 5Output3Input5 2 1 1 1 4 1 2 1 3 2 4 2 5Output0NoteIn the first example, $$$1$$$, $$$2$$$ and $$$5$$$ aredistinctive roots.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "41213d94", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices. Each vertex has a value associated with it.  \n\nA root of the tree is called *distinctive* if for every path that starts at that root and ends at another vertex, all the values encountered along that path are different.\n\nFind the number of distinctive roots in the tree. \n\n**Input:**\n\n* The first line contains an integer $n$ ($1 \\le n \\le 2 \\cdot 10^5$) representing the number of vertices.\n* The second line contains $n$ space-separated integers $a_1, a_2, ..., a_n$ ($1 \\le a_i \\le 10^9$) representing the values of the vertices.\n* The next $n-1$ lines each contain two space-separated integers $u$ and $v$ ($1 \\le u, v \\le n$) representing an edge between vertices $u$ and $v$.\n\n**Output:**\n\n* Print a single integer representing the number of distinctive roots in the tree."}, {"prompt_md5": "2f15ef51", "template_md5": "465699a0", "result": "You have a tree-like structure with numbered nodes, each having a value.  Find the number of nodes where every path starting from that node and going to another node has unique values along the way."}]}