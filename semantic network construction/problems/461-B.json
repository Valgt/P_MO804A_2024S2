{"uid": "461-B", "url": "https://codeforces.com/contest/461/problem/B", "tags": ["dfs and similar", " dp", " trees"], "title": "461-B", "statement": "B. Appleman and Treetime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutAppleman has a tree withnvertices. Some of the vertices (at least one) are colored black and other vertices are colored white.Consider a set consisting ofk(0 ≤k<n)edges of Appleman's tree. If Appleman deletes these edges from the tree, then it will split into(k+ 1)parts. Note, that each part will be a tree with colored vertices.Now Appleman wonders, what is the number of sets splitting the tree in such a way that each resulting part will have exactly one black vertex? Find this number modulo1000000007(109+ 7).InputThe first line contains an integern(2  ≤n≤ 105) — the number of tree vertices.The second line contains the description of the tree:n- 1integersp0,p1, ...,pn- 2(0 ≤pi≤i). Wherepimeans that there is an edge connecting vertex(i+ 1)of the tree and vertexpi. Consider tree vertices are numbered from0ton- 1.The third line contains the description of the colors of the vertices:nintegersx0,x1, ...,xn- 1(xiis either0or1). Ifxiis equal to1, vertexiis colored black. Otherwise, vertexiis colored white.OutputOutput a single integer — the number of ways to split the tree modulo1000000007(109+ 7).ExamplesInput30 00 1 1Output2Input60 1 1 0 41 1 0 0 1 0Output1Input100 1 2 1 4 4 4 0 80 0 0 1 0 1 1 0 0 1Output27", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a2258329", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices. Some vertices are colored black and the rest are colored white.  \n\nYou need to find the number of ways to remove $k$ edges ($0 \\le k < n$) from the tree such that the remaining tree is split into $k+1$ separate trees, and each of these separate trees has exactly one black vertex.\n\nThe answer should be given modulo $10^9 + 7$.\n\nThe input will consist of:\n\n* The number of vertices, $n$.\n* $n-1$ integers representing the edges of the tree.\n* $n$ integers representing the colors of the vertices (0 for white, 1 for black)."}, {"prompt_md5": "b9211d93", "template_md5": "465699a0", "result": "You are given a tree with some nodes colored black and others white.  Find the number of ways to remove edges from the tree so that each remaining part of the tree has exactly one black node."}]}