{"uid": "1867-F", "url": "https://codeforces.com/contest/1867/problem/F", "tags": ["brute force", " constructive algorithms", " dfs and similar", " greedy", " hashing"], "title": "1867-F", "statement": "F. Most Different Treetime limit per test4 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputGiven a tree with $$$n$$$ vertices rooted at vertex $$$1$$$, denote it as $$$G$$$. Also denote $$$P(G)$$$ as the multiset of subtrees of all vertices in tree $$$G$$$. You need to find a tree $$$G'$$$ of size $$$n$$$ rooted at vertex $$$1$$$ such that the number of subtrees in $$$P(G')$$$ that are isomorphic to any subtree in $$$P(G)$$$ is minimized.A subtree of vertex $$$v$$$ is a graph that contains all vertices for which vertex $$$v$$$ lies on the path from the root of the tree to itself, as well as all edges between these vertices.Two rooted trees are considered isomorphic if it is possible to relabel the vertices of one of them so that it becomes equal to the other, with the root of the first tree receiving the number of the root of the second tree.InputThe first line contains a single integer $$$n$$$ ($$$2 \\\\le n \\\\le 10^6$$$) - the number of vertices in tree $$$G$$$. Each of the next $$$n-1$$$ lines contains two integers $$$a$$$ and $$$b$$$ $$$(1 \\\\leq a,b \\\\leq n)$$$, indicating that there is an edge between vertices $$$a$$$ and $$$b$$$ in the tree.OutputOutput $$$n-1$$$ lines, each line containing two numbers $$$a$$$, $$$b$$$ $$$(1 \\\\leq a,b \\\\leq n)$$$ - the edges of tree $$$G'$$$. If there are multiple optimal answers, output any.ExamplesInput2 1 2Output1 2Input3 1 2 1 3Output1 2 2 3Input4 1 2 1 3 3 4Output1 2 2 3 3 4", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "86e01bdd", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices.  You need to find a different tree of the same size with the same root vertex, such that the number of subtrees in the new tree that are the same as subtrees in the original tree is minimized.\n\nTwo trees are the same if you can rename the vertices of one tree so that it looks exactly like the other, with the root of the first tree matching the root of the second.\n\nInput:\n\n* The first line contains an integer $n$ ($2 \\le n \\le 10^6$) representing the number of vertices in the tree.\n* The next $n-1$ lines each contain two integers $a$ and $b$ ($1 \\le a,b \\le n$) representing an edge between vertices $a$ and $b$.\n\nOutput:\n\n* Output $n-1$ lines, each containing two integers $a$ and $b$ ($1 \\le a,b \\le n$) representing the edges of the new tree."}, {"prompt_md5": "0a60a0fe", "template_md5": "465699a0", "result": "You are given a tree.  Find a different tree of the same size that has the fewest subtrees that are the same as subtrees in the original tree."}]}