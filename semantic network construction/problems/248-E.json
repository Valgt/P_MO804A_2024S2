{"uid": "248-E", "url": "https://codeforces.com/contest/248/problem/E", "tags": ["dp", " math", " probabilities"], "title": "248-E", "statement": "E. Piglet's Birthdaytime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutPiglet has got a birthday today. His friend Winnie the Pooh wants to make the best present for him — a honey pot. Of course Winnie realizes that he won't manage to get the full pot to Piglet. In fact, he is likely to eat all the honey from the pot. And as soon as Winnie planned a snack on is way, the pot should initially have as much honey as possible.The day before Winnie the Pooh replenished his honey stocks. Winnie-the-Pooh hasnshelves at home, each shelf contains some, perhaps zero number of honey pots. During the day Winnie came to the honey shelvesqtimes; on thei-th time he came to some shelfui, took from it some potski, tasted the honey from each pot and put all those pots on some shelfvi. As Winnie chose the pots, he followed his intuition. And that means that among all sets ofkipots on shelfui, he equiprobably chooses one.Now Winnie remembers all actions he performed with the honey pots. He wants to take to the party the pot he didn't try the day before. For that he must know the mathematical expectation of the numbermof shelves that don't have a singleuntasted pot. To evaluate his chances better, Winnie-the-Pooh wants to know the valuemafter each action he performs.Your task is to write a program that will find those values for him.InputThe first line of the input contains a single numbern(1 ≤n≤ 105) — the number of shelves at Winnie's place. The second line containsnintegersai(1 ≤i≤n,0 ≤ai≤ 100) — the number of honey pots on a shelf numberi.The next line contains integerq(1 ≤q≤ 105) — the number of actions Winnie did the day before. Then followqlines, thei-th of them describes an event that follows chronologically; the line contains three integersui,viandki(1 ≤ui,vi≤n,1 ≤ki≤ 5) — the number of the shelf from which Winnie took pots, the number of the shelf on which Winnie put the pots after he tasted each of them, and the number of the pots Winnie tasted, correspondingly.Consider the shelves with pots numbered with integers from 1 ton. It is guaranteed that Winnie-the-Pooh Never tried taking more pots from the shelf than it has.OutputFor each Winnie's action print the value of the mathematical expectationmby the moment when this action is performed. The relative or absolute error of each value mustn't exceed10- 9.ExamplesInput32 2 351 2 12 1 21 2 23 1 13 2 2Output0.0000000000000.3333333333331.0000000000001.0000000000002.000000000000", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0545eaec", "template_md5": "35d339e4", "result": "There are $n$ shelves, each with a number of honey pots.  A person performs $q$ actions. Each action consists of:\n\n1. Taking $k$ pots from shelf $u$.\n2. Tasting each of the $k$ pots.\n3. Placing the $k$ pots on shelf $v$.\n\nAfter each action, we want to find the expected number of shelves that have no untasted pots. \n\n**Input:**\n\n* $n$: The number of shelves.\n* $a_i$: The initial number of pots on shelf $i$.\n* $q$: The number of actions.\n* For each action:\n    * $u$: The shelf the pots are taken from.\n    * $v$: The shelf the pots are placed on.\n    * $k$: The number of pots taken.\n\n**Output:**\n\nFor each action, print the expected number of shelves with no untasted pots."}, {"prompt_md5": "e69fd42c", "template_md5": "465699a0", "result": "You are given a number of shelves, each with a number of items.  A person repeatedly takes some items from one shelf, samples them, and puts them on a different shelf.  After each action, calculate the expected number of shelves that have no unsampled items left."}]}