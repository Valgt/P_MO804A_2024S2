{"uid": "513-G1", "url": "https://codeforces.com/contest/513/problem/G1", "tags": ["brute force", " dfs and similar", " dp", " meet-in-the-middle"], "title": "513-G1", "statement": "G1. Inversions problemtime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutYou are given a permutation ofnnumbersp1,p2, ...,pn. We performkoperations of the following type: choose uniformly at random two indiceslandr(l≤r) and reverse the order of the elementspl,pl+ 1, ...,pr. Your task is to find the expected value of the number of inversions in the resulting permutation.InputThe first line of input contains two integersnandk(1 ≤n≤ 100,1 ≤k≤ 109). The next line containsnintegersp1,p2, ...,pn— the given permutation. Allpiare different and in range from 1 ton.The problem consists of three subproblems. The subproblems have different constraints on the input. You will get some score for the correct submission of the subproblem. The description of the subproblems follows.In subproblem G1 (3points), the constraints1 ≤n≤ 6,1 ≤k≤ 4will hold.In subproblem G2 (5points), the constraints1 ≤n≤ 30,1 ≤k≤ 200will hold.In subproblem G3 (16points), the constraints1 ≤n≤ 100,1 ≤k≤ 109will hold.OutputOutput the answer with absolute or relative error no more than1e- 9.ExamplesInput3 11 2 3Output0.833333333333333Input3 41 3 2Output1.458333333333334NoteConsider the first sample test. We will randomly pick an interval of the permutation(1, 2, 3)(which has no inversions) and reverse the order of its elements. With probability, the interval will consist of a single element and the permutation will not be altered. With probabilitywe will inverse the first two elements' order and obtain the permutation(2, 1, 3)which has one inversion. With the same probability we might pick the interval consisting of the last two elements which will lead to the permutation(1, 3, 2)with one inversion. Finally, with probabilitythe randomly picked interval will contain all elements, leading to the permutation(3, 2, 1)with 3 inversions. Hence, the expected number of inversions is equal to.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "30631b12", "template_md5": "35d339e4", "result": "You are given a permutation of $n$ numbers $p_1, p_2, ..., p_n$. You will perform $k$ operations. In each operation, you randomly choose two indices $l$ and $r$ ($l \\le r$) and reverse the order of the elements $p_l, p_{l+1}, ..., p_r$. \n\nFind the expected number of inversions in the resulting permutation after all $k$ operations.\n\nAn inversion is a pair of elements $p_i$ and $p_j$ where $i < j$ but $p_i > p_j$. \n\n\nThe problem has three subproblems with different constraints on $n$ and $k$."}, {"prompt_md5": "37996fcd", "template_md5": "465699a0", "result": "You are given a list of numbers. You can randomly choose a section of the list and reverse the order of the numbers in that section. This can be done many times. What is the average number of times you'll find two numbers out of order (an inversion) after all the reversals are done?"}]}