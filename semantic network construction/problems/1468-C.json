{"uid": "1468-C", "url": "https://codeforces.com/contest/1468/problem/C", "tags": ["data structures", " implementation"], "title": "1468-C", "statement": "C. Berpizzatime limit per test5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputMonocarp and Polycarp are working as waiters in Berpizza, a pizzeria located near the center of Bertown. Since they are waiters, their job is to serve the customers, but they choose whom they serve first differently.At the start of the working day, there are no customers at the Berpizza. They come there one by one. When a customer comes into the pizzeria, she sits and waits for Monocarp or Polycarp to serve her. Monocarp has been working in Berpizza for just two weeks, so whenever he serves a customer, he simply chooses the one who came to Berpizza first, and serves that customer.On the other hand, Polycarp is an experienced waiter at Berpizza, and he knows which customers are going to spend a lot of money at the pizzeria (and which aren't) as soon as he sees them. For each customer, Polycarp estimates the amount of money this customer can spend, and when he serves a customer, he chooses the one that is expected to leave the most money at Berpizza (in case there are several such customers, he chooses the one who came first among them).Obviously, no customer can be served twice, so Monocarp and Polycarp choose which customer to serve only among those who haven't been served yet.When the number of customers gets really high, it becomes difficult for both Monocarp and Polycarp to choose the customer they are going to serve. Your task is to write a program that makes these choices for them. Formally, your program should be able to process three types of queries:$$$1$$$ $$$m$$$ — a customer comes to Berpizza, and Polycarp estimates the amount of money that they will spend as $$$m$$$;$$$2$$$ — Monocarp serves a customer which came to the pizzeria first;$$$3$$$ — Polycarp serves a customer which is expected to spend the largest amount of money at the pizzeria (if there are several such customers, the one that came to the pizzeria first is chosen).For each query of types $$$2$$$ and $$$3$$$, report the number of the customer who was served (the customers are numbered in the order they come to the pizzeria, starting from $$$1$$$).InputThe first line contains one integer $$$q$$$ ($$$2 \\\\le q \\\\le 5 \\\\cdot 10^5$$$) — the number of queries.Then $$$q$$$ lines follow, each describing a query in one of the following formats:$$$1$$$ $$$m$$$ ($$$1 \\\\le m \\\\le 5 \\\\cdot 10^5$$$) — a customer comes to Berpizza, and Polycarp estimates the amount of money that they will spend as $$$m$$$;$$$2$$$ — Monocarp serves a customer which came to the pizzeria first;$$$3$$$ — Polycarp serves a customer which is expected to spend the largest amount of money at the pizzeria (if there are multiple such customers, the one that came to the pizzeria first is chosen).Queries of type $$$2$$$ and $$$3$$$ are asked only when there exists at least one customer that hasn't been served yet. There is at least one query of type $$$2$$$ or $$$3$$$ in the input.OutputFor each query of type $$$2$$$ or $$$3$$$, print one integer — the number of the customer that has been served in that event. The customers are numbered in the order in which they come to the pizzeria, starting from $$$1$$$.ExamplesInput8 1 8 1 10 1 6 3 2 1 9 2 3Output2 1 3 4Input6 1 8 1 10 1 8 3 3 3Output2 1 3Input8 1 103913 3 1 103913 1 103913 3 1 103913 1 103913 2Output1 2 3", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0b77db33", "template_md5": "35d339e4", "result": "You are given a sequence of queries. Each query is one of three types:\n\n* **Type 1:** A new customer arrives and is estimated to spend a certain amount of money ($m$).\n* **Type 2:** The waiter who serves customers first in line serves a customer.\n* **Type 3:** The waiter who serves customers based on estimated spending serves a customer (choosing the customer who is expected to spend the most, and if there are ties, the one who arrived first).\n\nFor each Type 2 and Type 3 query, output the number of the customer who was served. \n\n**Constraints:**\n\n* There are at least $2$ and at most $5 \\times 10^5$ queries.\n* The amount of money a customer is estimated to spend ($m$) is between $1$ and $5 \\times 10^5$.\n* There is at least one Type 2 or Type 3 query in the input.\n\n\n\nLet me know if you'd like help with any specific part of the problem or have any further questions."}, {"prompt_md5": "018f77db", "template_md5": "465699a0", "result": "There are two servers. One server serves the customer who arrived first. The other server serves the customer who is expected to spend the most money.  You are given a series of events:\n\n* A customer arrives with an estimated spending amount.\n* The first server serves a customer.\n* The second server serves a customer.\n\nFor each event where a customer is served, output the number of the served customer."}]}