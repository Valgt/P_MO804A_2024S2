{"uid": "1249-C2", "url": "https://codeforces.com/contest/1249/problem/C2", "tags": ["binary search", " greedy", " math", " meet-in-the-middle"], "title": "1249-C2", "statement": "C2. Good Numbers (hard version)time limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThe only difference between easy and hard versions is the maximum value of $$$n$$$.You are given a positive integer number $$$n$$$. You really lovegood numbersso you want to find the smallestgood numbergreater than or equal to $$$n$$$.The positive integer is calledgoodif it can be represented as a sum ofdistinctpowers of $$$3$$$ (i.e. no duplicates of powers of $$$3$$$ are allowed).For example:$$$30$$$ is agood number: $$$30 = 3^3 + 3^1$$$,$$$1$$$ is agood number: $$$1 = 3^0$$$,$$$12$$$ is agood number: $$$12 = 3^2 + 3^1$$$,but $$$2$$$ isnotagood number: you can't represent it as a sum of distinct powers of $$$3$$$ ($$$2 = 3^0 + 3^0$$$),$$$19$$$ isnotagood number: you can't represent it as a sum of distinct powers of $$$3$$$ (for example, the representations $$$19 = 3^2 + 3^2 + 3^0 = 3^2 + 3^1 + 3^1 + 3^1 + 3^0$$$ are invalid),$$$20$$$ is alsonotagood number: you can't represent it as a sum of distinct powers of $$$3$$$ (for example, the representation $$$20 = 3^2 + 3^2 + 3^0 + 3^0$$$ is invalid).Note, that there exist other representations of $$$19$$$ and $$$20$$$ as sums of powers of $$$3$$$ but none of them consists ofdistinctpowers of $$$3$$$.For the given positive integer $$$n$$$ find such smallest $$$m$$$ ($$$n \\\\le m$$$) that $$$m$$$ is agood number.You have to answer $$$q$$$ independent queries.InputThe first line of the input contains one integer $$$q$$$ ($$$1 \\\\le q \\\\le 500$$$) â€” the number of queries. Then $$$q$$$ queries follow.The only line of the query contains one integer $$$n$$$ ($$$1 \\\\le n \\\\le 10^{18}$$$).OutputFor each query, print such smallest integer $$$m$$$ (where $$$n \\\\le m$$$) that $$$m$$$ is agood number.ExampleInput8 1 2 6 13 14 3620 10000 1000000000000000000Output1 3 9 13 27 6561 19683 1350851717672992089", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "bf87ab81", "template_md5": "465699a0", "result": "Given a number, find the smallest larger number that can be made by adding together different powers of 3."}, {"prompt_md5": "e44b7129", "template_md5": "35d339e4", "result": "You are given a positive integer $n$.  Find the smallest integer $m$ greater than or equal to $n$ that can be written as the sum of distinct powers of 3 (e.g., $30 = 3^3 + 3^1$).\n\nYou will be given $q$ different values of $n$ to test."}]}