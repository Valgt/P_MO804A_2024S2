{"uid": "1796-D", "url": "https://codeforces.com/contest/1796/problem/D", "tags": ["data structures", " dp", " greedy", " two pointers"], "title": "1796-D", "statement": "D. Maximum Subarraytime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given an array $$$a_1, a_2, \\\\dots, a_n$$$, consisting of $$$n$$$ integers. You are also given two integers $$$k$$$ and $$$x$$$.You have to perform the following operation exactly once: add $$$x$$$ to the elements onexactly$$$k$$$distinctpositions, and subtract $$$x$$$ from all the others.For example, if $$$a = [2, -1, 2, 3]$$$, $$$k = 1$$$, $$$x = 2$$$, and we have picked the first element, then after the operation the array $$$a = [4, -3, 0, 1]$$$.Let $$$f(a)$$$ be the maximum possible sum of a subarray of $$$a$$$. The subarray of $$$a$$$ is a contiguous part of the array $$$a$$$, i. e. the array $$$a_i, a_{i + 1}, \\\\dots, a_j$$$ for some $$$1 \\\\le i \\\\le j \\\\le n$$$. An empty subarray should also be considered, it has sum $$$0$$$.Let the array $$$a'$$$ be the array $$$a$$$ after applying the aforementioned operation. Apply the operation in such a way that $$$f(a')$$$ is the maximum possible, and print the maximum possible value of $$$f(a')$$$.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — the number of test cases.The first line of each test case contains three integers $$$n$$$, $$$k$$$ and $$$x$$$ ($$$1 \\\\le n \\\\le 2 \\\\cdot 10^5$$$; $$$0 \\\\le k \\\\le \\\\min(20, n)$$$; $$$-10^9 \\\\le x \\\\le 10^9$$$).The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$-10^9 \\\\le a_i \\\\le 10^9$$$).The sum of $$$n$$$ over all test cases doesn't exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, print one integer — the maximum possible value of $$$f(a')$$$.ExampleInput44 1 22 -1 2 32 2 3-1 23 0 53 2 46 2 -84 -1 9 -3 7 -8Output5 7 0 44", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "01a1b59c", "template_md5": "465699a0", "result": "You are given a list of numbers and two values, k and x. You can choose k positions in the list and add x to those numbers, while subtracting x from all other numbers. Find the largest possible sum of a continuous section of numbers in the modified list."}, {"prompt_md5": "4b066be6", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers: $a_1, a_2, ..., a_n$. You can choose $k$ positions in the array and add $x$ to the elements at those positions.  You must subtract $x$ from all the other elements in the array.\n\nFind the maximum possible sum of a contiguous subarray after performing this operation.\n\n**Input:**\n\n* $t$: the number of test cases\n* For each test case:\n    * $n$: the length of the array\n    * $k$: the number of positions to add $x$ to\n    * $x$: the value to add/subtract\n    * $a_1, a_2, ..., a_n$: the elements of the array\n\n**Output:**\n\n* For each test case, print the maximum possible sum of a contiguous subarray after performing the operation."}]}