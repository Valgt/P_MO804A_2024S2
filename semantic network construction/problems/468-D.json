{"uid": "468-D", "url": "https://codeforces.com/contest/468/problem/D", "tags": ["graph matchings"], "title": "468-D", "statement": "D. Treetime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutLittle X has a tree consisting ofnnodes (they are numbered from1ton). Each edge of the tree has a positive length. Let's define the distance between two nodesvandu(we'll denote itd(v,u)) as the sum of the lengths of edges in the shortest path betweenvandu.A permutationpis a sequence ofndistinct integersp1,p2, ...,pn(1 ≤pi≤n). Little X wants to find a permutationpsuch that sumis maximal possible. If there are multiple optimal permutations, he wants to find the lexicographically smallest one. Help him with the task!InputThe first line contains an integern(1 ≤n≤ 105).Each of the nextn- 1lines contains three space separated integersui,vi,wi(1 ≤ui,vi≤n; 1 ≤wi≤  105), denoting an edge between nodesuiandviwith length equal towi.It is guaranteed that these edges form a tree.OutputIn the first line print the maximum possible value of the described sum. In the second line printnintegers, representing the lexicographically smallest permutation.ExamplesInput21 2 3Output62 1Input51 2 21 3 32 4 42 5 5Output322 1 4 5 3", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "581a8490", "template_md5": "35d339e4", "result": "You are given a tree with $n$ nodes. Each edge in the tree has a positive length. \n\nThe distance between two nodes $v$ and $u$ is the sum of the lengths of the edges in the shortest path between them. We denote this distance as $d(v,u)$.\n\nYou need to find a permutation $p$ of the nodes (i.e., an ordering of the nodes from 1 to $n$) that maximizes the sum of the distances between each node and its position in the permutation. \n\nIf there are multiple permutations that achieve the maximum sum, you should output the lexicographically smallest one.\n\n**Input:**\n\n* The first line contains an integer $n$ (the number of nodes).\n* Each of the next $n-1$ lines contains three space-separated integers $u$, $v$, and $w$ (representing an edge between nodes $u$ and $v$ with length $w$).\n\n**Output:**\n\n* The first line should contain the maximum possible sum.\n* The second line should contain $n$ integers, representing the lexicographically smallest permutation that achieves the maximum sum."}, {"prompt_md5": "8fb07a2a", "template_md5": "465699a0", "result": "You are given a tree with numbered nodes. Each connection between nodes has a length.  Find a specific order of the nodes that maximizes the sum of the lengths of the connections between each node and its position in the order.  If there are multiple orders that maximize the sum, choose the one that comes first alphabetically."}]}