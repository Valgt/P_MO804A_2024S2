{"uid": "1371-F", "url": "https://codeforces.com/contest/1371/problem/F", "tags": ["data structures", " divide and conquer", " implementation"], "title": "1371-F", "statement": "F. Raging Thundertime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are a warrior fighting against the machine god Thor.Thor challenge you to solve the following problem:There are $$$n$$$ conveyors arranged in a line numbered with integers from $$$1$$$ to $$$n$$$ from left to right. Each conveyor has a symbol \"<\" or \">\". The initial state of the conveyor $$$i$$$ is equal to the $$$i$$$-th character of the string $$$s$$$. There are $$$n+1$$$ holes numbered with integers from $$$0$$$ to $$$n$$$. The hole $$$0$$$ is on the left side of the conveyor $$$1$$$, and for all $$$i \\\\geq 1$$$ the hole $$$i$$$ is on the right side of the conveyor $$$i$$$.When a ball is on the conveyor $$$i$$$, the ball moves by the next rules:If the symbol \"<\" is on the conveyor $$$i$$$, then:If $$$i=1$$$, the ball falls into the hole $$$0$$$.If the symbol \"<\" is on the conveyor $$$i-1$$$, the ball moves to the conveyor $$$i-1$$$.If the symbol \">\" is on the conveyor $$$i-1$$$, the ball falls into the hole $$$i-1$$$.If the symbol \">\" is on the conveyor $$$i$$$, then:If $$$i=n$$$, the ball falls into the hole $$$n$$$.If the symbol \">\" is on the conveyor $$$i+1$$$, the ball moves to the conveyor $$$i+1$$$.If the symbol \"<\" is on the conveyor $$$i+1$$$, the ball falls into the hole $$$i$$$.You should answer next $$$q$$$ queries, each query is defined by the pair of integers $$$l, r$$$ ($$$1 \\\\leq l \\\\leq r \\\\leq n$$$):First, for all conveyors $$$l,l+1,...,r$$$, the symbol \"<\" changes to \">\" and vice versa.These changes remain for the next queries.After that, putone ballon each conveyor $$$l,l+1,...,r$$$. Then, each ball falls into some hole. Find the maximum number of balls in one hole.After the query all balls disappear and don't considered in the next queries.InputThe first line contains two integers $$$n$$$, $$$q$$$ ($$$1 \\\\le n \\\\le 5 \\\\times 10^5 , 1 \\\\le q \\\\le 10^5$$$).The second line contains a string $$$s$$$ of length $$$n$$$. It consists of characters \"<\" and \">\".Next $$$q$$$ lines contain the descriptions of the queries, $$$i$$$-th of them contains two integers $$$l$$$, $$$r$$$ $$$(1 \\\\le l \\\\le r \\\\le n)$$$, describing the $$$i$$$-th query.OutputPrint $$$q$$$ lines, in the $$$i$$$-th of them print the answer to the $$$i$$$-th query.ExampleInput5 6 ><>>< 2 4 3 5 1 5 1 3 2 4 1 5Output3 3 5 3 2 3NoteIn the first query, the conveyors change to \">><<<\". After that, put a ball on each conveyor $$$\\\\{2,3,4\\\\}$$$. All three balls fall into the hole $$$2$$$. So the answer is $$$3$$$.In the second query, the conveyors change to \">>>>>\". After that, put a ball on each conveyor $$$\\\\{3,4,5\\\\}$$$. All three balls fall into the hole $$$5$$$. So the answer is $$$3$$$.In the third query, the conveyors change to \"<<<<<\". After that, put a ball on each conveyor $$$\\\\{1,2,3,4,5\\\\}$$$. All five balls fall into the hole $$$0$$$. So the answer is $$$5$$$.In the fourth query, the conveyors change to \">>><<\". After that, put a ball on each conveyor $$$\\\\{1,2,3\\\\}$$$. All three balls fall into the hole $$$3$$$. So the answer is $$$3$$$.In the fifth query, the conveyors change to \"><<><\". After that, put a ball on each conveyor $$$\\\\{2,3,4\\\\}$$$. Two balls fall into the hole $$$1$$$, and one ball falls into the hole $$$4$$$. So, the answer is $$$2$$$.In the sixth query, the conveyors change to \"<>><>\". After that, put a ball on each conveyor $$$\\\\{1,2,3,4,5\\\\}$$$. Three balls fall into the hole $$$3$$$, one ball falls into the hole $$$0$$$ and one ball falls into the hole $$$5$$$. So, the answer is $$$3$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f60957d8", "template_md5": "465699a0", "result": "You are given a line of conveyor belts, each with a direction (left or right). Balls are placed on the conveyors and move according to the direction of each belt.  You are asked to perform multiple operations where you reverse the direction of a section of belts. After each operation, you place a ball on each belt in the modified section and find the maximum number of balls that end up in a single hole."}, {"prompt_md5": "9444eefb", "template_md5": "35d339e4", "result": "You are given a line of $n$ conveyors, each with a symbol \"<\" or \">\".  The initial state of conveyor $i$ is equal to the $i$-th character of the string $s$. There are $n+1$ holes numbered from 0 to $n$. Hole 0 is on the left side of conveyor 1, and for all $i \\ge 1$, hole $i$ is on the right side of conveyor $i$.\n\nA ball on conveyor $i$ moves according to the following rules:\n\n* If the symbol on conveyor $i$ is \"<\":\n    * If $i=1$, the ball falls into hole 0.\n    * If the symbol on conveyor $i-1$ is \"<\", the ball moves to conveyor $i-1$.\n    * If the symbol on conveyor $i-1$ is \">\", the ball falls into hole $i-1$.\n* If the symbol on conveyor $i$ is \">\":\n    * If $i=n$, the ball falls into hole $n$.\n    * If the symbol on conveyor $i+1$ is \">\", the ball moves to conveyor $i+1$.\n    * If the symbol on conveyor $i+1$ is \"<\", the ball falls into hole $i$.\n\nYou will be given $q$ queries. Each query is defined by a pair of integers $l$ and $r$ ($1 \\le l \\le r \\le n$). For each query:\n\n1. Change the symbol on conveyors $l, l+1, ..., r$ from \"<\" to \">\" and vice versa. These changes remain for the next queries.\n2. Place one ball on each conveyor $l, l+1, ..., r$.\n3. Determine the maximum number of balls that fall into a single hole.\n\nOutput the maximum number of balls in a single hole for each query."}]}