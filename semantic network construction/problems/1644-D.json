{"uid": "1644-D", "url": "https://codeforces.com/contest/1644/problem/D", "tags": ["data structures", " implementation", " math"], "title": "1644-D", "statement": "D. Cross Coloringtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThere is a sheet of paper that can be represented with a grid of size $$$n \\\\times m$$$: $$$n$$$ rows and $$$m$$$ columns of cells. All cells are colored in white initially.$$$q$$$ operations have been applied to the sheet. The $$$i$$$-th of them can be described as follows:$$$x_i$$$ $$$y_i$$$ — choose one of $$$k$$$ non-white colors and color the entire row $$$x_i$$$ and the entire column $$$y_i$$$ in it. The new color is applied to each cell, regardless of whether the cell was colored before the operation.The sheet after applying all $$$q$$$ operations is called a coloring. Two colorings are different if there exists at least one cell that is colored in different colors.How many different colorings are there? Print the number modulo $$$998\\\\,244\\\\,353$$$.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — the number of testcases.The first line of the testcase contains four integers $$$n, m, k$$$ and $$$q$$$ ($$$1 \\\\le n, m, k, q \\\\le 2 \\\\cdot 10^5$$$) — the size of the sheet, the number of non-white colors and the number of operations.The $$$i$$$-th of the following $$$q$$$ lines contains a description of the $$$i$$$-th operation — two integers $$$x_i$$$ and $$$y_i$$$ ($$$1 \\\\le x_i \\\\le n$$$; $$$1 \\\\le y_i \\\\le m$$$) — the row and the column the operation is applied to.The sum of $$$q$$$ over all testcases doesn't exceed $$$2 \\\\cdot 10^5$$$.OutputFor each testcase, print a single integer — the number of different colorings modulo $$$998\\\\,244\\\\,353$$$.ExampleInput21 1 3 21 11 12 2 2 32 11 12 2Output3 4", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ffad6c3a", "template_md5": "35d339e4", "result": "You are given a grid of size $n \\times m$ cells. Initially, all cells are white.  You perform $q$ operations. Each operation colors an entire row and an entire column in one of $k$ non-white colors.  \n\nThe goal is to find the number of unique ways to color the grid after performing all the operations. Two colorings are considered different if at least one cell has a different color.  \n\nPrint the answer modulo 998244353."}, {"prompt_md5": "e8fae5ed", "template_md5": "465699a0", "result": "You have a grid of cells. You can choose from a set of colors to color entire rows and entire columns.  How many unique ways are there to color the grid after a given number of operations?  The answer should be given modulo 998244353."}]}