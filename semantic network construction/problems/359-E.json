{"uid": "359-E", "url": "https://codeforces.com/contest/359/problem/E", "tags": ["constructive algorithms", " dfs and similar"], "title": "359-E", "statement": "E. Neatnesstime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutSimon loves neatness. So before he goes to bed, Simon wants to complete all chores in the house.Simon's house looks like a rectangular table consisting ofnrows andncolumns from above. All rows of the table are numbered from1tonfrom top to bottom. All columns of the table are numbered from1tonfrom left to right. Each cell of the table is a room. Pair(x,y)denotes the room, located at the intersection of thex-th row and they-th column. For each room we know if the light is on or not there.Initially Simon is in room(x0,y0). He wants to turn off the lights in all the rooms in the house, and then return to room(x0,y0). Suppose that at the current moment Simon is in the room(x,y). To reach the desired result, he can perform the following steps:The format of the action is \"1\". The action is to turn on the light in room(x,y). Simon cannot do it if the room already has light on.The format of the action is \"2\". The action is to turn off the light in room(x,y). Simon cannot do it if the room already has light off.The format of the action is \"dir\" (diris a character). The action is to move to a side-adjacent room in directiondir. The direction can be left, right, up or down (the corresponding dir isL,R,UorD). Additionally, Simon can move only if he see a light in the directiondir. More formally, if we represent the room, Simon wants to go, as(nx,ny), there shold be an integerk(k> 0), that room(x+ (nx-x)k,y+ (ny-y)k)has a light. Of course, Simon cannot move out of his house.Help Simon, find the sequence of actions that lets him achieve the desired result.InputThe first line contains three positive integersn,x0,y0(2 ≤n≤ 500, 1 ≤x0,y0≤n).Nextnlines contain the description of rooms in the house. Thei-th line containsnspace-separated integersai1,ai2, ...,ain. If numberaijequals zero, then room(i,j)has light off, and if numberaijequals one, then room(i,j)has light on. It is guaranteed that at least one room has light on.OutputIf there is no desired sequence of actions, print \"NO\" (without the quotes). Otherwise, print \"YES\" (without the quotes) and the description of the required sequence of actions as a string. Note that you do not have to minimize the length of the sequence of actions but you shouldn't use more than3·106actions.ExamplesInput3 1 11 0 00 1 01 0 0OutputYESD1R2L2D2UU2Input3 1 11 0 00 1 00 0 1OutputNO", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "98042c77", "template_md5": "35d339e4", "result": "You are given a rectangular grid of rooms, where each room can have a light that is either on or off. You start in a specific room. Your goal is to turn off all the lights in the house and then return to your starting room. \n\nYou can perform the following actions:\n\n* **1:** Turn on the light in the current room (if it's off).\n* **2:** Turn off the light in the current room (if it's on).\n* **dir:** Move to a side-adjacent room in the direction `dir` (left, right, up, or down). You can only move if there is a light in the direction you want to go.\n\nDetermine if it is possible to achieve your goal and, if so, provide a sequence of actions to do so. \n\n**Input:**\n\n* The first line contains three integers: `n` (number of rows and columns), `x0` (starting row), `y0` (starting column).\n* The next `n` lines describe the grid, with each line containing `n` integers (0 or 1) representing whether the light is off (0) or on (1) in each room.\n\n**Output:**\n\n* If it is possible to achieve the goal, print \"YES\" followed by the sequence of actions.\n* If it is not possible, print \"NO\"."}, {"prompt_md5": "d2861f2b", "template_md5": "465699a0", "result": "You are given a grid of rooms, some with lights on and some off. You start in a specific room.  Your goal is to turn off all the lights and return to your starting room. You can:\n\n* Turn a light on or off in your current room.\n* Move to a neighboring room (left, right, up, or down) if the light is on in that direction. \n\nDetermine if it's possible to achieve this goal and, if so, provide a sequence of actions to do so."}]}