{"uid": "1037-H", "url": "https://codeforces.com/contest/1037/problem/H", "tags": ["data structures", " string suffix structures"], "title": "1037-H", "statement": "H. Securitytime limit per test4 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputSome programming website is establishing a secure communication protocol. For security reasons, they want to choose several more or less random strings.Initially, they have a string $$$s$$$ consisting of lowercase English letters. Now they want to choose $$$q$$$ strings using the following steps, and you are to help them.A string $$$x$$$ consisting of lowercase English letters and integers $$$l$$$ and $$$r$$$ ($$$1 \\\\leq l \\\\leq r \\\\leq |s|$$$) are chosen.Consider all non-empty distinct substrings of the $$$s_l s_{l + 1} \\\\ldots s_r$$$, that is all distinct strings $$$s_i s_{i+1} \\\\ldots s_{j}$$$ where $$$l \\\\le i \\\\le j \\\\le r$$$. Among all of them choose all strings that are lexicographically greater than $$$x$$$.If there are no such strings, you should print $$$-1$$$. Otherwise print the lexicographically smallest among them.String $$$a$$$ is lexicographically less than string $$$b$$$, if either $$$a$$$ is a prefix of $$$b$$$ and $$$a \\\\ne b$$$, or there exists such a position $$$i$$$ ($$$1 \\\\le i \\\\le min(|a|, |b|)$$$), such that $$$a_i < b_i$$$ and for all $$$j$$$ ($$$1 \\\\le j < i$$$) $$$a_j = b_j$$$. Here $$$|a|$$$ denotes the length of the string $$$a$$$.InputThe first line of input contains a non-empty string $$$s$$$ ($$$1 \\\\leq |s| \\\\leq 10^{5}$$$) consisting of lowercase English letters.The second line contains an integer $$$q$$$ ($$$1 \\\\le q \\\\le 2 \\\\cdot 10^5$$$) — the number of strings to select.Each of the next $$$q$$$ lines contains two integers $$$l$$$, $$$r$$$ ($$$1 \\\\leq l \\\\leq r \\\\leq |s|$$$) and a non-empty string $$$x$$$ consisting of lowercase English letters. The total length of strings $$$x$$$ for all queries does not exceed $$$2 \\\\cdot 10^{5}$$$.OutputOutput $$$q$$$ lines, each of them should contain the desired string or $$$-1$$$, if there is no such string.ExamplesInputbaa51 2 ba2 3 a1 2 b2 3 aa1 3 bOutput-1aaba-1baInputbacb41 2 ba2 3 ac1 3 ac3 4 cOutput-1cbcbInputbba11 1 bOutput-1NoteConsider the first example.The string $$$s$$$ is \"baa\". The queries are as follows.We consider the substring $$$s_1 s_2$$$ that is \"ba\". It has substrings \"b\", \"a\" and \"ba\", since none of them is greater than the query string \"ba\", the answer is $$$-1$$$.We consider substring \"aa\". Among its substrings only \"aa\" is greater than the query string \"a\". So the answer is \"aa\".We consider substring \"ba\". Out of \"b\", \"a\" and \"ba\" only \"ba\" is greater than the query string \"b\", so the answer is \"ba\".We consider substring \"aa\". No substring of \"aa\" is greater than the query string \"aa\" so the answer is $$$-1$$$.We consider substring \"baa\" and it has (among others) substrings \"ba\", \"baa\" which are greater than the query string \"b\". Since \"ba\" is lexicographically smaller than \"baa\", the answer is \"ba\".", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "6f341ca5", "template_md5": "35d339e4", "result": "You are given a string $s$ and $q$ queries. Each query consists of three parts:\n\n* Integers $l$ and $r$ ($1 \\le l \\le r \\le |s|$) defining a substring of $s$ from index $l$ to $r$.\n* A string $x$.\n\nFor each query, find the lexicographically smallest substring of $s_{l...r}$ that is lexicographically greater than $x$. If no such substring exists, output $-1$. \n\n**Lexicographical order:**\n\n* String $a$ is lexicographically less than string $b$ if:\n    * $a$ is a prefix of $b$ and $a \\neq b$\n    * There exists an index $i$ ($1 \\le i \\le \\min(|a|, |b|)$) such that $a_i < b_i$ and $a_j = b_j$ for all $j$ ($1 \\le j < i$)."}, {"prompt_md5": "bed8417d", "template_md5": "465699a0", "result": "Given a string, you need to answer multiple queries. Each query consists of a substring of the original string and a target string. For each query, find the lexicographically smallest substring of the given substring that is greater than the target string. If no such substring exists, output -1."}]}