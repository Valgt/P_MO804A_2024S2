{"uid": "1569-F", "url": "https://codeforces.com/contest/1569/problem/F", "tags": ["brute force", " dfs and similar", " dp", " graphs", " hashing"], "title": "1569-F", "statement": "F. Palindromic Hamiltonian Pathtime limit per test5 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a simple undirected graph with $$$n$$$ vertices, $$$n$$$ is even. You are going to write a letter on each vertex. Each letter should be one of the first $$$k$$$ letters of the Latin alphabet.A path in the graph is called Hamiltonian if it visits each vertex exactly once. A string is called palindromic if it reads the same from left to right and from right to left. A path in the graph is called palindromic if the letters on the vertices in it spell a palindromic string without changing the order.A string of length $$$n$$$ is good if:each letter is one of the first $$$k$$$ lowercase Latin letters;if you write the $$$i$$$-th letter of the string on the $$$i$$$-th vertex of the graph, there will exist a palindromic Hamiltonian path in the graph.Note that the path doesn't necesserily go through the vertices in order $$$1, 2, \\\\dots, n$$$.Count the number of good strings.InputThe first line contains three integers $$$n$$$, $$$m$$$ and $$$k$$$ ($$$2 \\\\le n \\\\le 12$$$; $$$n$$$ is even; $$$0 \\\\le m \\\\le \\\\frac{n \\\\cdot (n-1)}{2}$$$; $$$1 \\\\le k \\\\le 12$$$) — the number of vertices in the graph, the number of edges in the graph and the number of first letters of the Latin alphabet that can be used.Each of the next $$$m$$$ lines contains two integers $$$v$$$ and $$$u$$$ ($$$1 \\\\le v, u \\\\le n$$$; $$$v \\\\neq u$$$) — the edges of the graph. The graph doesn't contain multiple edges and self-loops.OutputPrint a single integer — number of good strings.ExamplesInput4 3 3 1 2 2 3 3 4Output9Input4 6 3 1 2 1 3 1 4 2 3 2 4 3 4Output21Input12 19 12 1 3 2 6 3 6 3 7 4 8 8 5 8 7 9 4 5 9 10 1 10 4 10 6 9 10 11 1 5 11 7 11 12 2 12 5 12 11Output456165084", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1e4bbc43", "template_md5": "35d339e4", "result": "You are given an undirected graph with an even number of vertices ($n$).  Each vertex can be labeled with one of the first $k$ lowercase letters of the alphabet.\n\nA path in the graph is called Hamiltonian if it visits each vertex exactly once. A path is called palindromic if the letters on the vertices spell a palindrome (reads the same forward and backward).\n\nA string of length $n$ is considered \"good\" if:\n\n* Each letter in the string is one of the first $k$ lowercase letters.\n*  If you label the vertices of the graph with the letters in the string (in order), there exists a palindromic Hamiltonian path in the graph.\n\nCount the number of good strings. \n\n**Input:**\n\n* The first line contains three integers: $n$ (number of vertices), $m$ (number of edges), and $k$ (number of allowed letters).\n* The next $m$ lines each contain two integers, $v$ and $u$, representing an edge between vertices $v$ and $u$.\n\n**Output:**\n\n* Print a single integer representing the number of good strings."}, {"prompt_md5": "b710d050", "template_md5": "465699a0", "result": "You are given a graph with an even number of points.  Each point can be labeled with one of  a small set of letters.  Find the number of ways to label the points so that there is a path that visits each point exactly once, and the order of the letters spells a palindrome."}]}