{"uid": "1615-E", "url": "https://codeforces.com/contest/1615/problem/E", "tags": ["data structures", " dfs and similar", " games", " graphs", " greedy", " math", " sortings", " trees"], "title": "1615-E", "statement": "E. Purple Crayontime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputTwo players, Red and Blue, are at it again, and this time they're playing with crayons! The mischievous duo is now vandalizing a rooted tree, by coloring the nodes while playing their favorite game.The game works as follows: there is a tree of size $$$n$$$, rooted at node $$$1$$$, where each node is initially white. Red and Blue getone turn each. Red goes first.In Red's turn, he can do the following operationany number of times:Pick any subtree of the rooted tree, and color every node in the subtree red.However, to make the game fair, Red is only allowed to color $$$k$$$ nodes of the tree. In other words, after Red's turn, at most $$$k$$$ of the nodes can be colored red.Then, it's Blue's turn. Blue can do the following operationany number of times:Pick any subtree of the rooted tree, and color every node in the subtree blue. However, he's not allowed to choose a subtree that contains a node already colored red, as that would make the node purple and no one likes purple crayon.Note: there's no restriction on the number of nodes Blue can color, as long as he doesn't color a node that Red has already colored.After the two turns, the score of the game is determined as follows: let $$$w$$$ be the number of white nodes, $$$r$$$ be the number of red nodes, and $$$b$$$ be the number of blue nodes. The score of the game is $$$w \\\\cdot (r - b)$$$.Red wants to maximize this score, and Blue wants to minimize it. If both players play optimally, what will the final score of the game be?InputThe first line contains two integers $$$n$$$ and $$$k$$$ ($$$2 \\\\le n \\\\le 2 \\\\cdot 10^5$$$; $$$1 \\\\le k \\\\le n$$$) — the number of vertices in the tree and the maximum number of red nodes.Next $$$n - 1$$$ lines contains description of edges. The $$$i$$$-th line contains two space separated integers $$$u_i$$$ and $$$v_i$$$ ($$$1 \\\\le u_i, v_i \\\\le n$$$; $$$u_i \\\\neq v_i$$$) — the $$$i$$$-th edge of the tree.It's guaranteed that given edges form a tree.OutputPrint one integer — the resulting score if both Red and Blue play optimally.ExamplesInput4 2 1 2 1 3 1 4Output1Input5 2 1 2 2 3 3 4 4 5Output6Input7 2 1 2 1 3 4 2 3 5 6 3 6 7Output4Input4 1 1 2 1 3 1 4Output-1NoteIn the first test case, the optimal strategy is as follows:Red chooses to color the subtrees of nodes $$$2$$$ and $$$3$$$.Blue chooses to color the subtree of node $$$4$$$.At the end of this process, nodes $$$2$$$ and $$$3$$$ are red, node $$$4$$$ is blue, and node $$$1$$$ is white. The score of the game is $$$1 \\\\cdot (2 - 1) = 1$$$.In the second test case, the optimal strategy is as follows:Red chooses to color the subtree of node $$$4$$$. This colors both nodes $$$4$$$ and $$$5$$$.Blue does not have any options, so nothing is colored blue.At the end of this process, nodes $$$4$$$ and $$$5$$$ are red, and nodes $$$1$$$, $$$2$$$ and $$$3$$$ are white. The score of the game is $$$3 \\\\cdot (2 - 0) = 6$$$.For the third test case:The score of the game is $$$4 \\\\cdot (2 - 1) = 4$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ed1a15fb", "template_md5": "35d339e4", "result": "There is a tree with $n$ nodes, rooted at node 1.  Each node is initially white. Two players take turns coloring nodes.\n\n* **Player 1** can color any number of nodes in a subtree red, but they can only color a maximum of $k$ nodes in total.\n* **Player 2** can color any number of nodes in a subtree blue, but they cannot color a node that is already red.\n\nAfter both players have taken their turns, the score is calculated as:  $w(r-b)$\n\nwhere:\n\n* $w$ is the number of white nodes\n* $r$ is the number of red nodes\n* $b$ is the number of blue nodes\n\nWhat is the maximum score Player 1 can achieve if both players play optimally?\n\nThe input consists of:\n\n* Two integers $n$ and $k$ ($2 \\le n \\le 2 \\cdot 10^5$; $1 \\le k \\le n$) representing the number of nodes and the maximum number of red nodes Player 1 can color.\n* $n-1$ lines, each containing two integers $u_i$ and $v_i$ ($1 \\le u_i, v_i \\le n$; $u_i \\neq v_i$), representing the edges of the tree."}, {"prompt_md5": "9be763a7", "template_md5": "465699a0", "result": "Two players take turns coloring nodes in a tree. The first player can color up to a given number of nodes, while the second player can color any uncolored nodes. The score is based on the number of white, red, and blue nodes.  Find the maximum possible score the first player can achieve if both players play optimally."}]}