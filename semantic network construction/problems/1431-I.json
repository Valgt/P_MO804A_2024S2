{"uid": "1431-I", "url": "https://codeforces.com/contest/1431/problem/I", "tags": ["*special", " strings"], "title": "1431-I", "statement": "I. Cyclic Shiftstime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a matrix consisting of $$$n$$$ rows and $$$m$$$ columns. The matrix contains lowercase letters of the Latin alphabet.You can perform the following operation any number of times you want to: choose two integers $$$i$$$ ($$$1 \\\\le i \\\\le m$$$) and $$$k$$$ ($$$0 < k < n$$$), and shift every column $$$j$$$ such that $$$i \\\\le j \\\\le m$$$ cyclically by $$$k$$$. The shift is performed upwards.For example, if you have a matrix$$$\\\\left( \\\\begin{array} \\\\\\\\ a & b & c \\\\\\\\ d & e & f \\\\\\\\ g & h & i \\\\end{array}\\\\right) $$$and perform an operation with $$$i = 2$$$, $$$k = 1$$$, then it becomes:$$$\\\\left( \\\\begin{array} \\\\\\\\ a & e & f \\\\\\\\ d & h & i \\\\\\\\ g & b & c \\\\end{array}\\\\right) $$$You have to process $$$q$$$ queries. Each of the queries is a string of length $$$m$$$ consisting of lowercase letters of the Latin alphabet. For each query, you have to calculate the minimum number of operations described above you have to perform so that at least one row of the matrix is equal to the string from the query. Note that all queries are independent, that is, the operations you perform in a query don't affect the initial matrix in other queries.InputThe first line contains three integers $$$n$$$, $$$m$$$, $$$q$$$ ($$$2 \\\\le n, m, q \\\\le 2.5 \\\\cdot 10^5$$$; $$$n \\\\cdot m \\\\le 5 \\\\cdot 10^5$$$; $$$q \\\\cdot m \\\\le 5 \\\\cdot 10^5$$$) — the number of rows and columns in the matrix and the number of queries, respectively.The next $$$n$$$ lines contains $$$m$$$ lowercase Latin letters each — elements of the matrix.The following $$$q$$$ lines contains a description of queries — strings of length $$$m$$$ consisting of lowercase letters of the Latin alphabet.OutputPrint $$$q$$$ integers. The $$$i$$$-th integer should be equal to the minimum number of operations you have to perform so that the matrix contains a string from the $$$i$$$-th query or $$$-1$$$ if the specified string cannot be obtained.ExamplesInput3 5 4 abacc ccbba ccabc abacc acbbc ababa acbbcOutput0 2 1 2Input6 4 4 daac bcba acad cbdc aaaa bcbb dcdd acba bbbb dbcdOutput3 1 2 -1Input5 10 5 ltjksdyfgg cbhpsereqn ijndtzbzcf ghgcgeadep bfzdgxqmqe ibgcgzyfep bbhdgxqmqg ltgcgxrzep ljnpseldgn ghhpseyzcfOutput5 3 5 -1 3", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "fd05d843", "template_md5": "35d339e4", "result": "You are given a matrix with $n$ rows and $m$ columns filled with lowercase letters. You can perform the following operation any number of times:\n\n* Choose two integers $i$ ($1 \\le i \\le m$) and $k$ ($0 < k < n$).\n* Shift every column $j$ ($i \\le j \\le m$) cyclically by $k$ positions upwards.\n\nFor example, if the matrix is:\n\n$$\n\\begin{pmatrix}\na & b & c \\\\\nd & e & f \\\\\ng & h & i\n\\end{pmatrix}\n$$\n\nand you perform an operation with $i = 2$ and $k = 1$, the matrix becomes:\n\n$$\n\\begin{pmatrix}\na & e & f \\\\\nd & h & i \\\\\ng & b & c\n\\end{pmatrix}\n$$\n\nYou have $q$ queries. Each query is a string of length $m$ consisting of lowercase letters. For each query, find the minimum number of operations needed to make at least one row of the matrix equal to the query string.  Note that operations in one query do not affect the matrix for other queries.\n\nInput:\n\n* The first line contains three integers $n$, $m$, and $q$ ($2 \\le n, m, q \\le 2.5 \\cdot 10^5$; $n \\cdot m \\le 5 \\cdot 10^5$; $q \\cdot m \\le 5 \\cdot 10^5$) - the number of rows and columns in the matrix and the number of queries, respectively.\n* The next $n$ lines contain $m$ lowercase letters each - the elements of the matrix.\n* The following $q$ lines contain a description of queries - strings of length $m$ consisting of lowercase letters.\n\nOutput:\n\nPrint $q$ integers. The $i$-th integer should be the minimum number of operations needed for the $i$-th query, or $-1$ if the query string cannot be obtained."}, {"prompt_md5": "a3168b2d", "template_md5": "465699a0", "result": "You are given a grid of letters. You can shift columns of the grid cyclically. For each query, which is a string of letters, find the minimum number of shifts needed to make the grid contain that string as a row. If it's impossible, output -1."}]}