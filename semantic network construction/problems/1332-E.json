{"uid": "1332-E", "url": "https://codeforces.com/contest/1332/problem/E", "tags": ["combinatorics", " constructive algorithms", " math", " matrices"], "title": "1332-E", "statement": "E. Height All the Sametime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputAlice has got addicted to a game called Sirtet recently.In Sirtet, player is given an $$$n \\\\times m$$$ grid. Initially $$$a_{i,j}$$$ cubes are stacked up in the cell $$$(i,j)$$$. Two cells are called adjacent if they share a side. Player can perform the following operations:stack up one cube in twoadjacentcells;stack up two cubes in one cell.Cubes mentioned above are identical in height.Here is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation.Player's goal is tomake the height of all cells the same(i.e. so that each cell has the same number of cubes in it) using above operations.Alice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that$$$L \\\\le a_{i,j} \\\\le R$$$ for all $$$1 \\\\le i \\\\le n$$$, $$$1 \\\\le j \\\\le m$$$;player can reach the goal using above operations.Please help Alice with it. Notice that the answer might be large, please output the desired value modulo $$$998,244,353$$$.InputThe only line contains four integers $$$n$$$, $$$m$$$, $$$L$$$ and $$$R$$$ ($$$1\\\\le n,m,L,R \\\\le 10^9$$$, $$$L \\\\le R$$$, $$$n \\\\cdot m \\\\ge 2$$$).OutputOutput one integer, representing the desired answer modulo $$$998,244,353$$$.ExamplesInput2 2 1 1Output1Input1 2 1 2Output2NoteIn the first sample, the only initial grid that satisfies the requirements is $$$a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$$$. Thus the answer should be $$$1$$$.In the second sample, initial grids that satisfy the requirements are $$$a_{1,1}=a_{1,2}=1$$$ and $$$a_{1,1}=a_{1,2}=2$$$. Thus the answer should be $$$2$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "452089fe", "template_md5": "35d339e4", "result": "You are given a grid of size $n \\times m$. Each cell in the grid can have a number of cubes in it, represented by $a_{i,j}$, where $1 \\le i \\le n$ and $1 \\le j \\le m$. \n\nYou can perform the following operations:\n\n1. Stack one cube in two adjacent cells.\n2. Stack two cubes in one cell.\n\nThe goal is to make the height of all cells the same.  \n\nDetermine the number of possible initial grids where $L \\le a_{i,j} \\le R$ for all cells, and it is possible to make all cell heights equal using the given operations. The answer should be outputted modulo 998,244,353."}, {"prompt_md5": "e5625026", "template_md5": "465699a0", "result": "You are given a grid of cells. Each cell can have a certain number of objects. You can perform two operations: add one object to two adjacent cells, or add two objects to one cell.  Find the number of possible starting arrangements of objects in the grid where you can eventually make the number of objects in every cell the same, given a range for the initial number of objects in each cell.  The answer should be the number of possible arrangements modulo 998,244,353."}]}