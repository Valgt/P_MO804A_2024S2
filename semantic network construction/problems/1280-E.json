{"uid": "1280-E", "url": "https://codeforces.com/contest/1280/problem/E", "tags": ["math"], "title": "1280-E", "statement": "E. Kirchhoff's Current Losstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYour friend Kirchhoff is shocked with the current state of electronics design.\"Ohmygosh! Watt is wrong with the field? All these circuits are inefficient! There's so much capacity for improvement. The electrical engineers must not conduct their classes very well. It's absolutely revolting\" he said.The negativity just keeps flowing out of him, but even after complaining so many times he still hasn't lepton the chance to directly change anything.\"These circuits have too much total resistance. Wire they designed this way? It's just causing a massive loss of resistors! Their entire field could conserve so much money if they just maximized the potential of their designs. Why can't they just try alternative ideas?\"The frequency of his protests about the electrical engineering department hertz your soul, so you have decided to take charge and help them yourself. You plan to create a program that will optimize the circuits while keeping the same circuit layout and maintaining the same effective resistance.Acircuithas two endpoints, and is associated with a certain constant, $$$R$$$, called itseffective resistance.The circuits we'll consider will be formed from individual resistors joined together inseriesor inparallel, forming more complex circuits. The following image illustrates combining circuits in series or parallel.According to your friend Kirchhoff, the effective resistance can be calculated quite easily when joining circuits this way:When joining $$$k$$$ circuits inserieswith effective resistances $$$R_1, R_2, \\\\ldots, R_k$$$, the effective resistance $$$R$$$ of the resulting circuit is the sum $$$$$$R = R_1 + R_2 + \\\\ldots + R_k.$$$$$$When joining $$$k$$$ circuits inparallelwith effective resistances $$$R_1, R_2, \\\\ldots, R_k$$$, the effective resistance $$$R$$$ of the resulting circuit is found by solving for $$$R$$$ in $$$$$$\\\\frac{1}{R} = \\\\frac{1}{R_1} + \\\\frac{1}{R_2} + \\\\ldots + \\\\frac{1}{R_k},$$$$$$assuming all $$$R_i > 0$$$; if at least one $$$R_i = 0$$$, then the effective resistance of the whole circuit is simply $$$R = 0$$$.Circuits will be represented by strings. Individual resistors are represented by an asterisk, \"*\". For more complex circuits, suppose $$$s_1, s_2, \\\\ldots, s_k$$$ represent $$$k \\\\ge 2$$$ circuits. Then:\"($$$s_1$$$ S $$$s_2$$$ S $$$\\\\ldots$$$ S $$$s_k$$$)\" represents theirseriescircuit;\"($$$s_1$$$ P $$$s_2$$$ P $$$\\\\ldots$$$ P $$$s_k$$$)\" represents theirparallelcircuit.For example, \"(* P (* S *) P *)\" represents the following circuit:Given a circuit, your task is to assign the resistances of the individual resistors such that they satisfy the following requirements:Each individual resistor has anonnegative integerresistance value;The effective resistance of the whole circuit is $$$r$$$;The sum of the resistances of the individual resistors is minimized.If there are $$$n$$$ individual resistors, then you need to output the list $$$r_1, r_2, \\\\ldots, r_n$$$ ($$$0 \\\\le r_i$$$, and $$$r_i$$$ is an integer), where $$$r_i$$$ is the resistance assigned to the $$$i$$$-th individual resistor that appears in the input (from left to right). If it is impossible to accomplish the task, you must say so as well.If it is possible, then it is guaranteed that the minimum sum of resistances is at most $$$10^{18}$$$.InputThe first line of input contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 32000$$$), denoting the number of test cases. The next lines contain descriptions of the test cases.Each test case consists of a single line containing the integer $$$r$$$ ($$$1 \\\\le r \\\\le 10^6$$$), space, and then the string representing the circuit. It is guaranteed that the string is valid and follows the description above. The number of individual resistors (symbols \"*\") is at least $$$1$$$ and at most $$$80000$$$.It is guaranteed that the total number of individual resistors across all test cases is at most $$$320000$$$.OutputFor each test case, print a single line:If it's possible to achieve an effective resistance of $$$r$$$, print \"REVOLTING\" (without quotes) and then $$$n$$$ integers $$$r_1, r_2, \\\\ldots, r_n$$$ — the resistances assigned to the individual resistors. Here, $$$n$$$ denotes the number of the individual resistors in the circuit.There may be multiple possible such assignments with a minimal sum of resistances of the individual resistors, you can output any of them;If it's impossible, print the string: \"LOSS\" (without quotes).ExampleInput3 5 * 1 (* S *) 1 (* P (* S *))OutputREVOLTING 5 REVOLTING 1 0 REVOLTING 2 1 1NoteThe following illustrates the third sample case:Here, the sum of the resistances of the individual resistors is $$$2 + 1 + 1 = 4$$$, which can be shown to be the minimum. Note that there may be other assignments that achieve this minimum.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7a4cf34b", "template_md5": "35d339e4", "result": "You are given a circuit represented as a string. The circuit is composed of resistors represented by asterisks (*).  Resistors can be connected in series (S) or parallel (P). \n\nYou need to assign non-negative integer resistances to each resistor such that:\n\n* The effective resistance of the entire circuit is a given value *r*.\n* The sum of the resistances of all individual resistors is minimized.\n\nIf it is possible to achieve the desired effective resistance with a minimum sum of resistances, output \"REVOLTING\" followed by the list of resistances for each resistor. If it is impossible, output \"LOSS\".\n\n**Input:**\n\n* The first line contains the number of test cases *t*.\n* Each test case consists of:\n    * An integer *r* representing the desired effective resistance.\n    * A string representing the circuit.\n\n**Output:**\n\n* For each test case:\n    * If a solution exists, output \"REVOLTING\" followed by the list of resistances.\n    * If no solution exists, output \"LOSS\"."}, {"prompt_md5": "34eb7325", "template_md5": "465699a0", "result": "You are given a circuit represented as a string. The circuit is made up of resistors connected in series or parallel. You need to find the smallest possible sum of resistor values that will result in a specific target resistance for the entire circuit. If it's impossible to achieve the target resistance, output \"LOSS\"."}]}