{"uid": "1874-F", "url": "https://codeforces.com/contest/1874/problem/F", "tags": ["dp"], "title": "1874-F", "statement": "F. Jellyfish and OEIStime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputJellyfish always uses OEIS to solve math problems, but now she finds a problem that cannot be solved by OEIS:Count the number of permutations $$$p$$$ of $$$[1, 2, \\\\dots, n]$$$ such that for all $$$(l, r)$$$ such that $$$l \\\\leq r \\\\leq m_l$$$, the subarray $$$[p_l, p_{l+1}, \\\\dots, p_r]$$$ is not a permutation of $$$[l, l+1, \\\\dots, r]$$$.Since the answer may be large, you only need to find the answer modulo $$$10^9+7$$$.InputThe first line of the input contains a single integer $$$n$$$ ($$$1 \\\\leq n \\\\leq 200$$$) — the length of the permutation.The second line of the input contains $$$n$$$ integers $$$m_1, m_2, \\\\dots, m_n$$$ ($$$0 \\\\leq m_i \\\\leq n$$$).OutputOutput the number of different permutations that satisfy the conditions, modulo $$$10^9+7$$$.ExamplesInput3 1 2 3Output2Input5 2 4 3 4 5Output38Input5 5 1 1 1 1Output0NoteIn the first example, $$$[2, 3, 1]$$$ and $$$[3, 1, 2]$$$ satisfies the condition.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "21ca8788", "template_md5": "35d339e4", "result": "Given an integer $n$, find the number of permutations $p$ of the sequence $[1, 2, ..., n]$ such that for all pairs $(l, r)$ where $l \\le r \\le m_l$, the subarray $p_l, p_{l+1}, ..., p_r$ is not a permutation of $[l, l+1, ..., r]$.\n\nThe output should be the number of valid permutations modulo $10^9 + 7$. \n\nHere, $m_l$ is given as part of the input for each $l$."}, {"prompt_md5": "0eaa5864", "template_md5": "465699a0", "result": "Count the number of ways to arrange a set of numbers from 1 to *n* so that for any given sub-set within the arrangement, the order of the numbers in the sub-set is different from the original order of the numbers in that range."}]}