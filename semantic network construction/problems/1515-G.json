{"uid": "1515-G", "url": "https://codeforces.com/contest/1515/problem/G", "tags": ["dfs and similar", " graphs", " math", " number theory"], "title": "1515-G", "statement": "G. Phoenix and Odometerstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputIn Fire City, there are $$$n$$$ intersections and $$$m$$$ one-way roads. The $$$i$$$-th road goes from intersection $$$a_i$$$ to $$$b_i$$$ and has length $$$l_i$$$ miles.There are $$$q$$$ cars that may only drive along those roads. The $$$i$$$-th car starts at intersection $$$v_i$$$ and has an odometer that begins at $$$s_i$$$, increments for each mile driven, and resets to $$$0$$$ whenever it reaches $$$t_i$$$. Phoenix has been tasked to drive cars along some roads (possibly none) andreturn them to their initial intersectionwith the odometer showing $$$0$$$.For each car, please find if this is possible.A car may visit the same road or intersection an arbitrary number of times. The odometers don't stop counting the distance after resetting, so odometers may also be reset an arbitrary number of times.InputThe first line of the input contains two integers $$$n$$$ and $$$m$$$ ($$$2 \\\\le n \\\\le 2 \\\\cdot 10^5$$$; $$$1 \\\\le m \\\\le 2 \\\\cdot 10^5$$$) — the number of intersections and the number of roads, respectively.Each of the next $$$m$$$ lines contain three integers $$$a_i$$$, $$$b_i$$$, and $$$l_i$$$ ($$$1 \\\\le a_i, b_i \\\\le n$$$; $$$a_i \\\\neq b_i$$$; $$$1 \\\\le l_i \\\\le 10^9$$$) — the information about the $$$i$$$-th road. The graph is not necessarily connected. It is guaranteed that between any two intersections, there is at most one road for each direction.The next line contains an integer $$$q$$$ ($$$1 \\\\le q \\\\le 2 \\\\cdot 10^5$$$) — the number of cars.Each of the next $$$q$$$ lines contains three integers $$$v_i$$$, $$$s_i$$$, and $$$t_i$$$ ($$$1 \\\\le v_i \\\\le n$$$; $$$0 \\\\le s_i < t_i \\\\le 10^9$$$) — the initial intersection of the $$$i$$$-th car, the initial number on the $$$i$$$-th odometer, and the number at which the $$$i$$$-th odometer resets, respectively.OutputPrint $$$q$$$ answers. If the $$$i$$$-th car's odometer may be reset to $$$0$$$ by driving through some roads (possibly none) and returning to its starting intersection $$$v_i$$$, printYES. Otherwise, printNO.ExamplesInput4 4 1 2 1 2 3 1 3 1 2 1 4 3 3 1 1 3 1 2 4 4 0 1OutputYES NO YESInput4 5 1 2 1 2 3 1 3 1 2 1 4 1 4 3 2 2 1 2 4 4 3 5OutputYES YESNoteThe illustration for the first example is below:In the first query, Phoenix can drive through the following cities: $$$1$$$ $$$\\\\rightarrow$$$ $$$2$$$ $$$\\\\rightarrow$$$ $$$3$$$ $$$\\\\rightarrow$$$ $$$1$$$ $$$\\\\rightarrow$$$ $$$2$$$ $$$\\\\rightarrow$$$ $$$3$$$ $$$\\\\rightarrow$$$ $$$1$$$. The odometer will have reset $$$3$$$ times, but it displays $$$0$$$ at the end.In the second query, we can show that there is no way to reset the odometer to $$$0$$$ and return to intersection $$$1$$$.In the third query, the odometer already displays $$$0$$$, so there is no need to drive through any roads.Below is the illustration for the second example:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "461dda48", "template_md5": "35d339e4", "result": "There are $n$ intersections and $m$ one-way roads. The $i$-th road goes from intersection $a_i$ to $b_i$ and has length $l_i$. \n\nThere are $q$ cars, each starting at a different intersection. Each car has an odometer that starts at a given value $s_i$ and resets to 0 when it reaches $t_i$.\n\nFor each car, determine if it's possible to drive along the roads, return to its starting intersection, and have the odometer show 0. \n\nCars can visit the same road or intersection multiple times.\n\n\nInput:\n\n* The first line contains two integers $n$ and $m$ ($2 \\le n \\le 2 \\cdot 10^5$; $1 \\le m \\le 2 \\cdot 10^5$)\n* The next $m$ lines each contain three integers $a_i$, $b_i$, and $l_i$ ($1 \\le a_i, b_i \\le n$; $a_i \\neq b_i$; $1 \\le l_i \\le 10^9$)\n* The next line contains an integer $q$ ($1 \\le q \\le 2 \\cdot 10^5$)\n* The next $q$ lines each contain three integers $v_i$, $s_i$, and $t_i$ ($1 \\le v_i \\le n$; $0 \\le s_i < t_i \\le 10^9$)\n\nOutput:\n\n* Print $q$ answers. For each car, print \"YES\" if it's possible to reset the odometer to 0 and return to its starting intersection, otherwise print \"NO\"."}, {"prompt_md5": "db62a6d6", "template_md5": "465699a0", "result": "You are given a map with cities connected by one-way roads. Each road has a length.  You also have a list of cars, each starting at a city with an odometer reading. The odometer resets to 0 when it reaches a certain value.  \n\nDetermine if it's possible for each car to drive along the roads, return to its starting city, and have its odometer read 0."}]}