{"uid": "1503-D", "url": "https://codeforces.com/contest/1503/problem/D", "tags": ["2-sat", " constructive algorithms", " data structures", " greedy", " sortings", " two pointers"], "title": "1503-D", "statement": "D. Flip the Cardstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThere is a deck of $$$n$$$ cards. The $$$i$$$-th card has a number $$$a_i$$$ on the front and a number $$$b_i$$$ on the back. Every integer between $$$1$$$ and $$$2n$$$ appears exactly once on the cards.A deck is called sorted if the front values are inincreasingorder and the back values are indecreasingorder. That is, if $$$a_i< a_{i+1}$$$ and $$$b_i> b_{i+1}$$$ for all $$$1\\\\le i<n$$$.To flip a card $$$i$$$ means swapping the values of $$$a_i$$$ and $$$b_i$$$. You must flip some subset of cards (possibly, none), then put all the cards in any order you like. What is the minimum number of cards you must flip in order to sort the deck?InputThe first line contains a single integer $$$n$$$ ($$$1\\\\le n\\\\le 2\\\\cdot 10^5$$$) â€” the number of cards.The next $$$n$$$ lines describe the cards. The $$$i$$$-th of these lines contains two integers $$$a_i, b_i$$$ ($$$1\\\\le a_i, b_i\\\\le 2n$$$). Every integer between $$$1$$$ and $$$2n$$$ appears exactly once.OutputIf it is impossible to sort the deck, output \"-1\". Otherwise, output the minimum number of flips required to sort the deck.ExamplesInput5 3 10 6 4 1 9 5 8 2 7Output2Input2 1 2 3 4Output-1Input3 1 2 3 6 4 5Output-1NoteIn the first test case, we flip the cards $$$(1, 9)$$$ and $$$(2, 7)$$$. The deck is then ordered $$$(3,10), (5,8), (6,4), (7,2), (9,1)$$$. It is sorted because $$$3<5<6<7<9$$$ and $$$10>8>4>2>1$$$.In the second test case, it is impossible to sort the deck.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c4ee1be1", "template_md5": "35d339e4", "result": "You have a deck of $n$ cards. Each card has two numbers: $a_i$ on the front and $b_i$ on the back. Every number from 1 to $2n$ appears exactly once on the cards.\n\nA deck is sorted if the front numbers are in increasing order ($a_i < a_{i+1}$) and the back numbers are in decreasing order ($b_i > b_{i+1}$).\n\nYou can flip a card by swapping its front and back numbers. What is the minimum number of cards you need to flip to sort the deck? If it's impossible to sort the deck, output -1."}, {"prompt_md5": "9101f09c", "template_md5": "465699a0", "result": "You have a deck of cards, each with two numbers on it.  You can flip each card to swap the two numbers.  Can you arrange the cards so that the numbers on the front are in increasing order and the numbers on the back are in decreasing order? If so, what is the fewest flips needed? If it's impossible, say so."}]}