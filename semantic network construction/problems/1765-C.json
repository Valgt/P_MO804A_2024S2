{"uid": "1765-C", "url": "https://codeforces.com/contest/1765/problem/C", "tags": ["combinatorics", " dp", " probabilities"], "title": "1765-C", "statement": "C. Card Guessingtime limit per test15 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputConsider a deck of cards. Each card has one of $$$4$$$ suits, and there are exactly $$$n$$$ cards for each suit — so, the total number of cards in the deck is $$$4n$$$. The deck is shuffled randomly so that each of $$$(4n)!$$$ possible orders of cards in the deck has the same probability of being the result of shuffling. Let $$$c_i$$$ be the $$$i$$$-th card of the deck (from top to bottom).Monocarp starts drawing the cards from the deck one by one. Before drawing a card, he tries to guess its suit. Monocarp remembers the suits of the $$$k$$$ last cards, and his guess is the suit that appeared the least often among the last $$$k$$$ cards he has drawn. So, while drawing the $$$i$$$-th card, Monocarp guesses that its suit is the suit that appears the minimum number of times among the cards $$$c_{i-k}, c_{i-k+1}, \\\\dots, c_{i-1}$$$ (if $$$i \\\\le k$$$, Monocarp considers all previously drawn cards, that is, the cards $$$c_1, c_2, \\\\dots, c_{i-1}$$$). If there are multiple suits that appeared the minimum number of times among the previous cards Monocarp remembers, he chooses a random suit out of those for his guess (all suits that appeared the minimum number of times have the same probability of being chosen).After making a guess, Monocarp draws a card and compares its suit to his guess. If they match, then his guess was correct; otherwise it was incorrect.Your task is to calculate the expected number of correct guesses Monocarp makes after drawing all $$$4n$$$ cards from the deck.InputThe first (and only) line contains two integers $$$n$$$ ($$$1 \\\\le n \\\\le 500$$$) and $$$k$$$ ($$$1 \\\\le k \\\\le 4 \\\\cdot n$$$).OutputLet the expected value you have to calculate be an irreducible fraction $$$\\\\dfrac{x}{y}$$$. Print one integer — the value of $$$x \\\\cdot y^{-1} \\\\bmod 998244353$$$, where $$$y^{-1}$$$ is the inverse to $$$y$$$ (i. e. an integer such that $$$y \\\\cdot y^{-1} \\\\bmod 998244353 = 1$$$).ExamplesInput1 1Output748683266Input3 2Output567184295Input2 7Output373153250Input2 8Output373153250", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f14b6280", "template_md5": "35d339e4", "result": "There are $4n$ cards, with $n$ cards of each of 4 suits. The cards are shuffled randomly.  A player draws cards one at a time. Before drawing each card, the player remembers the suits of the last $k$ cards drawn. The player guesses the suit of the next card as the suit that appeared the fewest times in the last $k$ cards. If there are multiple suits that appeared the fewest times, the player randomly chooses one of them.  \n\nThe player then draws the card and checks if their guess was correct.\n\nWhat is the expected number of correct guesses the player makes after drawing all $4n$ cards?"}, {"prompt_md5": "086628aa", "template_md5": "465699a0", "result": "A deck of cards is shuffled. You guess the suit of each card based on the suits of the previous $k$ cards. If you guess correctly, you get a point. What is the average number of points you can get after looking at all the cards?"}]}