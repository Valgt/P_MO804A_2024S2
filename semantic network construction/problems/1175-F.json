{"uid": "1175-F", "url": "https://codeforces.com/contest/1175/problem/F", "tags": ["brute force", " data structures", " divide and conquer", " hashing", " math"], "title": "1175-F", "statement": "F. The Number of Subpermutationstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou have an array $$$a_1, a_2, \\\\dots, a_n$$$.Let's call some subarray $$$a_l, a_{l + 1}, \\\\dots , a_r$$$ of this array asubpermutationif it contains all integers from $$$1$$$ to $$$r-l+1$$$ exactly once. For example, array $$$a = [2, 2, 1, 3, 2, 3, 1]$$$ contains $$$6$$$ subarrays which are subpermutations: $$$[a_2 \\\\dots a_3]$$$, $$$[a_2 \\\\dots a_4]$$$, $$$[a_3 \\\\dots a_3]$$$, $$$[a_3 \\\\dots a_5]$$$, $$$[a_5 \\\\dots a_7]$$$, $$$[a_7 \\\\dots a_7]$$$.You are asked to calculate the number of subpermutations.InputThe first line contains one integer $$$n$$$ ($$$1 \\\\le n \\\\le 3 \\\\cdot 10^5$$$).The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\dots , a_n$$$ ($$$1 \\\\le a_i \\\\le n$$$).This array can contain the same integers.OutputPrint the number of subpermutations of the array $$$a$$$.ExamplesInput8 2 4 1 3 4 2 1 2Output7Input5 1 1 2 1 2Output6NoteThere are $$$7$$$ subpermutations in the first test case. Their segments of indices are $$$[1, 4]$$$, $$$[3, 3]$$$, $$$[3, 6]$$$, $$$[4, 7]$$$, $$$[6, 7]$$$, $$$[7, 7]$$$ and $$$[7, 8]$$$.In the second test case $$$6$$$ subpermutations exist: $$$[1, 1]$$$, $$$[2, 2]$$$, $$$[2, 3]$$$, $$$[3, 4]$$$, $$$[4, 4]$$$ and $$$[4, 5]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a09fc4bc", "template_md5": "35d339e4", "result": "You are given an array of integers.  A subarray is called a \"subpermutation\" if it contains all the integers from 1 to the length of the subarray, each exactly once.  \n\nFor example, the array  [2, 2, 1, 3, 2, 3, 1] has 6 subpermutations.\n\nYour task is to write a program that takes an array of integers as input and outputs the number of subpermutations in the array."}, {"prompt_md5": "5a13656f", "template_md5": "465699a0", "result": "You are given a list of numbers.  Find the number of sublists within the list where each number from 1 to the length of the sublist appears exactly once."}]}