{"uid": "1170-H", "url": "https://codeforces.com/contest/1170/problem/H", "tags": ["*special", " constructive algorithms"], "title": "1170-H", "statement": "H. Longest Sawtime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given the sequence $$$a_1, a_2, \\\\dots, a_n$$$. You can choose any subset of elements and then reorder them to create a \"saw\".The sequence $$$b_1, b_2, \\\\dots, b_m$$$ is called a \"saw\" if the elements satisfy one of the following series of inequalities: $$$b_1>b_2<b_3>b_4<\\\\dots$$$ or $$$b_1<b_2>b_3<b_4>\\\\dots$$$.Find the longest saw which can be obtained from a given array.Note that both the given sequence $$$a$$$ and the required saw $$$b$$$ can contain duplicated (non-unique) values.InputThe first line contains an integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^5$$$) â€” the number of test cases in the input. Then the descriptions of the $$$t$$$ test cases follow. Each test case begins with a line containing integer $$$n$$$ ($$$1 \\\\le n \\\\le 2\\\\cdot10^5$$$). Then a line containing $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$1 \\\\le a_i \\\\le 10^9$$$) follows.It's guaranteed that $$$\\\\sum{n}$$$ doesn't exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, print two lines: print the length of the longest saw in the first line, and the saw itself in the second line. If there are several solutions, print any of them.ExampleInput3 10 10 9 8 7 6 5 4 3 2 1 7 1 2 2 2 3 2 2 3 100 100 100Output10 1 6 2 7 3 8 4 9 5 10  4 2 1 3 2  1 100", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a66ef087", "template_md5": "35d339e4", "result": "You are given a sequence of numbers $a_1, a_2, ..., a_n$.  You can choose any subset of these numbers and rearrange them to create a \"saw\".\n\nA sequence $b_1, b_2, ..., b_m$ is a \"saw\" if the numbers follow one of these patterns:\n\n*  $b_1 > b_2 < b_3 > b_4 < ...$ \n*  $b_1 < b_2 > b_3 < b_4 > ...$\n\nFind the longest possible \"saw\" that can be created from the given sequence.  \n\n**Input:**\n\n* The first line contains the number of test cases, $t$.\n* For each test case:\n    * The first line contains the number of numbers in the sequence, $n$.\n    * The next line contains $n$ numbers, $a_1, a_2, ..., a_n$.\n\n**Output:**\n\n* For each test case:\n    * The first line contains the length of the longest \"saw\" found.\n    * The second line contains the numbers of the longest \"saw\"."}, {"prompt_md5": "5b4d6620", "template_md5": "465699a0", "result": "You are given a list of numbers.  You can pick some of the numbers and rearrange them.  The goal is to make the longest possible list where the numbers alternate between being bigger and smaller.  Print the length of the longest list and the list itself."}]}