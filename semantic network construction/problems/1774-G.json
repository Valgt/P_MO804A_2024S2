{"uid": "1774-G", "url": "https://codeforces.com/contest/1774/problem/G", "tags": ["brute force", " combinatorics", " constructive algorithms", " data structures", " dp", " trees"], "title": "1774-G", "statement": "G. Segment Coveringtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputChthollyNotaSeniorious gives DataStructures a number axis with $$$m$$$ distinct segments on it. Let $$$f(l,r)$$$ be the number of ways to choose an even number of segments such that the union of them is exactly $$$[l,r]$$$, and $$$g(l,r)$$$ be the number of ways to choose an odd number of segments such that the union of them is exactly $$$[l,r]$$$.ChthollyNotaSeniorious asked DataStructures $$$q$$$ questions. In each query, ChthollyNotaSeniorious will give DataStructures two numbers $$$l, r$$$, and now he wishes that you can help him find the value $$$f(l,r)-g(l,r)$$$ modulo $$$998\\\\,244\\\\,353$$$ so that he wouldn't let her down.InputThe first line of input contains two integers $$$m$$$ ($$$1 \\\\leq m \\\\leq 2 \\\\cdot 10^5$$$) and $$$q$$$ ($$$1 \\\\leq q \\\\leq 2 \\\\cdot 10^5$$$)  — the number of segments and queries, correspondingly.The $$$i$$$-th of the next $$$m$$$ lines contains two integers $$$x_i$$$ and $$$y_i$$$ ($$$1 \\\\leq x_i < y_i \\\\leq 10^9$$$), denoting a segment $$$[x_i, y_i]$$$.It is guaranteed that all segments are distinct.More formally, there do not exist two numbers $$$i, j$$$ with $$$1 \\\\le i < j \\\\le m$$$ such that $$$x_i = x_j$$$ and $$$y_i = y_j$$$.The $$$i$$$-th of the next $$$q$$$ lines contains two integers $$$l_i$$$ and $$$r_i$$$ ($$$1 \\\\leq l_i < r_i \\\\leq 10^9$$$), describing a query.OutputFor each query, output a single integer  — $$$f(l_i,r_i)-g(l_i,r_i)$$$ modulo $$$998\\\\,244\\\\,353$$$.ExampleInput4 2 1 3 4 6 2 4 3 5 1 4 1 5Output1 0NoteIn the first query, we have to find $$$f(1, 4) - g(1, 4)$$$. The only subset of segments with union $$$[1, 4]$$$ is $$$\\\\{[1, 3], [2, 4]\\\\}$$$, so $$$f(1, 4) = 1, g(1, 4) = 0$$$.In the second query, we have to find $$$f(1, 5) - g(1, 5)$$$. The only subsets of segments with union $$$[1, 5]$$$ are $$$\\\\{[1, 3], [2, 4], [3, 5]\\\\}$$$ and $$$\\\\{[1, 3], [3, 5]\\\\}$$$, so $$$f(1, 5) = 1, g(1, 5) = 1$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "54bae1b7", "template_md5": "35d339e4", "result": "You are given a number line with $m$ distinct segments on it.  Each segment is defined by its start and end points. \n\nFor a given range $[l, r]$ on the number line, you need to find:\n\n* $f(l, r)$: The number of ways to choose an even number of segments such that their union covers the entire range $[l, r]$.\n* $g(l, r)$: The number of ways to choose an odd number of segments such that their union covers the entire range $[l, r]$.\n\nYou are given $q$ queries, each consisting of two numbers $l$ and $r$. For each query, output  $f(l, r) - g(l, r)$ modulo $998244353$."}, {"prompt_md5": "a9771bec", "template_md5": "465699a0", "result": "You are given a set of intervals on a number line.  For each query, you need to find the difference between the number of ways to choose an even number of intervals that cover the given range and the number of ways to choose an odd number of intervals that cover the given range. The answer should be modulo 998244353."}]}