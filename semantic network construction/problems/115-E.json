{"uid": "115-E", "url": "https://codeforces.com/contest/115/problem/E", "tags": ["data structures", " dp"], "title": "115-E", "statement": "E. Linear Kingdom Racestime limit per test3 secondsmemory limit per test256 megabytesinputstdinoutputstdoutYou are a car race organizer and would like to arrange some races in Linear Kingdom.Linear Kingdom hasnconsecutive roads spanning from left to right. The roads are numbered from1tonfrom left to right, thus the roads follow in the order of their numbers' increasing. There will be several races that may be held on these roads. Each race will use aconsecutivesubset of these roads. Also, each race will pay some amount of money to you if this race is held. No races overlap in time, so some roads can be used in several races.Unfortunately, some of the roads are in a bad condition and they need repair. Each road has repair costs associated with it, you are required to pay this cost to repair the road. A race can only take place if all the roads used in the race are renovated. Your task is to repair such roads (possibly all or none) that will maximize your profit. Your profit is defined as the total money you get from the races that are held minus the total money you spent to repair the roads. Note that you may decide not to repair any road and gain zero profit.Print the maximum profit you can gain.InputThe first line contains two single-space separated integers,nandm(1 ≤n,m≤ 2·105), denoting the number of roads and the number of races, respectively.Thennlines follow, each line will contain a single non-negative integer not exceeding109denoting the cost to repair a road. The costs are given in order from road1to roadn.Finally,mlines follow. Each line is single-space-separated triplets of integers. Each triplet will be given aslb,ub, andp(1 ≤lb≤ub≤n, 1 ≤p≤ 109), which means that the race these three integers describe will use all the roads fromlbtoub, inclusive, and if it's held you getp.OutputPrint a single integer denoting the maximum possible profit you can gain.Please, do not use the%lldspecificator to read or write 64-bit integers in C++. It is recommended to usecin,coutstream (also you may use%I64dspecificator).ExamplesInput7 432321231 2 52 3 53 5 37 7 5Output4Input2 1031 2 5Output2Input3 11010101 3 10Output0NoteIn the first sample the optimal solution is to repair roads1,2,3, and7. Three races will take place which nets you15. The road repair costs11, hence your profit is4.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "89b78f22", "template_md5": "35d339e4", "result": "You are given $n$ roads numbered from 1 to $n$. Each road has a repair cost associated with it. There are $m$ races, each using a consecutive set of roads. Each race pays a certain amount of money if held.  \n\nA race can only be held if all the roads it uses are repaired. Your goal is to decide which roads to repair to maximize your profit. Profit is calculated as the total money earned from races minus the total repair costs. \n\n**Input:**\n\n* The first line contains two integers, $n$ and $m$ ($1 \\le n, m \\le 2 \\cdot 10^5$), representing the number of roads and races, respectively.\n* The next line contains $n$ integers, each representing the repair cost of a road ($0 \\le$ cost $\\le 10^9$).\n* The next $m$ lines each contain three integers: $lb$, $ub$, and $p$ ($1 \\le lb \\le ub \\le n$, $1 \\le p \\le 10^9$). This represents a race using roads from $lb$ to $ub$ inclusive, which pays $p$ if held.\n\n**Output:**\n\nPrint a single integer representing the maximum profit you can achieve."}, {"prompt_md5": "914632eb", "template_md5": "465699a0", "result": "You have a set of items (roads) with associated costs to repair them. You also have a set of jobs (races) that require a consecutive set of items. Each job pays a certain amount if completed.  You need to decide which items to repair to maximize the profit from completed jobs minus the repair costs."}]}