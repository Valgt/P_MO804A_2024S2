{"uid": "372-C", "url": "https://codeforces.com/contest/372/problem/C", "tags": ["data structures", " dp", " math"], "title": "372-C", "statement": "C. Watching Fireworks is Funtime limit per test4 secondsmemory limit per test256 megabytesinputstdinoutputstdoutA festival will be held in a town's main street. There arensections in the main street. The sections are numbered1throughnfrom left to right. The distance between each adjacent sections is1.In the festivalmfireworks will be launched. Thei-th (1 ≤i≤m) launching is on timetiat sectionai. If you are at sectionx(1 ≤x≤n) at the time ofi-th launching, you'll gain happiness valuebi- |ai-x|(note that the happiness value might be a negative value).You can move up todlength units in a unit time interval, but it's prohibited to go out of the main street. Also you can be in an arbitrary section at initial time moment (time equals to1), and want to maximize the sum of happiness that can be gained from watching fireworks. Find the maximum total happiness.Note that two or more fireworks can be launched at the same time.InputThe first line contains three integersn,m,d(1 ≤n≤ 150000; 1 ≤m≤ 300; 1 ≤d≤n).Each of the nextmlines contains integersai,bi,ti(1 ≤ai≤n; 1 ≤bi≤ 109; 1 ≤ti≤ 109). Thei-th line contains description of thei-th launching.It is guaranteed that the conditionti≤ti+ 1(1 ≤i<m) will be satisfied.OutputPrint a single integer — the maximum sum of happiness that you can gain from watching all the fireworks.Please, do not write the%lldspecifier to read or write 64-bit integers in C++. It is preferred to use thecin,coutstreams or the%I64dspecifier.ExamplesInput50 3 149 1 126 1 46 1 10Output-31Input10 2 11 1000 49 1000 4Output1992", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b07a281b", "template_md5": "35d339e4", "result": "There are $n$ sections in a street. Fireworks will be launched at $m$ different times. The $i$-th firework is launched at time $t_i$ at section $a_i$. You can move up to $d$ sections in one time unit.  You want to find the maximum happiness you can gain by watching the fireworks. \n\nThe happiness gained from watching the $i$-th firework at section $x$ is $b_i - |a_i - x|$.\n\nYou can start at any section at time 1. \n\n\nInput:\n\n* The first line contains three integers: $n$, $m$, and $d$.\n* Each of the next $m$ lines contains three integers: $a_i$, $b_i$, and $t_i$.\n\nOutput:\n\n* Print a single integer representing the maximum total happiness."}, {"prompt_md5": "04fe6146", "template_md5": "465699a0", "result": "You are on a street with many sections. Fireworks will be launched at different times and locations on the street. You can move a limited distance each time step. Your goal is to figure out the best path to move along the street so that you maximize the total happiness you gain from watching the fireworks."}]}