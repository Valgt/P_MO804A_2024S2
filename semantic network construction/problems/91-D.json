{"uid": "91-D", "url": "https://codeforces.com/contest/91/problem/D", "tags": ["constructive algorithms", " graphs", " greedy"], "title": "91-D", "statement": "D. Grocer's Problemtime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutYesterday was a fair in a supermarket's grocery section. There werenjars with spices on the fair. Before the event the jars were numbered from1tonfrom the left to the right. After the event the jars were moved and the grocer had to sort them by the increasing of the numbers.The grocer has a special machine at his disposal. The machine can take any5or less jars and rearrange them in the way the grocer wants. Note that the jarsdo not have tostand consecutively. For example, from the permutation2,6,5,4,3,1one can get permutation1,2,3,4,5,6, if pick the jars on the positions1,2,3,5and6.Which minimum number of such operations is needed to arrange all the jars in the order of their numbers' increasing?InputThe first line contains an integern(1 ≤n≤ 105). The second line containsnspace-separated integersai(1 ≤ai≤n) — thei-th number represents the number of a jar that occupies thei-th position. It is guaranteed that all the numbers are distinct.OutputPrint on the first line the least number of operations needed to rearrange all the jars in the order of the numbers' increasing. Then print the description of all actions in the following format.On the first line of the description of one action indicate the number of jars that need to be taken (k), on the second line indicate from which positions the jars need to be taken (b1,b2, ...,bk), on the third line indicate the jar's new order (c1,c2, ...,ck). After the operation is fulfilled the jar from positionbiwill occupy the positionci. The set (c1,c2, ...,ck) should be the rearrangement of the set (b1,b2, ...,bk).If there are multiple solutions, output any.ExamplesInput63 5 6 1 2 4Output241 3 6 43 6 4 122 55 2Input149 13 11 3 10 7 12 14 1 5 4 6 8 2Output342 13 8 1413 8 14 256 7 12 5 107 12 6 10 553 11 4 1 911 4 3 9 1NoteLet's consider the first sample. The jars can be sorted within two actions.During the first action we take the jars from positions1,3,6and4and put them so that the jar that used to occupy the position1will occupy the position3after the operation is completed. The jar from position3will end up in position6, the jar from position6will end up in position4and the jar from position4will end up in position1.After the first action the order will look like that:1,5,3,4,2,6.During the second operation the jars in positions2and5will change places.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0b89a4fc", "template_md5": "35d339e4", "result": "You are given a list of $n$ distinct numbers ($1 \\le n \\le 10^5$) representing the positions of jars after they have been moved.  The goal is to sort the jars in increasing order using a special machine. The machine can take any 5 or fewer jars and rearrange them. \n\nFind the minimum number of operations needed to sort the jars and describe a sequence of operations to achieve this. \n\n**Input:**\n\n* The first line contains an integer $n$.\n* The second line contains $n$ space-separated integers $a_i$ ($1 \\le a_i \\le n$) representing the positions of the jars.\n\n**Output:**\n\n* The first line should contain the minimum number of operations.\n* The following lines should describe each operation in the following format:\n    * The first line of an operation should contain an integer $k$ (the number of jars being moved).\n    * The second line should contain $k$ space-separated integers $b_1, b_2, ..., b_k$ (the starting positions of the jars).\n    * The third line should contain $k$ space-separated integers $c_1, c_2, ..., c_k$ (the new positions of the jars after the rearrangement)."}, {"prompt_md5": "048aa5c4", "template_md5": "465699a0", "result": "You are given a list of numbers.  You can take up to 5 numbers from the list at a time and rearrange them in any order. What is the minimum number of times you need to do this to sort the list in ascending order?"}]}