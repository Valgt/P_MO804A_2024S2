{"uid": "1237-E", "url": "https://codeforces.com/contest/1237/problem/E", "tags": ["dp", " math"], "title": "1237-E", "statement": "E. Balanced Binary Search Treestime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputRecall that a binary search tree is a rooted binary tree, whose nodes each store a key and each have at most two distinguished subtrees, left and right. The key in each node must be greater than any key stored in the left subtree, and less than any key stored in the right subtree.The depth of a vertex is the number of edges on the simple path from the vertex to the root. In particular, the depth of the root is $$$0$$$.Let's call a binary search treeperfectly balancedif there doesn't exist a binary search tree with the same number of vertices that has a strictly smaller sum of depths of its vertices.Let's call a binary search tree with integer keysstripedif both of the following conditions are satisfied for every vertex $$$v$$$:If $$$v$$$ has aleftsubtree whose root is $$$u$$$, then the parity of the key of $$$v$$$ isdifferentfrom the parity of the key of $$$u$$$.If $$$v$$$ has arightsubtree whose root is $$$w$$$, then the parity of the key of $$$v$$$ is thesameas the parity of the key of $$$w$$$.You are given a single integer $$$n$$$. Find the number of perfectly balanced striped binary search trees with $$$n$$$ vertices that have distinct integer keys between $$$1$$$ and $$$n$$$, inclusive. Output this number modulo $$$998\\\\,244\\\\,353$$$.InputThe only line contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 10^6$$$), denoting the required number of vertices.OutputOutput the number of perfectly balanced striped binary search trees with $$$n$$$ vertices and distinct integer keys between $$$1$$$ and $$$n$$$, inclusive, modulo $$$998\\\\,244\\\\,353$$$.ExamplesInput4Output1Input3Output0NoteIn the first example, this is the only tree that satisfies the conditions:In the second example, here are various trees that don't satisfy some condition:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e39b0635", "template_md5": "35d339e4", "result": "You are given an integer $n$. Find the number of perfectly balanced striped binary search trees with $n$ vertices and distinct integer keys between 1 and $n$, inclusive. Output this number modulo 998244353.\n\nHere's how a striped binary search tree works:\n\n* **Binary Search Tree:**  A tree where the left subtree of a node contains only keys smaller than the node's key, and the right subtree contains only keys larger than the node's key.\n* **Striped:**  For every node:\n    * If the node has a left subtree, the key of the node must have a different parity (evenness/oddness) than the key of the left subtree's root.\n    * If the node has a right subtree, the key of the node must have the same parity as the key of the right subtree's root.\n\n\n\nLet me know if you'd like me to elaborate on any of these concepts!"}, {"prompt_md5": "66bb7b91", "template_md5": "465699a0", "result": "You are given a number *n*. Find the number of special balanced trees with *n* nodes where each node has a unique number from 1 to *n*.  The tree must follow these rules:\n\n*  The left subtree of a node has a number with a different parity (even or odd) than the node itself.\n*  The right subtree of a node has a number with the same parity as the node itself. \n\nOutput the answer modulo 998244353."}]}