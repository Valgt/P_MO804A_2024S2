{"uid": "1844-C", "url": "https://codeforces.com/contest/1844/problem/C", "tags": ["dp", " greedy", " implementation", " math"], "title": "1844-C", "statement": "C. Particlestime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou have discovered $$$n$$$ mysterious particles on a line with integer charges of $$$c_1,\\\\dots,c_n$$$. You have a device that allows you to perform the following operation:Choose a particle and remove it from the line. The remaining particles will shift to fill in the gap that is created. If there were particles with charges $$$x$$$ and $$$y$$$ directly to the left and right of the removed particle, they combine into a single particle of charge $$$x+y$$$.For example, if the line of particles had charges of $$$[-3,1,4,-1,5,-9]$$$, performing the operation on the $$$4$$$th particle will transform the line into $$$[-3,1,9,-9]$$$.If we then use the device on the $$$1$$$st particle in this new line, the line will turn into $$$[1,9,-9]$$$.You will perform operations until there is only one particle left. What is the maximum charge of this remaining particle that you can obtain?InputEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$). The description of the test cases follows.The first line of each test case contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 2 \\\\cdot 10^5$$$).The second line of each test case contains $$$n$$$ integers $$$c_1,\\\\dots,c_n$$$ ($$$-10^9 \\\\le c_i \\\\le 10^9$$$).It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, output one integer, the maximum charge of the remaining particle.ExampleInput36-3 1 4 -1 5 -95998244353 998244353 998244353 998244353 9982443531-2718Output9 2994733059 -2718NoteIn the first test case, the best strategy is to use the device on the $$$4$$$th particle, then on the $$$1$$$st particle (as described in the statement), and finally use the device on the new $$$3$$$rd particle followed by the $$$1$$$st particle.In the second test case, the best strategy is to use the device on the $$$4$$$th particle to transform the line into $$$[998244353,998244353,1996488706]$$$, then on the $$$2$$$nd particle to transform the line into $$$[2994733059]$$$. Be wary of integer overflow.In the third test case, there is only one particle, so no operations can be performed.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "54390978", "template_md5": "465699a0", "result": "You have a line of numbers. You can remove a number from the line, and the numbers on either side of it combine into one new number.  What is the largest possible number you can get by repeatedly removing numbers?"}, {"prompt_md5": "9fb2552b", "template_md5": "35d339e4", "result": "You are given a line of $n$ particles, each with an integer charge $c_1, c_2, ..., c_n$. You can perform the following operation:\n\n1. Choose a particle and remove it from the line.\n2. The particles to the left and right of the removed particle combine into a single particle with charge equal to the sum of their charges.\n\nRepeat this operation until only one particle remains. What is the maximum possible charge of this final particle?\n\n**Input:**\n\n* The first line contains the number of test cases, $t$.\n* For each test case:\n    * The first line contains the number of particles, $n$.\n    * The second line contains the charges of the particles, $c_1, c_2, ..., c_n$.\n\n**Output:**\n\nFor each test case, output the maximum possible charge of the final particle."}]}