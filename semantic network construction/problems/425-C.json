{"uid": "425-C", "url": "https://codeforces.com/contest/425/problem/C", "tags": ["data structures", " dp"], "title": "425-C", "statement": "C. Sereja and Two Sequencestime limit per test4 secondsmemory limit per test512 megabytesinputstdinoutputstdoutSereja has two sequencesa1,a2, ...,anandb1,b2, ...,bm, consisting of integers. One day Sereja got bored and he decided two play with them. The rules of the game was very simple. Sereja makes several moves, in one move he can perform one of the following actions:Choose several (at least one) first elements of sequencea(non-empty prefix ofa), choose several (at least one) first elements of sequenceb(non-empty prefix ofb); the element of sequenceawith the maximum index among the chosen ones must be equal to the element of sequencebwith the maximum index among the chosen ones; remove the chosen elements from the sequences.Remove all elements of both sequences.The first action is wortheenergy units and adds one dollar to Sereja's electronic account. The second action is worth the number of energy units equal to the number of elements Sereja removed from the sequences before performing this action. After Sereja performed the second action, he gets all the money that he earned on his electronic account during the game.Initially Sereja hassenergy units and no money on his account. What maximum number of money can Sereja get? Note, the amount of Seraja's energy mustn't be negative at any time moment.InputThe first line contains integersn,m,s,e(1 ≤n,m≤ 105; 1 ≤s≤ 3·105; 103≤e≤ 104). The second line containsnintegersa1,a2,...,an(1 ≤ai≤ 105). The third line containsmintegersb1,b2,...,bm(1 ≤bi≤ 105).OutputPrint a single integer — maximum number of money in dollars that Sereja can get.ExamplesInput5 5 100000 10001 2 3 4 53 2 4 5 1Output3Input3 4 3006 10001 2 31 2 4 3Output2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "bf41e0f7", "template_md5": "35d339e4", "result": "You are given two sequences of integers,  $a$ of length $n$ and $b$ of length $m$.  You can perform the following actions:\n\n1. **Action 1:** Choose non-empty prefixes from both sequences $a$ and $b$. The maximum element in the chosen prefix of $a$ must be equal to the maximum element in the chosen prefix of $b$. Remove these chosen elements from both sequences. This action earns you 1 dollar.\n2. **Action 2:** Remove all elements from both sequences. This action earns you energy units equal to the total number of elements removed before this action. You then receive all the dollars you have earned.\n\nYou start with $s$ dollars and $e$ energy units.  What is the maximum number of dollars you can earn?  You cannot have negative energy at any point."}, {"prompt_md5": "4b343918", "template_md5": "465699a0", "result": "You have two lists of numbers. You can repeatedly choose some numbers from the beginning of each list, as long as the largest number chosen from the first list is equal to the largest number chosen from the second list.  After choosing numbers, you can either:\n\n1. Remove the chosen numbers from both lists and earn $1.\n2. Remove all numbers from both lists and earn the number of energy points equal to the total number of numbers removed.\n\nYou start with a certain amount of energy.  What is the maximum amount of money you can earn without running out of energy?"}]}