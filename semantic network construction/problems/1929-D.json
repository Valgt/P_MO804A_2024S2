{"uid": "1929-D", "url": "https://codeforces.com/contest/1929/problem/D", "tags": ["combinatorics", " dp", " math", " trees"], "title": "1929-D", "statement": "D. Sasha and a Walk in the Citytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputSasha wants to take a walk with his girlfriend in the city. The city consists of $$$n$$$ intersections, numbered from $$$1$$$ to $$$n$$$. Some of them are connected by roads, and from any intersection, there is exactly one simple path$$$^{\\\\dagger}$$$ to any other intersection. In other words, the intersections and the roads between them form a tree.Some of the intersections are considered dangerous. Since it is unsafe to walk alone in the city, Sasha does not want to visit three or more dangerous intersections during the walk.Sasha calls a set of intersectionsgoodif the following condition is satisfied:If in the city only the intersections contained in this set are dangerous, then any simple path in the city containsno more than twodangerous intersections.However, Sasha does not know which intersections are dangerous, so he is interested in the number of different good sets of intersections in the city. Since this number can be very large, output it modulo $$$998\\\\,244\\\\,353$$$.$$$^{\\\\dagger}$$$A simple path is a path that passes through each intersection at most once.InputEach test consists of multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — the number of test cases. The description of the test cases follows.The first line of each test case contains a single integer $$$n$$$ ($$$2 \\\\le n \\\\leq 3 \\\\cdot 10^5$$$) — the number of intersections in the city.The next $$$(n - 1)$$$ lines describe the roads. The $$$i$$$-th line contains two integers $$$u_i$$$ and $$$v_i$$$ ($$$1 \\\\leq u_i, v_i \\\\leq n$$$, $$$u_i \\\\ne v_i$$$) — the numbers of the intersections connected by the $$$i$$$-th road.It is guaranteed that these roads form a tree.It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$3 \\\\cdot 10^5$$$.OutputFor each test case, output a single integer — the number of good sets of intersections modulo $$$998\\\\,244\\\\,353$$$.ExampleInput431 33 243 42 33 151 23 45 12 341 22 33 4Output7 12 16 11NoteIn the first test case, there are $$$2^3 = 8$$$ sets of intersections. All of them are good, except for the set $$$\\\\{1, 2, 3\\\\}$$$, because if intersections $$$1, 2$$$, and $$$3$$$ are dangerous, then the simple path $$$1 - 2 - 3$$$ contains $$$3$$$ dangerous intersections. Thus, there are $$$7$$$ good sets.In the second test case, there are $$$2^4 = 16$$$ sets of intersections. Among them, the sets $$$\\\\{1, 2, 3, 4\\\\}$$$, $$$\\\\{1, 2, 3\\\\}$$$, $$$\\\\{1, 3, 4\\\\}$$$, $$$\\\\{2, 3, 4\\\\}$$$ are not good. Thus, there are a total of $$$12$$$ good sets. The city layout is shown below:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "372425c6", "template_md5": "35d339e4", "result": "You are given a tree with $n$ nodes.  You need to find the number of subsets of nodes such that if only the nodes in the subset are considered dangerous, then every path in the tree has at most two dangerous nodes. The answer should be taken modulo $998244353$."}, {"prompt_md5": "54920864", "template_md5": "465699a0", "result": "You are given a tree with a certain number of nodes.  You need to find the number of subsets of nodes where any path in the tree has at most two nodes from the subset.  The answer should be taken modulo 998244353."}]}