{"uid": "1210-F1", "url": "https://codeforces.com/contest/1210/problem/F1", "tags": ["brute force", " probabilities"], "title": "1210-F1", "statement": "F1. Marek and Matching (easy version)time limit per test7 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is an easier version of the problem. In this version, $$$n \\\\le 6$$$.Marek is working hard on creating strong testcases to his new algorithmic problem. You want to know what it is? Nah, we're not telling you. However, we can tell you how he generates the testcases.Marek chooses an integer $$$n$$$ and $$$n^2$$$ integers $$$p_{ij}$$$ ($$$1 \\\\le i \\\\le n$$$, $$$1 \\\\le j \\\\le n$$$). He then generates a random bipartite graph with $$$2n$$$ vertices. There are $$$n$$$ vertices on the left side: $$$\\\\ell_1, \\\\ell_2, \\\\dots, \\\\ell_n$$$, and $$$n$$$ vertices on the right side: $$$r_1, r_2, \\\\dots, r_n$$$. For each $$$i$$$ and $$$j$$$, he puts an edge between vertices $$$\\\\ell_i$$$ and $$$r_j$$$ with probability $$$p_{ij}$$$ percent.It turns out that the tests will be strong only if a perfect matching exists in the generated graph. What is the probability that this will occur?It can be shown that this value can be represented as $$$\\\\frac{P}{Q}$$$ where $$$P$$$ and $$$Q$$$ are coprime integers and $$$Q \\\\not\\\\equiv 0 \\\\pmod{10^9+7}$$$. Let $$$Q^{-1}$$$ be an integer for which $$$Q \\\\cdot Q^{-1} \\\\equiv 1 \\\\pmod{10^9+7}$$$. Print the value of $$$P \\\\cdot Q^{-1}$$$ modulo $$$10^9+7$$$.InputThe first line of the input contains a single integer $$$n$$$ ($$$\\\\mathbf{1 \\\\le n \\\\le 6}$$$). The following $$$n$$$ lines describe the probabilities of each edge appearing in the graph. The $$$i$$$-th of the lines contains $$$n$$$ integers $$$p_{i1}, p_{i2}, \\\\dots, p_{in}$$$ ($$$0 \\\\le p_{ij} \\\\le 100$$$); $$$p_{ij}$$$ denotes the probability, in percent, of an edge appearing between $$$\\\\ell_i$$$ and $$$r_j$$$.OutputPrint a single integer â€” the probability that the perfect matching exists in the bipartite graph, written as $$$P \\\\cdot Q^{-1} \\\\pmod{10^9+7}$$$ for $$$P$$$, $$$Q$$$ defined above.ExamplesInput2 50 50 50 50Output937500007Input3 3 1 4 1 5 9 2 6 5Output351284554NoteIn the first sample test, each of the $$$16$$$ graphs below is equally probable. Out of these, $$$7$$$ have a perfect matching:Therefore, the probability is equal to $$$\\\\frac{7}{16}$$$. As $$$16 \\\\cdot 562\\\\,500\\\\,004 = 1 \\\\pmod{10^9+7}$$$, the answer to the testcase is $$$7 \\\\cdot 562\\\\,500\\\\,004 \\\\mod{(10^9+7)} = 937\\\\,500\\\\,007$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e35197cf", "template_md5": "465699a0", "result": "You are given a number *n* and a grid of probabilities.  Each cell in the grid represents the chance of an edge existing between two points.  \n\nYou need to find the probability that a perfect matching exists in a graph created using these probabilities. A perfect matching means every point is connected to exactly one other point. \n\n\nThe answer should be a single number."}, {"prompt_md5": "d9636a62", "template_md5": "35d339e4", "result": "Given an integer $n$ ($1 \\le n \\le 6$), you are given an $n \\times n$ matrix $p_{ij}$ where $0 \\le p_{ij} \\le 100$ represents the probability of an edge between vertices $\\ell_i$ and $r_j$ in a bipartite graph.  There are $n$ vertices on the left side ($\\ell_1, \\ell_2, ..., \\ell_n$) and $n$ vertices on the right side ($r_1, r_2, ..., r_n$).\n\nCalculate the probability that a perfect matching exists in this graph. The probability can be represented as $\\frac{P}{Q}$ where $P$ and $Q$ are coprime integers and $Q \\not\\equiv 0 \\pmod{10^9+7}$.  Output the value of $P \\cdot Q^{-1} \\pmod{10^9+7}$, where $Q^{-1}$ is the modular inverse of $Q$ modulo $10^9+7$."}]}