{"uid": "138-D", "url": "https://codeforces.com/contest/138/problem/D", "tags": ["dp", " games"], "title": "138-D", "statement": "D. World of Darkrafttime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutRecently Roma has become the happy owner of a new game World of Darkraft. This game combines elements of virtually all known genres, and on one of the later stages of the game Roma faced difficulties solving a puzzle.In this part Roma fights with a cunning enemy magician. The battle takes place on a rectangular field plaidn×m. Each cell contains one magical character:L,RorX. Initially all the squares of the field are \"active\".The players, Roma and enemy magician, take turns. Roma makes the first move. During a move a player selects one of the active cells. Then depending on the image in the character in the cell one of the following actions takes place:L— magical waves radiate from the cell to the left downwards and to the right upwards along diagonal paths. All cells on the path of the waves (including the selected cell too) become inactive. The waves continue until the next inactive cell or to the edge of the field if there are no inactive cells on the way.R— the magical waves radiate to the left upwards and to the right downwards.X— the magical waves radiate in all four diagonal directions.If the next player cannot make a move (i.e., all cells are inactive), he loses.Roma has been trying to defeat the computer opponent for three days but he just keeps losing. He asks you to help him and determine whether it is guaranteed that he can beat the opponent, or he will have to hack the game.InputThe first line contains two space-separated integersnandm(1 ≤n,m≤ 20).Nextnlines containmcharacters describing the playing field: thej-th character of thei-th line equals to the magical character of the corresponding field square.OutputOn the first line print \"WIN\" if Roma can win or \"LOSE\" if it is impossible to win considering that the opponent pays optimally.ExamplesInput2 2RLLROutputLOSEInput2 2RRRROutputWINNoteIn the first test each move makes one diagonal line of the square inactive, thus it is guaranteed that Roma loses after two moves.There are three variants of making a move in the second test: to \"finish off\" the main diagonal line or any of the squares that are left. That means that after three moves the game stops and Roma wins.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c53a5480", "template_md5": "35d339e4", "result": "You are given a rectangular grid of size $n \\times m$ filled with characters 'L', 'R', or 'X'.  \n\n* **L:**  Magical waves spread diagonally to the left and down, and to the right and up.\n* **R:** Magical waves spread diagonally to the left and up, and to the right and down.\n* **X:** Magical waves spread in all four diagonal directions.\n\nTwo players take turns. The first player chooses an active cell (a cell with a character).  When a player chooses a cell, the cell and all cells along the path of the magical waves become inactive. The waves continue until they hit an inactive cell or the edge of the grid.\n\nThe game ends when a player cannot make a move (all cells are inactive).\n\nDetermine if the first player can always win, assuming the second player plays optimally."}, {"prompt_md5": "3afe40b5", "template_md5": "465699a0", "result": "Two players take turns on a grid. Each cell has one of three symbols: L, R, or X.  A move on a cell with L, R, or X causes waves to spread diagonally, deactivating cells in their path. The game ends when a player cannot make a move. Determine if the first player can always win, assuming the second player plays optimally."}]}