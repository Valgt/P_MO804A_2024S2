{"uid": "1697-E", "url": "https://codeforces.com/contest/1697/problem/E", "tags": ["brute force", " combinatorics", " constructive algorithms", " dp", " geometry", " graphs", " greedy", " implementation", " math"], "title": "1697-E", "statement": "E. Coloringtime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given $$$n$$$ points on the plane, the coordinates of the $$$i$$$-th point are $$$(x_i, y_i)$$$. No two points have the same coordinates.The distance between points $$$i$$$ and $$$j$$$ is defined as $$$d(i,j) = |x_i - x_j| + |y_i - y_j|$$$.For each point, you have to choose a color, represented by an integer from $$$1$$$ to $$$n$$$. For every ordered triple of different points $$$(a,b,c)$$$, the following constraints should be met:if $$$a$$$, $$$b$$$ and $$$c$$$ have the same color, then $$$d(a,b) = d(a,c) = d(b,c)$$$;if $$$a$$$ and $$$b$$$ have the same color, and the color of $$$c$$$ is different from the color of $$$a$$$, then $$$d(a,b) < d(a,c)$$$ and $$$d(a,b) < d(b,c)$$$.Calculate the number of different ways to choose the colors that meet these constraints.InputThe first line contains one integer $$$n$$$ ($$$2 \\\\le n \\\\le 100$$$) — the number of points.Then $$$n$$$ lines follow. The $$$i$$$-th of them contains two integers $$$x_i$$$ and $$$y_i$$$ ($$$0 \\\\le x_i, y_i \\\\le 10^8$$$).No two points have the same coordinates (i. e. if $$$i \\\\ne j$$$, then either $$$x_i \\\\ne x_j$$$ or $$$y_i \\\\ne y_j$$$).OutputPrint one integer — the number of ways to choose the colors for the points. Since it can be large, print it modulo $$$998244353$$$.ExamplesInput3 1 0 3 0 2 1Output9Input5 1 2 2 4 3 4 4 4 1 3Output240Input4 1 0 3 0 2 1 2 0Output24NoteIn the first test, the following ways to choose the colors are suitable:$$$[1, 1, 1]$$$;$$$[2, 2, 2]$$$;$$$[3, 3, 3]$$$;$$$[1, 2, 3]$$$;$$$[1, 3, 2]$$$;$$$[2, 1, 3]$$$;$$$[2, 3, 1]$$$;$$$[3, 1, 2]$$$;$$$[3, 2, 1]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8593f8ab", "template_md5": "35d339e4", "result": "You are given $n$ points on a plane, each with coordinates $(x_i, y_i)$.  The distance between two points $(x_i, y_i)$ and $(x_j, y_j)$ is calculated as $|x_i - x_j| + |y_i - y_j|$.\n\nYou need to assign a color to each point, using integers from 1 to $n$.  The colors must follow these rules:\n\n* **Rule 1:** If three points have the same color, the distances between them must all be equal.\n* **Rule 2:** If two points have the same color and the third point has a different color, the distance between the two points with the same color must be less than the distance between either of those points and the third point.\n\nFind the number of ways to assign colors to the points that satisfy these rules.  Since the number of ways can be large, print the answer modulo 998244353."}, {"prompt_md5": "1f0a3ff9", "template_md5": "465699a0", "result": "You have a set of points on a grid.  You need to assign each point a color from 1 to the number of points.  The colors must follow these rules:\n\n* If three points share the same color, the distance between each pair of those points must be the same.\n* If two points share a color and the third point has a different color, the distance between the two points with the same color must be smaller than the distance between either of those points and the third point.\n\nCount how many different ways you can color the points following these rules."}]}