{"uid": "1149-B", "url": "https://codeforces.com/contest/1149/problem/B", "tags": ["dp", " implementation", " strings"], "title": "1149-B", "statement": "B. Three Religionstime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputDuring the archaeological research in the Middle East you found the traces of three ancient religions: First religion, Second religion and Third religion. You compiled the information on the evolution of each of these beliefs, and you now wonder if the followers of each religion could coexist in peace.TheWord of Universeis a long word containing the lowercase English characters only. At each moment of time, each of the religion beliefs could be described by a word consisting of lowercase English characters.The three religions can coexist in peace if their descriptions form disjoint subsequences of theWord of Universe. More formally, one can paint some of the characters of theWord of Universein three colors: $$$1$$$, $$$2$$$, $$$3$$$, so that each character is painted inat mostone color, and the description of the $$$i$$$-th religion can be constructed from theWord of Universeby removing all characters that aren't painted in color $$$i$$$.The religions however evolve. In the beginning, each religion description is empty. Every once in a while, either a character is appended to the end of the description of a single religion, or the last character is dropped from the description. After each change, determine if the religions could coexist in peace.InputThe first line of the input contains two integers $$$n, q$$$ ($$$1 \\\\leq n \\\\leq 100\\\\,000$$$, $$$1 \\\\leq q \\\\leq 1000$$$) — the length of theWord of Universeand the number of religion evolutions, respectively. The following line contains theWord of Universe— a string of length $$$n$$$ consisting of lowercase English characters.Each of the following line describes a single evolution and is in one of the following formats:+$$$i$$$ $$$c$$$ ($$$i \\\\in \\\\{1, 2, 3\\\\}$$$, $$$c \\\\in \\\\{\\\\mathtt{a}, \\\\mathtt{b}, \\\\dots, \\\\mathtt{z}\\\\}$$$: append the character $$$c$$$ to the end of $$$i$$$-th religion description.-$$$i$$$ ($$$i \\\\in \\\\{1, 2, 3\\\\}$$$) – remove the last character from the $$$i$$$-th religion description. You can assume that the pattern is non-empty.You can assume that no religion will have description longer than $$$250$$$ characters.OutputWrite $$$q$$$ lines. The $$$i$$$-th of them should beYESif the religions could coexist in peace after the $$$i$$$-th evolution, orNOotherwise.You can print each character in any case (either upper or lower).ExamplesInput6 8 abdabc + 1 a + 1 d + 2 b + 2 c + 3 a + 3 b + 1 c - 2OutputYES YES YES YES YES YES NO YESInput6 8 abbaab + 1 a + 2 a + 3 a + 1 b + 2 b + 3 b - 1 + 2 zOutputYES YES YES YES YES NO YES NONoteIn the first example, after the 6th evolution the religion descriptions are:ad,bc, andab. The following figure shows how these descriptions form three disjoint subsequences of theWord of Universe:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f8182486", "template_md5": "35d339e4", "result": "You are given a string of lowercase letters called the \"Word of Universe\".  There are three religions, each represented by a string of lowercase letters.  \n\nInitially, all three religion strings are empty.\n\nOver time, the religions evolve.  Each evolution can be one of two types:\n\n* **Append:** A letter is added to the end of one of the religion strings.\n* **Remove:** The last letter is removed from one of the religion strings.\n\nAfter each evolution, determine if the three religion strings can coexist peacefully.  \n\nThe religions can coexist peacefully if and only if each religion string is a subsequence of the \"Word of Universe\", and no two religion strings share any letters.\n\n**Input:**\n\n* The first line contains two integers,  $n$ (the length of the \"Word of Universe\") and $q$ (the number of evolutions).\n* The second line contains the \"Word of Universe\".\n* Each of the following $q$ lines describes an evolution, in one of the following formats:\n    *  $+i$ $c$: Append the letter $c$ to the end of religion $i$.\n    *  $-i$: Remove the last letter from religion $i$.\n\n**Output:**\n\n* For each evolution, print \"YES\" if the religions can coexist peacefully, and \"NO\" otherwise."}, {"prompt_md5": "39da93d7", "template_md5": "465699a0", "result": "You have a long string of letters. Three groups want to claim parts of this string as their own, but they can only claim non-overlapping parts.  \n\nEach group can add or remove letters from the end of their claimed part. After each change, check if the three groups can still claim non-overlapping parts of the string."}]}