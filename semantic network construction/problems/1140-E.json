{"uid": "1140-E", "url": "https://codeforces.com/contest/1140/problem/E", "tags": ["combinatorics", " divide and conquer", " dp"], "title": "1140-E", "statement": "E. Palindrome-less Arraystime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLet's denote that some array $$$b$$$ isbadif it contains a subarray $$$b_l, b_{l+1}, \\\\dots, b_{r}$$$ of odd length more than $$$1$$$ ($$$l < r$$$ and $$$r - l + 1$$$ is odd) such that $$$\\\\forall i \\\\in \\\\{0, 1, \\\\dots, r - l\\\\}$$$ $$$b_{l + i} = b_{r - i}$$$.If an array is not bad, it isgood.Now you are given an array $$$a_1, a_2, \\\\dots, a_n$$$. Some elements are replaced by $$$-1$$$. Calculate the number of good arrays you can obtain by replacing each $$$-1$$$ with some integer from $$$1$$$ to $$$k$$$.Since the answer can be large, print it modulo $$$998244353$$$.InputThe first line contains two integers $$$n$$$ and $$$k$$$ ($$$2 \\\\le n, k \\\\le 2 \\\\cdot 10^5$$$) — the length of array $$$a$$$ and the size of \"alphabet\", i. e., the upper bound on the numbers you may use to replace $$$-1$$$.The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ ($$$a_i = -1$$$ or $$$1 \\\\le a_i \\\\le k$$$) — the array $$$a$$$.OutputPrint one integer — the number of good arrays you can get, modulo $$$998244353$$$.ExamplesInput2 3 -1 -1Output9Input5 2 1 -1 -1 1 2Output0Input5 3 1 -1 -1 1 2Output2Input4 200000 -1 -1 12345 -1Output735945883", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4c890701", "template_md5": "35d339e4", "result": "You are given an array of integers $a$ of length $n$. Some elements in the array are $-1$. You can replace each $-1$ with an integer from $1$ to $k$.\n\nAn array is considered \"bad\" if it contains a subarray of odd length greater than 1 where the elements are symmetric around the middle. For example, if the subarray is $[1, 2, 3]$, then it is bad.\n\nYou want to find the number of arrays you can create by replacing the $-1$s that are \"good\" (not bad).  Since the answer can be large, print it modulo $998244353$. \n\n\n\nLet me know if you'd like me to clarify any part of this!"}, {"prompt_md5": "86c21c36", "template_md5": "465699a0", "result": "You are given an array of numbers, some of which are -1. You can replace each -1 with a number from 1 to k.  Determine how many different arrays you can create where no subarray of odd length (longer than 1) is a palindrome (reads the same backward as forward).  The answer should be the number of possible arrays modulo 998244353."}]}