{"uid": "1041-E", "url": "https://codeforces.com/contest/1041/problem/E", "tags": ["constructive algorithms", " data structures", " graphs", " greedy"], "title": "1041-E", "statement": "E. Tree Reconstructiontime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputMonocarp has drawn a tree (an undirected connected acyclic graph) and then has given each vertex an index. All indices are distinct numbers from $$$1$$$ to $$$n$$$. For every edge $$$e$$$ of this tree, Monocarp has written two numbers: the maximum indices of the vertices of the two components formed if the edge $$$e$$$ (and only this edge) is erased from the tree.Monocarp has given you a list of $$$n - 1$$$ pairs of numbers. He wants you to provide an example of a tree that will produce the said list if this tree exists. If such tree does not exist, say so.InputThe first line contains one integer $$$n$$$ ($$$2 \\\\le n \\\\le 1\\\\,000$$$) — the number of vertices in the tree.Each of the next $$$n-1$$$ lines contains two integers $$$a_i$$$ and $$$b_i$$$ each ($$$1 \\\\le a_i < b_i \\\\le n$$$) — the maximal indices of vertices in the components formed if the $$$i$$$-th edge is removed.OutputIf there is no such tree that can produce the given list of pairs, print \"NO\" (without quotes).Otherwise print \"YES\" (without quotes) in the first line and the edges of the tree in the next $$$n - 1$$$ lines. Each of the last $$$n - 1$$$ lines should contain two integers $$$x_i$$$ and $$$y_i$$$ ($$$1 \\\\le x_i, y_i \\\\le n$$$) — vertices connected by an edge.Note: The numeration of edges doesn't matter for this task. Your solution will be considered correct if your tree produces the same pairs as given in the input file (possibly reordered). That means that you can print the edges of the tree you reconstructed in any order.ExamplesInput43 41 43 4OutputYES1 33 22 4Input31 31 3OutputNOInput31 22 3OutputNONotePossible tree from the first example. Dotted lines show edges you need to remove to get appropriate pairs.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4eaf7651", "template_md5": "35d339e4", "result": "You are given a list of $n-1$ pairs of numbers. Each pair represents the maximum indices of two sets of vertices in a tree after removing a specific edge.  \n\nYour task is to determine if a tree exists that produces this list of pairs. If such a tree exists, construct and output it. Otherwise, output \"NO\".\n\n**Input:**\n\n* The first line contains an integer $n$ ($2 \\le n \\le 1000$) representing the number of vertices in the tree.\n* Each of the next $n-1$ lines contains two integers $a_i$ and $b_i$ ($1 \\le a_i < b_i \\le n$) representing the maximum indices of the vertices in the two sets formed after removing the $i$-th edge.\n\n**Output:**\n\n* If no such tree exists, print \"NO\".\n* Otherwise, print \"YES\" followed by $n-1$ lines, each containing two integers $x_i$ and $y_i$ ($1 \\le x_i, y_i \\le n$) representing the vertices connected by an edge in the constructed tree."}, {"prompt_md5": "753f5fdd", "template_md5": "465699a0", "result": "You are given a list of pairs of numbers. Each pair represents the highest numbered nodes in two separate groups that would result if a specific connection between nodes was removed from a tree.  \n\nDetermine if a tree exists that produces this list of pairs. If so, construct and output the tree. If not, say \"no\"."}]}