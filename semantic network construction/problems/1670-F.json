{"uid": "1670-F", "url": "https://codeforces.com/contest/1670/problem/F", "tags": ["bitmasks", " combinatorics", " dp"], "title": "1670-F", "statement": "F. Jee, You See?time limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputDuring their training for the ICPC competitions, team \"Jee You See\" stumbled upon a very basic counting problem. After many \"Wrong answer\" verdicts, they finally decided to give up anddestroyturn-off the PC. Now they want your help in up-solving the problem.You are given 4 integers $$$n$$$, $$$l$$$, $$$r$$$, and $$$z$$$. Count the number of arrays $$$a$$$ of length $$$n$$$ containing non-negative integers such that:$$$l\\\\le a_1+a_2+\\\\ldots+a_n\\\\le r$$$, and$$$a_1\\\\oplus a_2 \\\\oplus \\\\ldots\\\\oplus a_n=z$$$, where $$$\\\\oplus$$$ denotes thebitwise XORoperation.Since the answer can be large, print it modulo $$$10^9+7$$$.InputThe only line contains four integers $$$n$$$, $$$l$$$, $$$r$$$, $$$z$$$ ($$$1 \\\\le n \\\\le 1000$$$, $$$1\\\\le l\\\\le r\\\\le 10^{18}$$$, $$$1\\\\le z\\\\le 10^{18}$$$).OutputPrint the number of arrays $$$a$$$ satisfying all requirements modulo $$$10^9+7$$$.ExamplesInput3 1 5 1Output13Input4 1 3 2Output4Input2 1 100000 15629Output49152Input100 56 89 66Output981727503NoteThe following arrays satisfy the conditions for the first sample:$$$[1, 0, 0]$$$;$$$[0, 1, 0]$$$;$$$[3, 2, 0]$$$;$$$[2, 3, 0]$$$;$$$[0, 0, 1]$$$;$$$[1, 1, 1]$$$;$$$[2, 2, 1]$$$;$$$[3, 0, 2]$$$;$$$[2, 1, 2]$$$;$$$[1, 2, 2]$$$;$$$[0, 3, 2]$$$;$$$[2, 0, 3]$$$;$$$[0, 2, 3]$$$.The following arrays satisfy the conditions for the second sample:$$$[2, 0, 0, 0]$$$;$$$[0, 2, 0, 0]$$$;$$$[0, 0, 2, 0]$$$;$$$[0, 0, 0, 2]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4a2de3f6", "template_md5": "35d339e4", "result": "You are given four integers $n$, $l$, $r$, and $z$.  Find the number of arrays $a$ of length $n$ containing non-negative integers such that:\n\n* $l \\le a_1 + a_2 + ... + a_n \\le r$ \n* $a_1 \\oplus a_2 \\oplus ... \\oplus a_n = z$\n\nwhere $\\oplus$ denotes the bitwise XOR operation.\n\nThe answer may be large, so print it modulo $10^9 + 7$."}, {"prompt_md5": "e84e2026", "template_md5": "465699a0", "result": "You are given a number 'n' and ranges for a sum and a bitwise XOR value. Find the number of arrays of length 'n' with non-negative integers that satisfy these conditions.  The sum of the array must be within the given range, and the bitwise XOR of all the elements must equal a given value.  The answer should be given modulo 10^9+7."}]}