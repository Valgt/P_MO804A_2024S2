{"uid": "1418-E", "url": "https://codeforces.com/contest/1418/problem/E", "tags": ["binary search", " combinatorics", " probabilities"], "title": "1418-E", "statement": "E. Expected Damagetime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are playing a computer game. In this game, you have to fight $$$n$$$ monsters.To defend from monsters, you need a shield. Each shield has two parameters: its current durability $$$a$$$ and its defence rating $$$b$$$. Each monster has only one parameter: its strength $$$d$$$.When you fight a monster with strength $$$d$$$ while having a shield with current durability $$$a$$$ and defence $$$b$$$, there are three possible outcomes:if $$$a = 0$$$, then you receive $$$d$$$ damage;if $$$a > 0$$$ and $$$d \\\\ge b$$$, you receive no damage, but the current durability of the shield decreases by $$$1$$$;if $$$a > 0$$$ and $$$d < b$$$, nothing happens.The $$$i$$$-th monster has strength $$$d_i$$$, and you will fight each of the monsters exactly once, in some random order (all $$$n!$$$ orders are equiprobable). You have to consider $$$m$$$ different shields, the $$$i$$$-th shield has initial durability $$$a_i$$$ and defence rating $$$b_i$$$. For each shield, calculate the expected amount of damage you will receive if you take this shield and fight the given $$$n$$$ monsters in random order.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n, m \\\\le 2 \\\\cdot 10^5$$$) â€” the number of monsters and the number of shields, respectively.The second line contains $$$n$$$ integers $$$d_1$$$, $$$d_2$$$, ..., $$$d_n$$$ ($$$1 \\\\le d_i \\\\le 10^9$$$), where $$$d_i$$$ is the strength of the $$$i$$$-th monster.Then $$$m$$$ lines follow, the $$$i$$$-th of them contains two integers $$$a_i$$$ and $$$b_i$$$ ($$$1 \\\\le a_i \\\\le n$$$; $$$1 \\\\le b_i \\\\le 10^9$$$) â€” the description of the $$$i$$$-th shield.OutputPrint $$$m$$$ integers, where the $$$i$$$-th integer represents the expected damage you receive with the $$$i$$$-th shield as follows: it can be proven that, for each shield, the expected damage is an irreducible fraction $$$\\\\dfrac{x}{y}$$$, where $$$y$$$ is coprime with $$$998244353$$$. You have to print the value of $$$x \\\\cdot y^{-1} \\\\bmod 998244353$$$, where $$$y^{-1}$$$ is the inverse element for $$$y$$$ ($$$y \\\\cdot y^{-1} \\\\bmod 998244353 = 1$$$).ExamplesInput3 2 1 3 1 2 1 1 2Output665496237 1Input3 3 4 2 6 3 1 1 2 2 3Output0 8 665496236", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "107cae23", "template_md5": "35d339e4", "result": "You have $n$ monsters to fight. Each monster has a strength $d_i$. You have $m$ shields to choose from. Each shield has a durability $a_i$ and a defense rating $b_i$.\n\nWhen you fight a monster with strength $d$ while using a shield with durability $a$ and defense $b$:\n\n* If $a = 0$, you take $d$ damage.\n* If $a > 0$ and $d \\ge b$, you take no damage, but the shield's durability decreases by 1.\n* If $a > 0$ and $d < b$, nothing happens.\n\nYou fight the monsters in a random order.  Calculate the expected amount of damage you will take for each shield.\n\n**Input:**\n\n* The first line contains two integers $n$ and $m$ ($1 \\le n, m \\le 2 \\cdot 10^5$) - the number of monsters and shields, respectively.\n* The second line contains $n$ integers $d_1$, $d_2$, ..., $d_n$ ($1 \\le d_i \\le 10^9$) - the strength of each monster.\n* The next $m$ lines each contain two integers $a_i$ and $b_i$ ($1 \\le a_i \\le n$; $1 \\le b_i \\le 10^9$) - the durability and defense rating of each shield.\n\n**Output:**\n\nPrint $m$ integers, where the $i$-th integer represents the expected damage you take with the $i$-th shield.  The expected damage can be expressed as a fraction $x/y$, where $y$ is coprime with 998244353. Print the value of $x \\cdot y^{-1} \\pmod{998244353}$, where $y^{-1}$ is the inverse element of $y$ modulo 998244353."}, {"prompt_md5": "65cfa5f6", "template_md5": "465699a0", "result": "You have a set of monsters, each with a strength value. You also have a set of shields, each with a durability and a defense rating.  You fight each monster once in a random order.  \n\nFor each shield, calculate the average damage you would take when fighting all the monsters."}]}