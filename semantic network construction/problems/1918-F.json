{"uid": "1918-F", "url": "https://codeforces.com/contest/1918/problem/F", "tags": ["dfs and similar", " graphs", " greedy", " implementation", " sortings", " trees"], "title": "1918-F", "statement": "F. Caterpillar on a Treetime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThe caterpillar decided to visit every node of the tree. Initially, it is sitting at the root.The tree is represented as a rooted tree with the root at the node $$$1$$$. Each crawl to a neighboring node takes $$$1$$$ minute for the caterpillar.And there is a trampoline under the tree. If the caterpillar detaches from the tree and falls onto the trampoline, it will end up at the root of the tree in $$$0$$$ seconds. But the trampoline is old and can withstand no more than $$$k$$$ caterpillar's falls.What is the minimum time the caterpillar can take to visit all the nodes of the tree?More formally, we need to find the minimum time required to visit all the nodes of the tree, if the caterpillar starts at the root (node $$$1$$$) and moves using two methods.Crawl along an edge to one of the neighboring nodes: takes $$$1$$$ minute.Teleport to the root: takes no time,  no new nodes become visited.The second method (teleportation) can be used at most $$$k$$$ times. The caterpillar can finish the journey at any node.InputThe first line of the input contains two integers: $$$n$$$ ($$$2 \\\\le n \\\\le 2\\\\cdot 10^5$$$) — the number of nodes in the tree, and $$$k$$$ ($$$0 \\\\le k \\\\le 10^9$$$) — the maximum number of teleports to the root.The second line contains $$$n-1$$$ integers $$$p_2$$$, $$$p_3$$$, ..., $$$p_n$$$ ($$$1 \\\\le p_i \\\\le n$$$) — the ancestors in the tree for nodes $$$2, 3, \\\\ldots, n$$$; node $$$1$$$ is the root.OutputPrint a single number in a single line — the minimum number of minutes required to visit all the nodes of the tree.ExamplesInput8 1 1 1 2 2 4 3 3Output9Input4 0 4 4 1Output4NoteThe figure shows one of the ways to traverse the tree from the first test in 9 minutes.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "0a7302fa", "template_md5": "35d339e4", "result": "You are given a tree with $n$ nodes, where node 1 is the root.  The caterpillar can move between nodes by crawling along an edge, which takes 1 minute.  It can also teleport back to the root node instantly, but it can only do this a maximum of $k$ times.\n\nWhat is the minimum amount of time it takes for the caterpillar to visit every node in the tree? \n\nThe tree is represented as follows:\n\n* The first line of input contains two integers: $n$ (the number of nodes) and $k$ (the maximum number of teleports).\n* The second line contains $n-1$ integers representing the parent node for each node from 2 to $n$. For example, if $p_3 = 2$, then node 3 is a child of node 2."}, {"prompt_md5": "71c50cd0", "template_md5": "465699a0", "result": "You have a tree with a certain number of nodes. You start at the root and need to visit every node. You can move to a neighboring node in 1 minute, or you can teleport back to the root instantly, but you can only teleport a limited number of times. What is the fastest way to visit all the nodes?"}]}