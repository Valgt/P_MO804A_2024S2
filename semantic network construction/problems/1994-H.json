{"uid": "1994-H", "url": "https://codeforces.com/contest/1994/problem/H", "tags": ["combinatorics", " constructive algorithms", " games", " greedy", " hashing", " interactive", " math", " number theory", " strings"], "title": "1994-H", "statement": "H. Fortnitetime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is an interactive problem!Timofey is writing a competition called Capture the Flag (or CTF for short). He has one task left, which involves hacking a security system. The entire system is based on polynomial hashes$$$^{\\\\text{∗}}$$$.Timofey can input a string consisting of lowercase Latin letters into the system, and the system will return its polynomial hash. To hack the system, Timofey needs to find the polynomial hash parameters ($$$p$$$ and $$$m$$$) that the system uses.Timofey doesn't have much time left, so he will only be able to make $$$3$$$ queries. Help him solve the task.$$$^{\\\\text{∗}}$$$ The polynomial hash of a string $$$s$$$, consisting of lowercase Latin letters of length $$$n$$$, based on $$$p$$$ and modulo $$$m$$$ is $$$(\\\\mathrm{ord}(s_1) \\\\cdot p ^ 0 + \\\\mathrm{ord}(s_2) \\\\cdot p ^ 1 + \\\\mathrm{ord}(s_3) \\\\cdot p ^ 2 + \\\\ldots + \\\\mathrm{ord}(s_n) \\\\cdot p ^ {n - 1}) \\\\bmod m$$$. Where $$$s_i$$$ denotes the $$$i$$$-th character of the string $$$s$$$, $$$\\\\mathrm{ord}(\\\\mathrm{chr})$$$ denotes the ordinal number of the character $$$\\\\mathrm{chr}$$$ in the English alphabet, and $$$x \\\\bmod m$$$ is the remainder of $$$x$$$ when divided by $$$m$$$.InputEach test consists of multiple test cases. The first line contains an integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 10^3$$$) — the number of test cases.It is guaranteed that the $$$p$$$ and $$$m$$$ used by the system satisfy the conditions: $$$26 < p \\\\leq 50$$$ and $$$p + 1 < m \\\\leq 2 \\\\cdot 10^9$$$.InteractionTo make a query to the system, output?$$$s$$$, where $$$s$$$ is a string ofno more than$$$50$$$ characters in length, the hash of which you want to know. In response to this query, you will receive the polynomial hash of the string $$$s$$$.To output the answer, output!$$$p$$$ $$$m$$$, where $$$p$$$ is the base of the hash, and $$$m$$$ is the modulus. After that, immediately proceed to the next test case.You have to make not more than $$$3$$$ queries?, otherwise you will get verdictWrong Answer.After outputting a query, do not forget to output a newline and flush the output buffer. Otherwise, you will receive the verdictIdleness limit exceeded. To flush the buffer, use:fflush(stdout)orcout.flush()in C++;System.out.flush()in Java;flush(output)in Pascal;stdout.flush()in Python;see the documentation for other languages.ExampleInput1  32  28Output? aa  ? yb  ! 31 59NoteAnswer for the first query is $$$(ord(a) \\\\cdot 31^0 + ord(a) \\\\cdot 31^1) \\\\mod 59 = (1 + 1 \\\\cdot 31) \\\\mod 59 = 32$$$.Answer for the second query is $$$(ord(y) \\\\cdot 31^0 + ord(b) \\\\cdot 31^1) \\\\mod 59 = (25 + 2 \\\\cdot 31) \\\\mod 59 = 28$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b1f30400", "template_md5": "35d339e4", "result": "You are given a system that calculates a polynomial hash for a given string. The system uses a base ($p$) and a modulus ($m$). You need to find the values of $p$ and $m$.\n\nYou are allowed to make a maximum of 3 queries to the system. Each query consists of you inputting a string, and the system will output the polynomial hash of that string.\n\nThe polynomial hash of a string $s$ is calculated as follows:\n\n$$(ord(s_1) \\cdot p^0 + ord(s_2) \\cdot p^1 + ord(s_3) \\cdot p^2 + ... + ord(s_n) \\cdot p^{n-1}) \\mod m$$\n\nwhere:\n\n* $s_i$ is the $i$-th character of the string $s$\n* $ord(chr)$ is the ordinal number of the character $chr$ in the English alphabet\n* $x \\mod m$ is the remainder of $x$ when divided by $m$\n\nTo output your answer, you need to output $p$ and $m$ separated by a space. \n\n\n\n**Constraints:**\n\n* $26 < p \\leq 50$\n* $p + 1 < m \\leq 2 \\cdot 10^9$"}, {"prompt_md5": "0c40b904", "template_md5": "465699a0", "result": "You need to find two numbers,  'p' and 'm', that are used to calculate a special code for a given string. You can ask for the code of up to 3 different strings."}]}