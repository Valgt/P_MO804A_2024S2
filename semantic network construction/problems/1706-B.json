{"uid": "1706-B", "url": "https://codeforces.com/contest/1706/problem/B", "tags": ["dp", " greedy", " math"], "title": "1706-B", "statement": "B. Making Towerstime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou have a sequence of $$$n$$$ colored blocks. The color of the $$$i$$$-th block is $$$c_i$$$, an integer between $$$1$$$ and $$$n$$$.You will place the blocks down in sequence on an infinite coordinate grid in the following way.Initially, you place block $$$1$$$ at $$$(0, 0)$$$.For $$$2 \\\\le i \\\\le n$$$, if the $$$(i - 1)$$$-th block is placed at position $$$(x, y)$$$, then the $$$i$$$-th block can be placed at one of positions $$$(x + 1, y)$$$, $$$(x - 1, y)$$$, $$$(x, y + 1)$$$ (but not at position $$$(x, y - 1)$$$), as long no previous block was placed at that position.Atoweris formed by $$$s$$$ blocks such that they are placed at positions $$$(x, y), (x, y + 1), \\\\ldots, (x, y + s - 1)$$$ for some position $$$(x, y)$$$ and integer $$$s$$$. Thesizeof the tower is $$$s$$$, the number of blocks in it. Atower of color $$$r$$$is a tower such that all blocks in it have the color $$$r$$$.For each color $$$r$$$ from $$$1$$$ to $$$n$$$, solve the following problemindependently:Find the maximum size of a tower of color $$$r$$$ that you can form by placing down the blocks according to the rules.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — the number of test cases.The first line of each test case contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 10^5$$$).The second line of each test case contains $$$n$$$ integers $$$c_1, c_2, \\\\ldots, c_n$$$ ($$$1 \\\\le c_i \\\\le n$$$).It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, output $$$n$$$ integers. The $$$r$$$-th of them should be the maximum size of an tower of color $$$r$$$ you can form by following the given rules. If you cannot form any tower of color $$$r$$$, the $$$r$$$-th integer should be $$$0$$$.ExampleInput671 2 3 1 2 3 164 2 2 2 4 41155 4 5 3 563 3 3 1 3 381 2 3 4 4 3 2 1Output3 2 2 0 0 0 0  0 3 0 2 0 0  1  0 0 1 1 1  1 0 4 0 0 0  2 2 2 2 0 0 0 0NoteIn the first test case, one of the possible ways to form a tower of color $$$1$$$ and size $$$3$$$ is:place block $$$1$$$ at position $$$(0, 0)$$$;place block $$$2$$$ to the right of block $$$1$$$, at position $$$(1, 0)$$$;place block $$$3$$$ above block $$$2$$$, at position $$$(1, 1)$$$;place block $$$4$$$ to the left of block $$$3$$$, at position $$$(0, 1)$$$;place block $$$5$$$ to the left of block $$$4$$$, at position $$$(-1, 1)$$$;place block $$$6$$$ above block $$$5$$$, at position $$$(-1, 2)$$$;place block $$$7$$$ to the right of block $$$6$$$, at position $$$(0, 2)$$$.The blocks at positions $$$(0, 0)$$$, $$$(0, 1)$$$, and $$$(0, 2)$$$ all have color $$$1$$$, forming an tower of size $$$3$$$.In the second test case, note that the following placement isnot valid, since you are not allowed to place block $$$6$$$ under block $$$5$$$:It can be shown that it is impossible to form a tower of color $$$4$$$ and size $$$3$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "77790bbf", "template_md5": "465699a0", "result": "You have a set of colored blocks. You must place them in a grid, following specific rules about where they can be placed.  For each color, find the largest possible group of blocks of that color that can be placed in a vertical line."}, {"prompt_md5": "4f036f41", "template_md5": "35d339e4", "result": "You are given a sequence of $n$ colored blocks. The $i$-th block has color $c_i$, where $1 \\le c_i \\le n$.\n\nYou place the blocks on a grid, starting with block 1 at position $(0,0)$.  Each subsequent block can be placed at $(x+1, y)$, $(x-1, y)$, or $(x, y+1)$, as long as that position is not already occupied by a previous block.\n\nA tower is a group of blocks that are placed in a vertical line. The size of a tower is the number of blocks in it.\n\nFor each color $r$ from 1 to $n$, find the maximum size of a tower that consists only of blocks of color $r$. If no tower of color $r$ can be formed, output 0. \n\n\n\nInput:\n\n* The first line contains the number of test cases, $t$.\n* For each test case:\n    * The first line contains the number of blocks, $n$.\n    * The second line contains the colors of the blocks, $c_1, c_2, ..., c_n$.\n\nOutput:\n\nFor each test case, output $n$ integers. The $r$-th integer is the maximum size of a tower of color $r$."}]}