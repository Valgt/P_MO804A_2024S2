{"uid": "1403-A", "url": "https://codeforces.com/contest/1403/problem/A", "tags": ["*special", " 2-sat", " binary search", " data structures", " graphs", " interactive", " sortings", " two pointers"], "title": "1403-A", "statement": "A. The Potion of Great Powertime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputOnce upon a time, in theLand of the Shamans, everyone lived on theSky-High Beanstalk. Each shaman had a unique identifying number $$$i$$$ between $$$0$$$ and $$$N-1$$$, and an altitude value $$$H_i$$$, representing how high he lived above ground level. The distance between two altitudes is the absolute value of their difference.All shamans lived together in peace, until one of them stole the formula of the world-famousPotion of Great Power. To cover his/her tracks, theThiefhas put aCurseon the land: most inhabitants could no longer trust each other...Despite the very difficult circumstances, theOrder of Good Investigatorshave gained the following information about theCurse:When theCursefirst takes effect, everyone stops trusting each other.TheCurseis unstable: at the end of each day (exactly at midnight), one pair of shamans will start or stop trusting each other.Unfortunately, each shaman will only ever trust at most $$$D$$$ others at any given time.They have also reconstructed a log of who trusted whom: for each night they know which pair of shamans started/stopped trusting each other.They believe theThiefhas whispered the formula to anEvil Shaman. To avoid detection, both of them visited the home of one of their (respective) trusted friends. During the visit, theThiefwhispered the formula to theEvil Shamanthrough the window. (Note: this trusted friend did not have to be home at the time. In fact, it's even possible that they visited each other's houses – shamans are weird.)Fortunately, whispers only travel short distances, so theOrderknows the two trusted friends visited (by theThiefand theEvil Shaman) must live very close to each other.They ask you to help with their investigation. They would like to test their suspicions: what if theThiefwas $$$x$$$, theEvil Shamanwas $$$y$$$, and the formula was whispered on day $$$v$$$? What is the smallest distance the whispered formula had to travel? That is, what is the minimum distance between the apartments of some shamans $$$x'$$$ and $$$y'$$$ (i.e. $$$\\\\min\\\\left(\\\\left|H_{x'} - H_{y'}\\\\right|\\\\right)$$$), such that $$$x'$$$ was a trusted friend of $$$x$$$ and $$$y'$$$ was a trusted friend of $$$y$$$ on day $$$v$$$?They will share all their information with you, then ask you a number of questions. You need to answer each question immediately, before receiving the next one.InteractionThe interaction will begin with a line containing $$$N$$$, $$$D$$$, $$$U$$$ and $$$Q$$$ $$$(2 \\\\leq N \\\\leq 100000$$$, $$$1 \\\\leq D \\\\leq 500$$$, $$$0 \\\\leq U \\\\leq 200000$$$, $$$1 \\\\leq Q \\\\leq 50000)$$$ – the number of shamans, the maximum number of trusted friends a shaman can have at any given point, the number of days, and the number of questions.On the next line $$$N$$$ space separated integers will follow, the $$$i$$$th $$$(1\\\\leq i \\\\leq N)$$$ of which being $$$H_{i-1}$$$ $$$(0\\\\leq H_{i-1} \\\\leq 10^9)$$$, the altitude of shaman $$$i-1$$$.On the next $$$U$$$ lines there will be two integers each, on the $$$i$$$th ($$$1 \\\\leq i \\\\leq U$$$) $$$A_i$$$ and $$$B_i$$$ $$$(0 \\\\leq A_i, B_i < N$$$ and $$$A_i \\\\neq B_i)$$$, which represents a pair of shamans who started or stopped trusting each other at the end of day $$$i-1$$$. That is, if $$$A_i$$$ and $$$B_i$$$ trusted each other on day $$$i-1$$$, they did not trust each other on day $$$i$$$, or vice versa. Read all of these integers.The interactor now will ask you $$$Q$$$ question, so the following interaction should happen $$$Q$$$ times:Read $$$3$$$ integers describing the current query: $$$x,y$$$ and $$$v$$$ ($$$x \\\\neq y$$$, $$$0 \\\\leq x,y < N$$$ and $$$0 \\\\leq v \\\\leq U$$$), where $$$x$$$ is the suspectedThief, $$$y$$$ is the suspectedEvil Shaman, and $$$v$$$ is the suspected day..Then print the answer to this query on a single line, i.e. you should print the minimum distance the whispered formula had to travel from some trusted friend $$$x'$$$ of $$$x$$$ to a trusted friend $$$y'$$$ of $$$y$$$.In case someone trusted both $$$x$$$ and $$$y$$$ (i.e. $$$x'=y'$$$), you should print $$$0$$$.If $$$x$$$ or $$$y$$$ had no trusted friends, print $$$10^9$$$.After printing each line do not forget to output end of line and flush the output. Otherwise, you will getIdleness limit exceeded. To do this, use:fflush(stdout)orcout.flush()in C++;System.out.flush()in Java;flush(output)in Pascal;stdout.flush()in Python;see documentation for other languages.Scoring$$$ \\\\begin{array}{|c|c|c|} \\\\hline \\\\text{Subtask} & \\\\text{Points} & \\\\text{Constraints} \\\\\\\\ \\\\hline 1 & 0 & \\\\text{samples}\\\\\\\\ \\\\hline 2 & 17 & Q,U \\\\leq 1000 \\\\\\\\ \\\\hline 3 & 14 & v=U \\\\: \\\\text{for all questions} \\\\\\\\ \\\\hline 4 & 18 & H_i \\\\in \\\\left\\\\{0,1\\\\right\\\\} \\\\: \\\\text{for all shamans} \\\\: i \\\\\\\\ \\\\hline 5 & 21 & U,N \\\\leq 10000\\\\\\\\ \\\\hline 6 & 30 & \\\\text{no additional constraints}\\\\\\\\ \\\\hline \\\\end{array} $$$ExampleInput6 5 11 4 2 42 1000 54 68 234 0 1 2 0 3 4 3 5 3 5 1 3 5 3 0 5 3 0 1 3 3 5 0 3 4 3 0 8 0 5 5 3 0 11Output26 0 1000000000 14NoteExample queries:Evolution of friendships:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8a9055be", "template_md5": "35d339e4", "result": "You are given a list of $N$ people, each with a unique ID from 0 to $N-1$ and a height $H_i$.  The distance between two people is the absolute difference of their heights.\n\nYou are also given a list of $U$ days, where each day represents a change in who trusts whom. For each day $i$, you are given two people $A_i$ and $B_i$ who either start or stop trusting each other.\n\nYou need to answer $Q$ queries. Each query consists of three numbers: $x$, $y$, and $v$.  \n\nFor each query, find the minimum distance between the apartments of two people:\n\n* One person is a trusted friend of person $x$ on day $v$.\n* The other person is a trusted friend of person $y$ on day $v$.\n\nIf person $x$ or $y$ had no trusted friends on day $v$, return $10^9$. If the same person was a trusted friend of both $x$ and $y$ on day $v$, return 0."}, {"prompt_md5": "480f3b54", "template_md5": "465699a0", "result": "You are given a list of people and their positions. Each day, a pair of people either start or stop being friends. You need to find the shortest distance between the homes of two people who were friends with the suspected thief and the suspected evil person on a given day."}]}