{"uid": "850-E", "url": "https://codeforces.com/contest/850/problem/E", "tags": ["bitmasks", " brute force", " divide and conquer", " fft", " math"], "title": "850-E", "statement": "E. Random Electionstime limit per test2 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputThe presidential election is coming in Bearland next year! Everybody is so excited about this!So far, there are three candidates, Alice, Bob, and Charlie.There arencitizens in Bearland. The election result will determine the life of all citizens of Bearland for many years. Because of this great responsibility, each ofncitizens will choose one of six orders of preference between Alice, Bob and Charlie uniformly at random, independently from other voters.The government of Bearland has devised a function to help determine the outcome of the election given the voters preferences. More specifically, the function is(takesnboolean numbers and returns a boolean number). The function also obeys the following property:f(1 -x1, 1 -x2, ..., 1 -xn) = 1 -f(x1,x2, ...,xn).Three rounds will be run between each pair of candidates: Alice and Bob, Bob and Charlie, Charlie and Alice. In each round,xiwill be equal to1, ifi-th citizen prefers the first candidate to second in this round, and0otherwise. After this,y=f(x1,x2, ...,xn)will be calculated. Ify= 1, the first candidate will be declared as winner in this round. Ify= 0, the second will be the winner, respectively.Define the probability that there is a candidate who won two rounds asp.p·6nis always an integer. Print the value of this integer modulo109+ 7 = 1 000 000 007.InputThe first line contains one integern(1 ≤n≤ 20).The next line contains a string of length2nof zeros and ones, representing functionf. Letbk(x)thek-th bit in binary representation ofx,i-th (0-based) digit of this string shows the return value off(b1(i),b2(i), ...,bn(i)).It is guaranteed thatf(1 -x1, 1 -x2, ..., 1 -xn) = 1 -f(x1,x2, ...,xn)for any values ofx1,x2,ldots,xn.OutputOutput one integer — answer to the problem.ExamplesInput301010101Output216Input301101001Output168NoteIn first sample, result is always fully determined by the first voter. In other words,f(x1,x2,x3) =x1. Thus, any no matter what happens, there will be a candidate who won two rounds (more specifically, the candidate who is at the top of voter 1's preference list), sop= 1, and we print1·63= 216.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7dfa22ae", "template_md5": "35d339e4", "result": "There are $n$ voters and 3 candidates. Each voter has a preference order for the 3 candidates (e.g., A > B > C).  \n\nA function $f$ takes a list of $n$ boolean values as input. Each boolean value represents whether the corresponding voter prefers the first candidate in a given round. The function returns a boolean value: 1 if the first candidate wins the round, 0 if the second candidate wins.\n\nThe function has the following property:\n\n$f(1-x_1, 1-x_2, ..., 1-x_n) = 1 - f(x_1, x_2, ..., x_n)$\n\nThere are three rounds:\n\n* Round 1: Candidate A vs. Candidate B\n* Round 2: Candidate B vs. Candidate C\n* Round 3: Candidate C vs. Candidate A\n\nCalculate the probability that at least one candidate wins two rounds.  \n\nThe output should be the probability modulo $10^9 + 7$. \n\n\n\nThe input will be:\n\n* The first line contains the number of voters, $n$.\n* The second line contains a binary string of length $2^n$. Each bit in the string represents the output of the function $f$ for a specific combination of input boolean values."}, {"prompt_md5": "a66f671b", "template_md5": "465699a0", "result": "There are 3 candidates.  Each of 'n' voters ranks the candidates in a specific order.  A function determines the winner of each round based on the voters' rankings.  The function has a special property: flipping all the voters' rankings flips the winner of the round.\n\nFind the probability that at least one candidate wins two out of three rounds."}]}