{"uid": "272-D", "url": "https://codeforces.com/contest/272/problem/D", "tags": ["combinatorics", " math", " sortings"], "title": "272-D", "statement": "D. Dima and Two Sequencestime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutLittle Dima has two sequences of points with integer coordinates: sequence(a1, 1), (a2, 2), ..., (an,n)and sequence(b1, 1), (b2, 2), ..., (bn,n).Now Dima wants to count the number of distinct sequences of points of length2·nthat can be assembled from these sequences, such that thex-coordinates of points in the assembled sequence willnot decrease. Help him with that. Note that each element of the initial sequences should be used exactly once in the assembled sequence.Dima considers two assembled sequences(p1,q1), (p2,q2), ..., (p2·n,q2·n)and(x1,y1), (x2,y2), ..., (x2·n,y2·n)distinct, if there is suchi(1 ≤i≤ 2·n), that(pi,qi) ≠ (xi,yi).As the answer can be rather large, print the remainder from dividing the answer by numberm.InputThe first line contains integern(1 ≤n≤ 105). The second line containsnintegersa1,a2, ...,an(1 ≤ai≤ 109). The third line containsnintegersb1,b2, ...,bn(1 ≤bi≤ 109). The numbers in the lines are separated by spaces.The last line contains integerm(2 ≤m≤ 109+ 7).OutputIn the single line print the remainder after dividing the answer to the problem by numberm.ExamplesInput1127Output1Input21 22 311Output2NoteIn the first sample you can get only one sequence:(1, 1), (2, 1).In the second sample you can get such sequences :(1, 1), (2, 2), (2, 1), (3, 2);(1, 1), (2, 1), (2, 2), (3, 2). Thus, the answer is2.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "35d1ff67", "template_md5": "35d339e4", "result": "You are given two sequences of points:\n\n* Sequence 1: $(a_1, 1), (a_2, 2), ..., (a_n, n)$\n* Sequence 2: $(b_1, 1), (b_2, 2), ..., (b_n, n)$\n\nYou need to find the number of unique sequences of length $2n$ that can be formed by combining points from both sequences, where the x-coordinates of the points in the combined sequence are non-decreasing.  Each point from both original sequences must be used exactly once in the combined sequence.\n\nThe answer may be large, so output the remainder when the answer is divided by a given number $m$."}, {"prompt_md5": "5ccb7f63", "template_md5": "465699a0", "result": "You have two lists of pairs of numbers.  You need to find how many ways you can combine the pairs from both lists into a single list of pairs, where the numbers in the first position of each pair in the combined list are in non-decreasing order.  The order of the pairs within each list doesn't matter.  The answer should be the remainder when the total number of combinations is divided by a given number."}]}