{"uid": "367-B", "url": "https://codeforces.com/contest/367/problem/B", "tags": ["binary search", " data structures"], "title": "367-B", "statement": "B. Sereja ans Anagramstime limit per test1 secondmemory limit per test256 megabytesinputstdinoutputstdoutSereja has two sequencesaandband numberp. Sequenceaconsists ofnintegersa1,a2, ...,an. Similarly, sequencebconsists ofmintegersb1,b2, ...,bm. As usual, Sereja studies the sequences he has. Today he wants to find the number of positionsq(q+ (m- 1)·p≤n;q≥ 1), such that sequencebcan be obtained from sequenceaq,aq+p,aq+ 2p, ...,aq+ (m- 1)pby rearranging elements.Sereja needs to rush to the gym, so he asked to find all the described positions ofq.InputThe first line contains three integersn,mandp(1 ≤n,m≤ 2·105, 1 ≤p≤ 2·105). The next line containsnintegersa1,a2,...,an(1 ≤ai≤ 109). The next line containsmintegersb1,b2,...,bm(1 ≤bi≤ 109).OutputIn the first line print the number of validqs. In the second line, print the valid values in the increasing order.ExamplesInput5 3 11 2 3 2 11 2 3Output21 3Input6 3 21 3 2 2 3 11 2 3Output21 2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "eafbb33c", "template_md5": "35d339e4", "result": "You are given two sequences of integers,  $a$ of length $n$ and $b$ of length $m$.  You are also given an integer $p$.\n\nFind the number of positions $q$ ($q + (m-1)p \\le n$ and $q \\ge 1$) such that sequence $b$ can be obtained from the subsequence of $a$ starting at index $q$ and with a step size of $p$ by rearranging the elements.\n\nOutput the number of valid $q$ values, followed by the list of valid $q$ values in increasing order."}, {"prompt_md5": "ca3f48da", "template_md5": "465699a0", "result": "You are given two sequences of numbers and a value p.  Find how many times you can take a sub-sequence of length m from the first sequence, starting at position q, and rearrange it to match the second sequence.  The sub-sequence must be spaced apart by p positions."}]}