{"uid": "1580-D", "url": "https://codeforces.com/contest/1580/problem/D", "tags": ["brute force", " divide and conquer", " dp", " greedy", " trees"], "title": "1580-D", "statement": "D. Subsequencetime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputAlice has an integer sequence $$$a$$$ of length $$$n$$$ andall elements are different. She will choose a subsequence of $$$a$$$ of length $$$m$$$, and defines the value of a subsequence $$$a_{b_1},a_{b_2},\\\\ldots,a_{b_m}$$$ as $$$$$$\\\\sum_{i = 1}^m (m \\\\cdot a_{b_i}) - \\\\sum_{i = 1}^m \\\\sum_{j = 1}^m f(\\\\min(b_i, b_j), \\\\max(b_i, b_j)),$$$$$$ where $$$f(i, j)$$$ denotes $$$\\\\min(a_i, a_{i + 1}, \\\\ldots, a_j)$$$.Alice wants you to help her to maximize the value of the subsequence she choose.A sequence $$$s$$$ is a subsequence of a sequence $$$t$$$ if $$$s$$$ can be obtained from $$$t$$$ by deletion of several (possibly, zero or all) elements.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le m \\\\le n \\\\le 4000$$$).The second line contains $$$n$$$ distinct integers $$$a_1, a_2, \\\\ldots, a_n$$$ ($$$1 \\\\le a_i < 2^{31}$$$).OutputPrint the maximal value Alice can get.ExamplesInput6 4 15 2 18 12 13 4Output100Input11 5 9 3 7 1 8 12 10 20 15 18 5Output176Input1 1 114514Output0Input2 1 666 888Output0NoteIn the first example, Alice can choose the subsequence $$$[15, 2, 18, 13]$$$, which has the value $$$4 \\\\cdot (15 + 2 + 18 + 13) - (15 + 2 + 2 + 2) - (2 + 2 + 2 + 2) - (2 + 2 + 18 + 12) - (2 + 2 + 12 + 13) = 100$$$. In the second example, there are a variety of subsequences with value $$$176$$$, and one of them is $$$[9, 7, 12, 20, 18]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a245ac87", "template_md5": "35d339e4", "result": "You are given a sequence of $n$ distinct integers $a_1, a_2, ..., a_n$.  You need to choose a subsequence of length $m$ from this sequence. The value of a subsequence $a_{b_1}, a_{b_2}, ..., a_{b_m}$ is defined as:\n\n$$ \\sum_{i = 1}^m (m \\cdot a_{b_i}) - \\sum_{i = 1}^m \\sum_{j = 1}^m f(\\min(b_i, b_j), \\max(b_i, b_j))$$\n\nwhere $f(i, j)$ is the minimum value among $a_i, a_{i+1}, ..., a_j$.\n\nFind the maximum possible value of the subsequence.\n\nInput:\n\n* The first line contains two integers $n$ and $m$ ($1 \\le m \\le n \\le 4000$).\n* The second line contains $n$ distinct integers $a_1, a_2, ..., a_n$ ($1 \\le a_i < 2^{31}$).\n\nOutput:\n\nPrint the maximum value that can be obtained."}, {"prompt_md5": "da2e6cf3", "template_md5": "465699a0", "result": "Given a list of distinct numbers, find the largest possible sum you can get by:\n\n1. Choosing a sublist of a specific length.\n2. Multiplying each number in the sublist by the sublist's length.\n3. Subtracting the minimum values of all pairs of numbers in the sublist."}]}