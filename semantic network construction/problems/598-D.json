{"uid": "598-D", "url": "https://codeforces.com/contest/598/problem/D", "tags": ["dfs and similar", " graphs", " shortest paths"], "title": "598-D", "statement": "D. Igor In the Museumtime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputIgor is in the museum and he wants to see as many pictures as possible.Museum can be represented as a rectangular field ofn×mcells. Each cell is either empty or impassable. Empty cells are marked with '.', impassable cells are marked with '*'. Every two adjacent cells of different types (one empty and one impassable) are divided by a wall containing one picture.At the beginning Igor is in some empty cell. At every moment he can move to any empty cell that share a side with the current one.For several starting positions you should calculate the maximum number of pictures that Igor can see. Igor is able to see the picture only if he is in the cell adjacent to the wall with this picture. Igor have a lot of time, so he will examine every picture he can see.InputFirst line of the input contains three integersn,mandk(3 ≤n,m≤ 1000, 1 ≤k≤min(n·m, 100 000)) — the museum dimensions and the number of starting positions to process.Each of the nextnlines containsmsymbols '.', '*' — the description of the museum. It is guaranteed that all border cells are impassable, so Igor can't go out from the museum.Each of the lastklines contains two integersxandy(1 ≤x≤n, 1 ≤y≤m) — the row and the column of one of Igor's starting positions respectively. Rows are numbered from top to bottom, columns — from left to right. It is guaranteed that all starting positions are empty cells.OutputPrintkintegers — the maximum number of pictures, that Igor can see if he starts in corresponding position.ExamplesInput5 6 3*******..*.********....*******2 22 54 3Output6410Input4 4 1*****..**.******3 2Output8", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2a18baf5", "template_md5": "35d339e4", "result": "You are given a rectangular grid of size $n \\times m$. The grid contains '.' representing empty cells and '*' representing impassable cells.  Walls separate adjacent empty and impassable cells, and each wall contains a picture.\n\nYou start at a given empty cell. You can move to any adjacent empty cell.  \n\nFor each starting position, determine the maximum number of pictures you can see. You can only see a picture if you are in a cell next to the wall containing it. \n\n\nInput:\n\n* The first line contains three integers: $n$, $m$, and $k$ ($3 \\le n, m \\le 1000$, $1 \\le k \\le \\min(n \\cdot m, 100000)$). These represent the grid dimensions and the number of starting positions.\n* The next $n$ lines each contain $m$ characters ('.' or '*') representing the grid.\n* The last $k$ lines each contain two integers $x$ and $y$ ($1 \\le x \\le n$, $1 \\le y \\le m$), representing the row and column of a starting position.\n\nOutput:\n\n* Print $k$ integers, where each integer represents the maximum number of pictures that can be seen from the corresponding starting position."}, {"prompt_md5": "a1e84c5e", "template_md5": "465699a0", "result": "You are given a grid of cells, some empty and some blocked.  You start in an empty cell and can move to any adjacent empty cell.  Each time you are next to a blocked cell, you see a picture.  Find the maximum number of pictures you can see starting from each given position."}]}