{"uid": "1819-C", "url": "https://codeforces.com/contest/1819/problem/C", "tags": ["constructive algorithms", " dp", " implementation", " math", " trees"], "title": "1819-C", "statement": "C. The Fox and the Complete Tree Traversaltime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputThe fox Yae climbed thetreeof the Sacred Sakura. A tree is a connected undirected graph that does not contain cycles.The fox uses her magical powers to move around the tree. Yae can jump from vertex $$$v$$$ to another vertex $$$u$$$ if and only if the distance between these vertices does not exceed $$$2$$$. In other words, in one jump Yae can jump from vertex $$$v$$$ to vertex $$$u$$$ if vertices $$$v$$$ and $$$u$$$ are connected by an edge, or if there exists such vertex $$$w$$$ that vertices $$$v$$$ and $$$w$$$ are connected by an edge, and also vertices $$$u$$$ and $$$w$$$ are connected by an edge.After Yae was able to get the sakura petal, she wondered if there was acyclicroute in the tree $$$v_1, v_2, \\\\ldots, v_n$$$ such that:the fox can jump from vertex $$$v_i$$$ to vertex $$$v_{i + 1}$$$,the fox can jump from vertex $$$v_n$$$ to vertex $$$v_1$$$,all $$$v_i$$$ are pairwise distinct.Help the fox determine if the required traversal exists.InputThe first line contains one integer $$$n$$$ ($$$2 \\\\le n \\\\le 2 \\\\cdot 10^5$$$) —the number of vertices of the tree.Each of the following $$$n - 1$$$ lines contains two integers $$$u$$$ and $$$v$$$ ($$$1 \\\\le u, v \\\\le n$$$, $$$u \\\\ne v$$$) — vertices connected by an edge. It is guaranteed that these edges form a tree.OutputOn the first line, print \"Yes\" (without quotes) if the required route of the tree exists, or \"No\" (without quotes) otherwise.If the required tree traversal exists, on the second line print $$$n$$$ integers of different integers $$$v_1, v_2, \\\\ldots, v_n$$$ ($$$1 \\\\le v_i \\\\le n$$$) — the vertices of the tree in traversal order.If there are several correct traversals, output any of them.ExamplesInput5 1 2 1 3 3 4 3 5OutputYes 4 5 1 2 3Input3 1 2 1 3OutputYes 1 2 3Input15 1 2 1 3 2 4 2 5 3 6 3 7 4 8 4 9 5 10 5 11 6 12 6 13 7 14 7 15OutputNoNoteThe tree from the first example is shown below. The bold arrows indicate the fox's route.In the second example, any sequence of three different vertices is a correct route, because the fox can jump from any vertex to any vertex.The tree from the third example is shown below. It can be shown that there is no required route for it.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "bb5b09a8", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices ($2 \\le n \\le 2 \\cdot 10^5$).  The tree is represented by $n-1$ edges, where each edge connects two distinct vertices.\n\nA path in the tree is called \"valid\" if:\n\n* You can move from vertex $v_i$ to vertex $v_{i+1}$ in one jump.\n* You can jump between vertices if they are directly connected by an edge, or if there is a third vertex $w$ that connects both $v_i$ and $v_{i+1}$.\n* The path visits all $n$ vertices exactly once.\n* The path forms a cycle (it starts and ends at the same vertex).\n\nDetermine if a valid path exists in the tree. If it does, output the vertices of the path."}, {"prompt_md5": "b27a8615", "template_md5": "465699a0", "result": "Given a tree with a certain number of nodes, determine if there exists a path that visits every node exactly once and returns to the starting node, where each step can be a direct connection or a two-step jump (connecting through a third node). If such a path exists, output it."}]}