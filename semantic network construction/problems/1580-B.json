{"uid": "1580-B", "url": "https://codeforces.com/contest/1580/problem/B", "tags": ["brute force", " combinatorics", " dp", " trees"], "title": "1580-B", "statement": "B. Mathematics Curriculumtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLet $$$c_1, c_2, \\\\ldots, c_n$$$ be a permutation of integers $$$1, 2, \\\\ldots, n$$$. Consider all subsegments of this permutation containing an integer $$$x$$$. Given an integer $$$m$$$, we call the integer $$$x$$$goodif there are exactly $$$m$$$ different values of maximum on these subsegments.Cirno is studying mathematics, and the teacher asks her to count the number of permutations of length $$$n$$$ with exactly $$$k$$$goodnumbers.Unfortunately, Cirno isn't good at mathematics, and she can't answer this question. Therefore, she asks you for help.Since the answer may be very big, you only need to tell her the number of permutations modulo $$$p$$$.A permutation is an array consisting of $$$n$$$ distinct integers from $$$1$$$ to $$$n$$$ in arbitrary order. For example, $$$[2,3,1,5,4]$$$ is a permutation, but $$$[1,2,2]$$$ is not a permutation ($$$2$$$ appears twice in the array) and $$$[1,3,4]$$$ is also not a permutation ($$$n=3$$$ but there is $$$4$$$ in the array).A sequence $$$a$$$ is a subsegment of a sequence $$$b$$$ if $$$a$$$ can be obtained from $$$b$$$ by deletion of several (possibly, zero or all) elements from the beginning and several (possibly, zero or all) elements from the end.InputThe first line contains four integers $$$n, m, k, p$$$ ($$$1 \\\\le n \\\\le 100, 1 \\\\le m \\\\le n, 1 \\\\le k \\\\le n, 1 \\\\le p \\\\le 10^9$$$).OutputOutput the number of permutations modulo $$$p$$$.ExamplesInput4 3 2 10007Output4Input6 4 1 769626776Output472Input66 11 9 786747482Output206331312Input99 30 18 650457567Output77365367NoteIn the first test case, there are four permutations: $$$[1, 3, 2, 4]$$$, $$$[2, 3, 1, 4]$$$, $$$[4, 1, 3, 2]$$$ and $$$[4, 2, 3, 1]$$$.Take permutation $$$[1, 3, 2, 4]$$$ as an example:For number $$$1$$$, all subsegments containing it are: $$$[1]$$$, $$$[1, 3]$$$, $$$[1, 3, 2]$$$ and $$$[1, 3, 2, 4]$$$, and there're three different maxima $$$1$$$, $$$3$$$ and $$$4$$$.Similarly, for number $$$3$$$, there're two different maxima $$$3$$$ and $$$4$$$. For number $$$2$$$, there're three different maxima $$$2$$$, $$$3$$$ and $$$4$$$. And for number $$$4$$$, there're only one, that is $$$4$$$ itself.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e54e84ac", "template_md5": "35d339e4", "result": "You are given an array of $n$ distinct integers from 1 to $n$.  \n\nA \"good\" number in the array is a number that, when considering all subsegments of the array containing it, has exactly $m$ different maximum values.\n\nFind the number of permutations of length $n$ with exactly $k$ good numbers, modulo $p$."}, {"prompt_md5": "582bc095", "template_md5": "465699a0", "result": "You are given a sequence of numbers.  Find the number of ways to arrange these numbers so that a specific number of numbers in the sequence have a certain number of unique maximum values within all their possible sub-sequences.  The answer should be given modulo a given number."}]}