{"uid": "1400-G", "url": "https://codeforces.com/contest/1400/problem/G", "tags": ["bitmasks", " brute force", " combinatorics", " dp", " dsu", " math", " two pointers"], "title": "1400-G", "statement": "G. Mercenariestime limit per test7 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputPolycarp plays a (yet another!) strategic computer game. In this game, he leads an army of mercenaries.Polycarp wants to gather his army for a quest. There are $$$n$$$ mercenaries for hire, and the army should consist of some subset of them.The $$$i$$$-th mercenary can be chosen if theresultingnumber of chosen mercenaries is not less than $$$l_i$$$ (otherwise he deems the quest to be doomed) and not greater than $$$r_i$$$ (he doesn't want to share the trophies with too many other mercenaries). Furthermore, $$$m$$$ pairs of mercenaries hate each other and cannot be chosen for the same quest.How manynon-emptysubsets does Polycarp need to consider? In other words, calculate the number of non-empty subsets of mercenaries such that the size of this subset belongs to $$$[l_i, r_i]$$$ for each chosen mercenary, and there are no two mercenaries in the subset that hate each other.The answer may be large, so calculate it modulo $$$998244353$$$.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n \\\\le 3 \\\\cdot 10^5$$$, $$$0 \\\\le m \\\\le \\\\min(20, \\\\dfrac{n(n-1)}{2})$$$) — the number of mercenaries and the number of pairs of mercenaries that hate each other.Then $$$n$$$ lines follow, the $$$i$$$-th of them contains two integers $$$l_i$$$ and $$$r_i$$$ ($$$1 \\\\le l_i \\\\le r_i \\\\le n$$$).Then $$$m$$$ lines follow, the $$$i$$$-th of them contains two integers $$$a_i$$$ and $$$b_i$$$ ($$$1 \\\\le a_i < b_i \\\\le n$$$) denoting that the mercenaries $$$a_i$$$ and $$$b_i$$$ hate each other. There are no two equal pairs in this list.OutputPrint one integer — the number of non-empty subsets meeting the constraints, taken modulo $$$998244353$$$.ExamplesInput3 0 1 1 2 3 1 3Output3Input3 1 1 1 2 3 1 3 2 3Output2", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a2132717", "template_md5": "35d339e4", "result": "There are $n$ people who can be hired for a job. Each person has a minimum ($l_i$) and maximum ($r_i$) number of people they want to work with.  There are also $m$ pairs of people who hate each other and cannot work together.\n\nHow many groups of people can be hired that meet the following conditions:\n\n* Each person in the group wants to work with a number of people between their minimum and maximum.\n* No two people in the group hate each other.\n\n\nThe answer may be very large, so calculate it modulo 998244353."}, {"prompt_md5": "c75a4563", "template_md5": "465699a0", "result": "You have a group of people. Each person has a minimum and maximum number of people they want to be in a group with. Some pairs of people hate each other and cannot be in a group together.  Find the number of possible groups that satisfy these conditions."}]}