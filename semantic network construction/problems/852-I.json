{"uid": "852-I", "url": "https://codeforces.com/contest/852/problem/I", "tags": ["brute force", " dfs and similar", " graphs", " trees"], "title": "852-I", "statement": "I. Datingtime limit per test2 secondsmemory limit per test64 megabytesinputstandard inputoutputstandard outputThis story is happening in a town named BubbleLand. There arenhouses in BubbleLand. In each of thesenhouses lives a boy or a girl. People there really love numbers and everyone has their favorite numberf. That means that the boy or girl that lives in thei-th house has favorite number equal tofi.The houses are numerated with numbers1ton.The houses are connected withn- 1bidirectional roads and you can travel from any house to any other house in the town. There is exactly one path between every pair of houses.A new dating had agency opened their offices in this mysterious town and the citizens were very excited. They immediately sentqquestions to the agency and each question was of the following format:ab— asking how many ways are there to choose a couple (boy and girl) that have the same favorite number and live in one of the houses on the unique path from houseato houseb.Help the dating agency to answer the questions and grow their business.InputThe first line contains an integern(1 ≤n≤ 105), the number of houses in the town.The second line containsnintegers, where thei-th number is1if a boy lives in thei-th house or0if a girl lives ini-th house.The third line containsnintegers, where thei-th number represents the favorite numberfi(1 ≤fi≤ 109) of the girl or boy that lives in thei-th house.The nextn- 1lines contain information about the roads and thei-th line contains two integersaiandbi(1 ≤ai,bi≤n) which means that there exists road between those two houses. It is guaranteed that it's possible to reach any house from any other.The following line contains an integerq(1 ≤q≤ 105), the number of queries.Each of the followingqlines represents a question and consists of two integersaandb(1 ≤a,b≤n).OutputFor each of theqquestions output a single number, the answer to the citizens question.ExampleInput71 0 0 1 0 1 09 2 9 2 2 9 92 61 24 26 53 67 421 37 5Output23NoteIn the first question from house1to house3, the potential couples are(1, 3)and(6, 3).In the second question from house7to house5, the potential couples are(7, 6),(4, 2)and(4, 5).", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "01eafe77", "template_md5": "35d339e4", "result": "There are $n$ houses, each inhabited by either a boy or a girl. Each person has a favorite number.  There are $n-1$ roads connecting the houses, forming a single path between any two houses.\n\nYou are given:\n\n* $n$: the number of houses\n* A list of 0s and 1s indicating whether each house is occupied by a boy (1) or a girl (0)\n* A list of $n$ integers representing the favorite number of each person\n* A list of $n-1$ pairs of integers representing the connections between houses\n\nYou need to answer $q$ queries, each consisting of two integers $a$ and $b$. For each query, determine the number of ways to choose a couple (one boy and one girl) who have the same favorite number and live on the path between house $a$ and house $b$."}, {"prompt_md5": "96d0fc91", "template_md5": "465699a0", "result": "You are given a list of houses, each with a resident (boy or girl) and a favorite number.  There are roads connecting the houses, forming a network where you can reach any house from any other.  You need to answer queries asking for the number of couples (boy and girl) with the same favorite number who live on the path between two given houses."}]}