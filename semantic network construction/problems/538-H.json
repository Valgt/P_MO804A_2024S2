{"uid": "538-H", "url": "https://codeforces.com/contest/538/problem/H", "tags": ["2-sat", " data structures", " dfs and similar", " greedy"], "title": "538-H", "statement": "H. Summer Dichotomytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputTstudents applied into the ZPP class of Summer Irrelevant School. The organizing committee of the school may enroll any number of them, but at leasttstudents must be enrolled. The enrolled students should be divided into two groups in any manner (it is possible that one of the groups will be empty!)During a shift the students from the ZPP grade are tutored bynteachers. Due to the nature of the educational process, each of the teachers should be assigned to exactly one of two groups (it is possible that no teacher will be assigned to some of the groups!). Thei-th teacher is willing to work in a group as long as the group will have at leastliand at mostristudents (otherwise it would be either too boring or too hard). Besides, some pairs of the teachers don't like each other other and therefore can not work in the same group; in total there arempairs of conflicting teachers.You, as the head teacher of Summer Irrelevant School, have got a difficult task: to determine how many students to enroll in each of the groups and in which group each teacher will teach.InputThe first line contains two space-separated integers,tandT(1 ≤t≤T≤ 109).The second line contains two space-separated integersnandm(1 ≤n≤ 105,0 ≤m≤ 105).Thei-th of the nextnlines contain integersliandri(0 ≤li≤ri≤ 109).The nextmlines describe the pairs of conflicting teachers. Each of these lines contain two space-separated integers — the indices of teachers in the pair. The teachers are indexed starting from one. It is guaranteed that no teacher has a conflict with himself and no pair of conflicting teachers occurs in the list more than once.OutputIf the distribution is possible, print in the first line a single word 'POSSIBLE' (without the quotes). In the second line print two space-separated integersn1andn2— the number of students in the first and second group, correspondingly, the contstraintt≤n1+n2≤Tshould be met. In the third line printncharacters, thei-th of which should be 1 or 2, if thei-th teacher should be assigned to the first or second group, correspondingly. If there are multiple possible distributions of students and teachers in groups, you can print any of them.If the sought distribution doesn't exist, print a single word 'IMPOSSIBLE' (without the quotes).ExamplesInput10 203 03 64 916 25OutputPOSSIBLE4 16112Input1 103 30 100 100 101 21 32 3OutputIMPOSSIBLE", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b6ea2b05", "template_md5": "35d339e4", "result": "There are $T$ students applying to a school. At least $t$ students must be enrolled.  \n\nThe school has $n$ teachers. Each teacher has a minimum ($l_i$) and maximum ($r_i$) number of students they are willing to teach.  \n\nSome pairs of teachers ($m$ pairs total) cannot work together.\n\nThe goal is to:\n\n1. Decide how many students to enroll in each of the two groups ($n_1$ and $n_2$).\n2. Assign each teacher to one of the groups, ensuring:\n    * Each teacher is assigned to a group with a student count within their desired range ($l_i$ to $r_i$).\n    * No conflicting teachers are in the same group.\n\nIf a valid solution exists, output \"POSSIBLE\" followed by $n_1$, $n_2$, and a string indicating the group assignment for each teacher (1 for group 1, 2 for group 2). If no solution exists, output \"IMPOSSIBLE\"."}, {"prompt_md5": "da62291f", "template_md5": "465699a0", "result": "You need to divide a group of students into two groups and assign teachers to each group.  \n\n* There are at least 't' students that must be enrolled.\n* Each teacher has a minimum and maximum number of students they are willing to teach.\n* Some teachers cannot be in the same group.\n\nDetermine if it's possible to divide the students and assign teachers according to these rules. If possible, output the number of students in each group and the group assignment for each teacher. If not possible, output \"IMPOSSIBLE\"."}]}