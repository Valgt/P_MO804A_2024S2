{"uid": "1220-E", "url": "https://codeforces.com/contest/1220/problem/E", "tags": ["dfs and similar", " dp", " dsu", " graphs", " greedy", " trees"], "title": "1220-E", "statement": "E. Tourismtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAlex decided to go on a touristic trip over the country.For simplicity let's assume that the country has $$$n$$$ cities and $$$m$$$ bidirectional roads connecting them. Alex lives in city $$$s$$$ and initially located in it. To compare different cities Alex assigned each city a score $$$w_i$$$ which is as high as interesting city seems to Alex.Alex believes that his trip will be interesting only if he will not use any road twice in a row. That is if Alex came to city $$$v$$$ from city $$$u$$$, he may choose as the next city in the trip any city connected with $$$v$$$ by the road, except for the city $$$u$$$.Your task is to help Alex plan his city in a way that maximizes total score over all cities he visited. Note that for each city its score is counted at most once, even if Alex been there several times during his trip.InputFirst line of input contains two integers $$$n$$$ and $$$m$$$, ($$$1 \\\\le n \\\\le 2 \\\\cdot 10^5$$$, $$$0 \\\\le m \\\\le 2 \\\\cdot 10^5$$$) which are numbers of cities and roads in the country.Second line contains $$$n$$$ integers $$$w_1, w_2, \\\\ldots, w_n$$$ ($$$0 \\\\le w_i \\\\le 10^9$$$) which are scores of all cities.The following $$$m$$$ lines contain description of the roads. Each of these $$$m$$$ lines contains two integers $$$u$$$ and $$$v$$$ ($$$1 \\\\le u, v \\\\le n$$$) which are cities connected by this road.It is guaranteed that there is at most one direct road between any two cities, no city is connected to itself by the road and, finally, it is possible to go from any city to any other one using only roads.The last line contains single integer $$$s$$$ ($$$1 \\\\le s \\\\le n$$$), which is the number of the initial city.OutputOutput single integer which is the maximum possible sum of scores of visited cities.ExamplesInput5 7 2 2 8 6 9 1 2 1 3 2 4 3 2 4 5 2 5 1 5 2Output27Input10 12 1 7 1 9 3 3 6 30 1 10 1 2 1 3 3 5 5 7 2 3 5 4 6 9 4 6 3 7 6 8 9 4 9 10 6Output61", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "021064b2", "template_md5": "35d339e4", "result": "There are $n$ cities and $m$ roads connecting them. Each city has a score $w_i$.  You start in city $s$. You want to travel between cities, but you cannot use the same road twice in a row.  Find the maximum total score of all the cities you visit.\n\n**Input:**\n\n* Line 1: Two integers $n$ and $m$ ($1 \\le n \\le 2 \\cdot 10^5$, $0 \\le m \\le 2 \\cdot 10^5$)\n* Line 2: $n$ integers $w_1, w_2, ..., w_n$ ($0 \\le w_i \\le 10^9$)\n* The next $m$ lines: Each line contains two integers $u$ and $v$ ($1 \\le u, v \\le n$) representing a road between cities $u$ and $v$.\n* Line $m+3$: An integer $s$ ($1 \\le s \\le n$) representing the starting city.\n\n**Output:**\n\n* A single integer representing the maximum possible sum of scores of visited cities."}, {"prompt_md5": "03e71afe", "template_md5": "465699a0", "result": "You are given a map with cities connected by roads. Each city has a score. You need to find the longest path you can take through the cities, visiting each city only once, and where you cannot travel back to a city immediately after visiting it. The total score of the path is the sum of the scores of all the cities visited. What is the highest possible total score?"}]}