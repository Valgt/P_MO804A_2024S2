{"uid": "1673-F", "url": "https://codeforces.com/contest/1673/problem/F", "tags": ["bitmasks", " constructive algorithms", " divide and conquer", " greedy", " interactive", " math"], "title": "1673-F", "statement": "F. Anti-Theft Road Planningtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is an interactive problem.A city has $$$n^2$$$ buildings divided into a grid of $$$n$$$ rows and $$$n$$$ columns. You need to build a road of some length $$$D(A,B)$$$ of your choice between each pair of adjacent by side buildings $$$A$$$ and $$$B$$$. Due to budget limitations and legal restrictions, the length of each road must be a positive integer andthe total length of all roads should not exceed $$$48\\\\,000$$$.There is a thief in the city who will start from the topmost, leftmost building (in the first row and the first column) and roam around the city, occasionally stealing artifacts from some of the buildings. He can move from one building to another adjacent building by travelling through the road which connects them.You are unable to track down what buildings he visits and what path he follows to reach them. But there is one tracking mechanism in the city. The tracker is capable of storing a single integer $$$x$$$ which is initially $$$0$$$. Each time the thief travels from a building $$$A$$$ to another adjacent building $$$B$$$ through a road of length $$$D(A,B)$$$, the tracker changes $$$x$$$ to $$$x\\\\oplus D(A,B)$$$. Each time the thief steals from a building, the tracker reports the value $$$x$$$ stored in it and resets it back to $$$0$$$.It is known beforehand that the thief will steal in exactly $$$k$$$ buildings but you will know the values returned by the tracker only after the thefts actually happen. Your task is to choose the lengths of roads in such a way that no matter what strategy or routes the thief follows, you will be able to exactly tell the location of all the buildings where the thefts occurred from the values returned by the tracker.InteractionFirst read a single line containing two integers $$$n$$$ $$$(2\\\\leq n\\\\leq 32)$$$ and $$$k$$$ $$$(1\\\\leq k\\\\leq 1024)$$$ denoting the number of rows and number of thefts respectively.Let's denote the $$$j$$$-th building in the $$$i$$$-th row by $$$B_{i,j}$$$.Then print $$$n$$$ lines each containing $$$n-1$$$ integers. The $$$j$$$-th integer of the $$$i$$$-th line must be the value of $$$D(B_{i,j},B_{i,j+1})$$$.Then print $$$n-1$$$ lines each containing $$$n$$$ integers. The $$$j$$$-th integer of the $$$i$$$-th line must be the value of $$$D(B_{i,j},B_{i+1,j})$$$.Remember that the total length of the roads must not exceed $$$48\\\\,000$$$.Then answer $$$k$$$ queries. First read the value $$$x$$$ returned by the tracker. Then print two integers denoting the row number and column number of the building where the theft occurred. After that you will be able to answer the next query (if such exists).After printing the answers do not forget to output end of line and flush the output buffer. Otherwise you will get the verdictIdleness limit exceeded. To flush the buffer, use:fflush(stdout)orcout.flush()in C++;System.out.flush()in Java;flush(output)in Pascal;stdout.flush()in Python;Read documentation for other languages.HacksYou cannot make hacks in this problem.ExampleInput2 4    14  1  14  3Output1 8 2 4  1 2  1 1  1 2  2 1NoteFor the sample test, $$$n=2$$$ and $$$k=4$$$.You choose to build the roads of the following lengths:The thief follows the following strategy:Start at $$$B_{1,1}$$$.Move Right to $$$B_{1,2}$$$.Move Down to $$$B_{2,2}$$$.Move Left to $$$B_{2,1}$$$.Move Up to $$$B_{1,1}$$$.Move Right to $$$B_{1,2}$$$.Steal from $$$B_{1,2}$$$.Move Left to $$$B_{1,1}$$$.Steal from $$$B_{1,1}$$$.Move Down to $$$B_{2,1}$$$.Move Right to $$$B_{2,2}$$$.Move Up to $$$B_{1,2}$$$.Steal from $$$B_{1,2}$$$.Move Left to $$$B_{1,1}$$$.Move Down to $$$B_{2,1}$$$.Steal from $$$B_{2,1}$$$.The tracker responds in the following way:Initialize $$$x=0$$$.Change $$$x$$$ to $$$x\\\\oplus 1=0\\\\oplus1=1$$$.Change $$$x$$$ to $$$x\\\\oplus 4=1\\\\oplus4=5$$$.Change $$$x$$$ to $$$x\\\\oplus 8=5\\\\oplus8=13$$$.Change $$$x$$$ to $$$x\\\\oplus 2=13\\\\oplus2=15$$$.Change $$$x$$$ to $$$x\\\\oplus 1=15\\\\oplus1=14$$$.Return $$$x=14$$$ and re-initialize $$$x=0$$$.Change $$$x$$$ to $$$x\\\\oplus 1=0\\\\oplus1=1$$$.Return $$$x=1$$$ and re-initialize $$$x=0$$$.Change $$$x$$$ to $$$x\\\\oplus 2=0\\\\oplus2=2$$$.Change $$$x$$$ to $$$x\\\\oplus 8=2\\\\oplus8=10$$$.Change $$$x$$$ to $$$x\\\\oplus 4=10\\\\oplus4=14$$$.Return $$$x=14$$$ and re-initialize $$$x=0$$$.Change $$$x$$$ to $$$x\\\\oplus 1=0\\\\oplus1=1$$$.Change $$$x$$$ to $$$x\\\\oplus 2=1\\\\oplus2=3$$$.Return $$$x=3$$$ and re-initialize $$$x=0$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a17b3f08", "template_md5": "35d339e4", "result": "You are given a grid of $n \\times n$ buildings. You need to build roads between adjacent buildings. The length of each road must be a positive integer, and the total length of all roads cannot exceed 48000.\n\nA thief will move around the grid, stealing from some buildings.  Each time the thief moves between buildings through a road of length $D(A,B)$, a tracker changes its value from $x$ to $x \\oplus D(A,B)$. When the thief steals from a building, the tracker reports its current value and resets to 0.\n\nYou know the thief will steal from exactly $k$ buildings. Your task is to design the road lengths so that you can determine the location of each stolen building based on the tracker's reported values. \n\nYou will interact with the problem as follows:\n\n1. **Input:** You will be given $n$ and $k$.\n2. **Output:** You will specify the length of each road.\n3. **Interaction:** The problem will give you a value $x$ returned by the tracker. You must output the row and column of the building where the theft occurred.\n\nYou will receive $k$ such queries."}, {"prompt_md5": "1eff0ee8", "template_md5": "465699a0", "result": "You need to build roads between adjacent buildings in a grid. The roads must be a certain length, and the total length of all roads cannot exceed a limit. A thief will move between buildings using these roads and steal from some of them.  You can only see the thief's location when they steal, and you only know the sum of the road lengths they traveled to get there.  Your goal is to design the road lengths so that you can figure out which buildings the thief stole from based on the sums you see."}]}