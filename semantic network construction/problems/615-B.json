{"uid": "615-B", "url": "https://codeforces.com/contest/615/problem/B", "tags": ["dp", " graphs"], "title": "615-B", "statement": "B. Longtail Hedgehogtime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis Christmas Santa gave Masha a magic picture and a pencil. The picture consists ofnpoints connected bymsegments (they might cross in any way, that doesn't matter). No two segments connect the same pair of points, and no segment connects the point to itself. Masha wants to color some segments in order paint a hedgehog. In Mashas mind every hedgehog consists of a tail and some spines. She wants to paint the tail that satisfies the following conditions:Only segments already presented on the picture can be painted;The tail should be continuous, i.e. consists of some sequence of points, such that every two neighbouring points are connected by a colored segment;The numbers of points from the beginning of the tail to the end should strictly increase.Masha defines the length of the tail as the number of points in it. Also, she wants to paint some spines. To do so, Masha will paint all the segments, such that one of their ends is theendpointof the tail. Masha defines the beauty of a hedgehog as the length of the tail multiplied by the number of spines. Masha wants to color the most beautiful hedgehog. Help her calculate what result she may hope to get.Note that according to Masha's definition of a hedgehog, one segment may simultaneously serve as a spine and a part of the tail (she is a little girl after all). Take a look at the picture for further clarifications.InputFirst line of the input contains two integersnandm(2 ≤n≤ 100 000,1 ≤m≤ 200 000) — the number of points and the number segments on the picture respectively.Then followmlines, each containing two integersuiandvi(1 ≤ui,vi≤n,ui≠vi) — the numbers of points connected by corresponding segment. It's guaranteed that no two segments connect the same pair of points.OutputPrint the maximum possible value of the hedgehog's beauty.ExamplesInput8 64 53 52 51 22 86 7Output9Input4 61 21 31 42 32 43 4Output12NoteThe picture below corresponds to the first sample. Segments that form the hedgehog are painted red. The tail consists of a sequence of points with numbers1,2and5. The following segments are spines: (2,5), (3,5) and (4,5). Therefore, the beauty of the hedgehog is equal to3·3 = 9.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ffb67066", "template_md5": "35d339e4", "result": "You are given a picture with $n$ points and $m$ segments connecting them.  Each segment connects two distinct points and no point is connected to itself. \n\nYou want to choose a sequence of segments to form a \"hedgehog\".  A hedgehog consists of:\n\n* **Tail:** A continuous sequence of points where each pair of consecutive points is connected by a segment. The points in the tail must be in strictly increasing order.\n* **Spines:** All segments that connect to the end point of the tail.\n\nThe **beauty** of a hedgehog is the length of the tail (number of points in the tail) multiplied by the number of spines.\n\nFind the maximum possible beauty of a hedgehog that can be formed.\n\n\n\nInput:\n\n* The first line contains two integers, $n$ and $m$ ($2 \\le n \\le 100,000$, $1 \\le m \\le 200,000$), representing the number of points and segments, respectively.\n* The next $m$ lines each contain two integers, $u_i$ and $v_i$ ($1 \\le u_i, v_i \\le n$, $u_i \\neq v_i$), representing the points connected by the $i$-th segment.\n\nOutput:\n\n* Print the maximum possible beauty of a hedgehog."}, {"prompt_md5": "3ca89259", "template_md5": "465699a0", "result": "You are given a set of points connected by lines.  Find the longest possible sequence of points that can be connected by lines in increasing order, and then find the maximum number of additional lines that connect to the end of this sequence. The answer is the product of these two values."}]}