{"uid": "935-F", "url": "https://codeforces.com/contest/935/problem/F", "tags": ["data structures", " greedy"], "title": "935-F", "statement": "F. Fafa and Arraytime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputFafa has an arrayAofnpositive integers, the functionf(A)is defined as. He wants to doqqueries of two types:1lrx— find the maximum possible value off(A), ifxis to be added to one element in the range[l,r]. You can choose to which element to addx.2lrx— increase all the elements in the range[l,r]by valuex.Note that queries of type1don't affect the array elements.InputThe first line contains one integern(3 ≤n≤ 105)— the length of the array.The second line containsnpositive integersa1,a2, ...,an(0 <ai≤ 109)— the array elements.The third line contains an integerq(1 ≤q≤ 105)— the number of queries.Thenqlines follow, lineidescribes thei-th query and contains four integerstilirixi.It is guaranteed that at least one of the queries is of type1.OutputFor each query of type1, print the answer to the query.ExamplesInput51 1 1 1 151 2 4 12 2 3 12 4 4 22 3 4 11 3 3 2Output28Input51 2 3 4 541 2 4 22 2 4 12 3 4 11 2 4 2Output610", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "3f76ab7a", "template_md5": "35d339e4", "result": "You are given an array of $n$ positive integers.  You can perform two types of queries:\n\n1. **Query Type 1:** Given a range $[l, r]$ and an integer $x$, find the maximum possible value of the sum of the array elements after adding $x$ to exactly one element in the range $[l, r]$. You can choose which element to add $x$ to.\n\n2. **Query Type 2:** Given a range $[l, r]$ and an integer $x$, increase all the elements in the range $[l, r]$ by $x$.\n\nInput:\n\n* The first line contains $n$ (3 ≤ $n$ ≤ 10⁵) - the length of the array.\n* The second line contains $n$ positive integers $a_1, a_2, ..., a_n$ (0 < $a_i$ ≤ 10⁹) - the array elements.\n* The third line contains $q$ (1 ≤ $q$ ≤ 10⁵) - the number of queries.\n* Each of the next $q$ lines describes a query and contains four integers $t$, $l$, $r$, and $x$. \n\nOutput:\n\nFor each query of type 1, print the answer to the query."}, {"prompt_md5": "21770a15", "template_md5": "465699a0", "result": "You are given an array of numbers. You can perform two types of operations on the array:\n\n1. Add a given number to a single element within a specified range.\n2. Increase all elements within a specified range by a given number.\n\nFor each query of type 1, find the maximum possible value achievable by adding the given number to one element in the specified range."}]}