{"uid": "1599-E", "url": "https://codeforces.com/contest/1599/problem/E", "tags": ["data structures", " matrices"], "title": "1599-E", "statement": "E. Two Arraystime limit per test5 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given two integer arrays of length $$$N$$$, $$$A1$$$ and $$$A2$$$. You are also given $$$Q$$$ queries of 4 types:1 k l r x: set $$$Ak_i:=min(Ak_i, x)$$$ for each $$$l \\\\leq i \\\\leq r$$$.2 k l r x: set $$$Ak_i:=max(Ak_i, x)$$$ for each $$$l \\\\leq i \\\\leq r$$$.3 k l r x: set $$$Ak_i:=Ak_i+x$$$ for each $$$l \\\\leq i \\\\leq r$$$.4 l r: find the $$$(\\\\sum_{i=l}^r F(A1_i+A2_i)) \\\\% (10^9+7)$$$ where $$$F(k)$$$ is the $$$k$$$-th Fibonacci number ($$$F(0)=0, F(1)=1, F(k)=F(k-1)+F(k-2)$$$), and $$$x \\\\% y$$$ denotes the remainder of the division of $$$x$$$ by $$$y$$$.You should process these queries and answer each query of the fourth type.InputThe first line contains two integers $$$N$$$ and $$$Q$$$. ($$$1 \\\\leq N, Q \\\\leq 5 \\\\times 10^4$$$)The second line contains $$$N$$$ integers, array $$$A1_1, A1_2, \\\\dots A1_N$$$. ($$$0 \\\\leq A1_i \\\\leq 10^6$$$)The third line contains $$$N$$$ integers, array $$$A2_1, A2_2, \\\\dots A2_N$$$. ($$$0 \\\\leq A2_i \\\\leq 10^6$$$)The next $$$Q$$$ lines describe the queries. Each line contains 5 or 3 integers, where the first integer denotes the type of the query. ($$$k \\\\in \\\\{1, 2\\\\}$$$, $$$1 \\\\leq l \\\\leq r \\\\leq N$$$)For queries of type 1 and 2, $$$0 \\\\leq x \\\\leq 10^9$$$ holds.For queries of type 3, $$$âˆ’10^6 \\\\leq x \\\\leq 10^6$$$ holds.It is guaranteed that after every query each number in arrays $$$A1$$$ and $$$A2$$$ will be nonnegative.OutputPrint the answer to each query of the fourth type, in separate lines.ExamplesInput3 4 1 0 2 2 1 0 4 1 3 3 2 2 2 3 1 1 1 3 0 4 1 3Output4 4Input5 4 1 3 5 3 2 4 2 1 3 3 4 1 3 4 2 5 2 1 2 4 6 4 2 4Output18 26 68NoteIn the first example: The answer for the first query is $$$F(1 + 2) + F(0 + 1) + F(2 + 0) = F(3) + F(1) + F(2) = 2 + 1 + 1 = 4$$$. After the second query, the array $$$A2$$$ changes to $$$[2, 4, 0]$$$. After the third query, the array $$$A1$$$ changes to $$$[0, 0, 0]$$$. The answer for the fourth query is $$$F(0 + 2) + F(0 + 4) + F(0 + 0) = F(2) + F(4) + F(0) = 1 + 3 + 0 = 4$$$.In the second example: The answer for the first query is $$$F(1 + 4) + F(3 + 2) + F(5 + 1) = F(5) + F(5) + F(6) = 5 + 5 + 8 = 18$$$. The answer for the second query is $$$F(3 + 2) + F(5 + 1) + F(3 + 3) + F(2 + 3) = F(5) + F(6) + F(6) + F(5) = 5 + 8 + 8 + 5 = 26$$$. After the third query, the array $$$A1$$$ changes to $$$[1, 6, 6, 6, 2]$$$. The answer for the fourth query is $$$F(6 + 2) + F(6 + 1) + F(6 + 3) = F(8) + F(7) + F(9) = 21 + 13 + 34 = 68$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e5eba9f5", "template_md5": "35d339e4", "result": "You are given two arrays of integers,  $A1$ and $A2$, both of length $N$. You will be given $Q$ queries of four types:\n\n1. **Set:** For indices $l$ to $r$ (inclusive) in both arrays, set $A1_i = min(A1_i, x)$ and $A2_i = min(A2_i, x)$.\n2. **Set:** For indices $l$ to $r$ (inclusive) in both arrays, set $A1_i = max(A1_i, x)$ and $A2_i = max(A2_i, x)$.\n3. **Add:** For indices $l$ to $r$ (inclusive) in both arrays, set $A1_i = A1_i + x$ and $A2_i = A2_i + x$.\n4. **Calculate:** Find the sum of $F(A1_i + A2_i)$ for indices $l$ to $r$ (inclusive), where $F(k)$ is the $k$-th Fibonacci number (with $F(0) = 0$, $F(1) = 1$, and $F(k) = F(k-1) + F(k-2)$), and take the remainder when divided by $10^9 + 7$.\n\nFor each query of type 4, print the result."}, {"prompt_md5": "c31f9021", "template_md5": "465699a0", "result": "You are given two arrays of numbers. You will be asked to perform several operations on these arrays, such as setting elements to minimums, maximums, or adding values. You will also be asked to calculate the sum of certain Fibonacci numbers based on the elements of the arrays."}]}