{"uid": "1731-F", "url": "https://codeforces.com/contest/1731/problem/F", "tags": ["brute force", " combinatorics", " dp", " fft", " math"], "title": "1731-F", "statement": "F. Function Sumtime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputSuppose you have an integer array $$$a_1, a_2, \\\\dots, a_n$$$.Let $$$\\\\operatorname{lsl}(i)$$$ be the number of indices $$$j$$$ ($$$1 \\\\le j < i$$$) such that $$$a_j < a_i$$$.Analogically, let $$$\\\\operatorname{grr}(i)$$$ be the number of indices $$$j$$$ ($$$i < j \\\\le n$$$) such that $$$a_j > a_i$$$.Let's name position $$$i$$$goodin the array $$$a$$$ if $$$\\\\operatorname{lsl}(i) < \\\\operatorname{grr}(i)$$$.Finally, let's define a function $$$f$$$ on array $$$a$$$ $$$f(a)$$$ as thesumof all $$$a_i$$$ such that $$$i$$$ isgoodin $$$a$$$.Given two integers $$$n$$$ and $$$k$$$, find the sum of $$$f(a)$$$ over all arrays $$$a$$$ of size $$$n$$$ such that $$$1 \\\\leq a_i \\\\leq k$$$ for all $$$1 \\\\leq i \\\\leq n$$$ modulo $$$998\\\\,244\\\\,353$$$.InputThe first and only line contains two integers $$$n$$$ and $$$k$$$ ($$$1 \\\\leq n \\\\leq 50$$$; $$$2 \\\\leq k < 998\\\\,244\\\\,353$$$).OutputOutput a single integer — the sum of $$$f$$$ over all arrays $$$a$$$ of size $$$n$$$ modulo $$$998\\\\,244\\\\,353$$$.ExamplesInput3 3Output28Input5 6Output34475Input12 30Output920711694NoteIn the first test case:$$$f([1,1,1]) = 0$$$$$$f([2,2,3]) = 2 + 2 = 4$$$$$$f([1,1,2]) = 1 + 1 = 2$$$$$$f([2,3,1]) = 2$$$$$$f([1,1,3]) = 1 + 1 = 2$$$$$$f([2,3,2]) = 2$$$$$$f([1,2,1]) = 1$$$$$$f([2,3,3]) = 2$$$$$$f([1,2,2]) = 1$$$$$$f([3,1,1]) = 0$$$$$$f([1,2,3]) = 1$$$$$$f([3,1,2]) = 1$$$$$$f([1,3,1]) = 1$$$$$$f([3,1,3]) = 1$$$$$$f([1,3,2]) = 1$$$$$$f([3,2,1]) = 0$$$$$$f([1,3,3]) = 1$$$$$$f([3,2,2]) = 0$$$$$$f([2,1,1]) = 0$$$$$$f([3,2,3]) = 2$$$$$$f([2,1,2]) = 1$$$$$$f([3,3,1]) = 0$$$$$$f([2,1,3]) = 2 + 1 = 3$$$$$$f([3,3,2]) = 0$$$$$$f([2,2,1]) = 0$$$$$$f([3,3,3]) = 0$$$$$$f([2,2,2]) = 0$$$Adding up all of these values, we get $$$28$$$ as the answer.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "6af9db27", "template_md5": "35d339e4", "result": "You are given an array of integers $a_1, a_2, ..., a_n$. For each index $i$, calculate:\n\n* $lsl(i)$: the number of indices $j$ (where $1 \\le j < i$) such that $a_j < a_i$.\n* $grr(i)$: the number of indices $j$ (where $i < j \\le n$) such that $a_j > a_i$.\n\nAn index $i$ is considered \"good\" if $lsl(i) < grr(i)$.\n\nDefine a function $f(a)$ as the sum of all $a_i$ where $i$ is \"good\" in the array $a$.\n\nGiven two integers $n$ and $k$, find the sum of $f(a)$ over all possible arrays $a$ of size $n$ where $1 \\le a_i \\le k$ for all $1 \\le i \\le n$, modulo 998244353."}, {"prompt_md5": "29f36585", "template_md5": "465699a0", "result": "You are given a list of numbers. For each number, count how many numbers before it are smaller and how many numbers after it are larger. If there are more larger numbers than smaller numbers, the number is considered \"good\".  Calculate the sum of all the \"good\" numbers for all possible lists of a given size, where each number in the list is between 1 and a given limit.  The answer should be the sum of all these values modulo 998244353."}]}