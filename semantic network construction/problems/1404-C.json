{"uid": "1404-C", "url": "https://codeforces.com/contest/1404/problem/C", "tags": ["binary search", " constructive algorithms", " data structures", " greedy", " two pointers"], "title": "1404-C", "statement": "C. Fixed Point Removaltime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLet $$$a_1, \\\\ldots, a_n$$$ be an array of $$$n$$$ positive integers. In one operation, you can choose an index $$$i$$$ such that $$$a_i = i$$$, and remove $$$a_i$$$ from the array (after the removal, the remaining parts are concatenated).The weight of $$$a$$$ is defined as the maximum number of elements you can remove.You must answer $$$q$$$ independent queries $$$(x, y)$$$: after replacing the $$$x$$$ first elements of $$$a$$$ and the $$$y$$$ last elements of $$$a$$$ by $$$n+1$$$ (making them impossible to remove), what would be the weight of $$$a$$$?InputThe first line contains two integers $$$n$$$ and $$$q$$$ ($$$1 \\\\le n, q \\\\le 3 \\\\cdot 10^5$$$)  — the length of the array and the number of queries.The second line contains $$$n$$$ integers $$$a_1$$$, $$$a_2$$$, ..., $$$a_n$$$ ($$$1 \\\\leq a_i \\\\leq n$$$) — elements of the array.The $$$i$$$-th of the next $$$q$$$ lines contains two integers $$$x$$$ and $$$y$$$ ($$$x, y \\\\ge 0$$$ and $$$x+y < n$$$).OutputPrint $$$q$$$ lines, $$$i$$$-th line should contain a single integer  — the answer to the $$$i$$$-th query.ExamplesInput13 5 2 2 3 9 5 4 6 5 7 8 3 11 13 3 1 0 0 2 4 5 0 0 12Output5 11 6 1 0Input5 2 1 4 1 2 4 0 0 1 0Output2 0NoteExplanation of the first query:After making first $$$x = 3$$$ and last $$$y = 1$$$ elements impossible to remove, $$$a$$$ becomes $$$[\\\\times, \\\\times, \\\\times, 9, 5, 4, 6, 5, 7, 8, 3, 11, \\\\times]$$$ (we represent $$$14$$$ as $$$\\\\times$$$ for clarity).Here is a strategy that removes $$$5$$$ elements (the element removed is colored in red):$$$[\\\\times, \\\\times, \\\\times, 9, \\\\color{red}{5}, 4, 6, 5, 7, 8, 3, 11, \\\\times]$$$$$$[\\\\times, \\\\times, \\\\times, 9, 4, 6, 5, 7, 8, 3, \\\\color{red}{11}, \\\\times]$$$$$$[\\\\times, \\\\times, \\\\times, 9, 4, \\\\color{red}{6}, 5, 7, 8, 3, \\\\times]$$$$$$[\\\\times, \\\\times, \\\\times, 9, 4, 5, 7, \\\\color{red}{8}, 3, \\\\times]$$$$$$[\\\\times, \\\\times, \\\\times, 9, 4, 5, \\\\color{red}{7}, 3, \\\\times]$$$$$$[\\\\times, \\\\times, \\\\times, 9, 4, 5, 3, \\\\times]$$$ (final state)It is impossible to remove more than $$$5$$$ elements, hence the weight is $$$5$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "498ad38f", "template_md5": "35d339e4", "result": "You are given an array of $n$ positive integers $a_1, a_2, ..., a_n$.  You can perform the following operation:\n\n* Choose an index $i$ such that $a_i = i$, and remove $a_i$ from the array. After the removal, the remaining parts are concatenated.\n\nThe weight of the array is the maximum number of elements you can remove.\n\nYou are given $q$ queries, each query is represented by two integers $x$ and $y$ ($0 \\le x, y < n$ and $x+y < n$). For each query, you need to replace the first $x$ elements and the last $y$ elements of the array with $n+1$.  These elements become impossible to remove.  After this modification, what is the weight of the array?\n\nOutput $q$ lines, each line containing the weight of the array after the modification for the corresponding query."}, {"prompt_md5": "88f8232e", "template_md5": "465699a0", "result": "You have a list of numbers.  You can remove a number from the list if it matches its position in the list.  You want to find the maximum number of numbers you can remove from the list after changing some numbers at the beginning and end of the list so they can no longer be removed.  You have to do this for several different changes to the list."}]}