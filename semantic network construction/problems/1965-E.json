{"uid": "1965-E", "url": "https://codeforces.com/contest/1965/problem/E", "tags": ["constructive algorithms", " games"], "title": "1965-E", "statement": "E. Connected Cubestime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThere are $$$n \\\\cdot m$$$ unit cubes currently in positions $$$(1, 1, 1)$$$ through $$$(n, m, 1)$$$. Each of these cubes is one of $$$k$$$ colors. You want to add additional cubes at any integer coordinates such that the subset of cubes of each color is connected, where two cubes are considered connected if they share a face.In other words, for every pair of cubes of the same color $$$c$$$, it should be possible to travel from one to the other, moving only through cubes of color $$$c$$$ that share a face.The existing cubes are currently in the corner of a room. There are colorless cubes completely filling the planes $$$x = 0$$$, $$$y = 0$$$, and $$$z = 0$$$, preventing you from placing additional cubes there or at any negative coordinates.Find a solution that uses at most $$$4 \\\\cdot 10^5$$$ additional cubes (not including the cubes that are currently present), or determine that there is no solution. It can be shown that under the given constraints, if there is a solution, there is one using at most $$$4 \\\\cdot 10^5$$$ additional cubes.InputThe first line of the input contains three integers $$$n$$$, $$$m$$$, and $$$k$$$ ($$$2 \\\\le n, m, k \\\\le 50$$$) — the number of rows and columns of cubes, and the number of colors, respectively.The $$$i$$$-th of the next $$$n$$$ lines contains $$$m$$$ integers. The $$$j$$$-th of these is $$$a_{ij}$$$ ($$$1 \\\\le a_{ij} \\\\le k$$$) — the color of the cube at position $$$(i, j, 1)$$$. For every color from $$$1$$$ to $$$k$$$, it is guaranteed that there is at least one cube in the input of that color.OutputIf there is no solution, print a single integer $$$-1$$$.Otherwise, the first line of output should contain a single integer $$$p$$$ ($$$0 \\\\le p \\\\le 4 \\\\cdot 10^5$$$) — the number of additional cubes you will add.The next $$$p$$$ lines should contain four integers $$$x$$$, $$$y$$$, $$$z$$$ and $$$c$$$ ($$$1 \\\\le x, y, z \\\\le 10^6$$$, $$$1 \\\\le c \\\\le k$$$) — indicating that you are adding a cube with color $$$c$$$ at position $$$(x, y, z)$$$.No two cubes in the output should have the same coordinates, and no cube in the output should have the same coordinates as any cube in the input.If there are multiple solutions, print any.ExamplesInput3 4 33 2 3 11 1 1 11 3 3 2Output13 1 1 2 3 1 3 2 3 2 1 2 3 2 2 2 3 2 3 2 3 3 3 2 3 1 2 2 2 1 2 3 2 1 3 3 2 1 4 3 2 2 4 3 2 3 4 3 2 3 4 2 2Input2 2 22 11 2Output9 1 3 1 1 2 3 1 1 3 1 1 1 3 2 1 1 3 3 1 1 1 1 2 2 1 2 2 2 2 1 2 2 2 2 2 2NoteThe image in the statement corresponds to the first example case, with $$$\\\\text{red} = 1$$$, $$$\\\\text{blue} = 2$$$, $$$\\\\text{green} = 3$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c28fbf94", "template_md5": "35d339e4", "result": "You are given a grid of $n \\times m$ cubes, each colored with one of $k$ colors.  You want to add more cubes to the grid so that all cubes of the same color are connected.  \n\nHere are the rules:\n\n* You can only add cubes at integer coordinates.\n* You cannot add cubes at coordinates $(x,y,z)$ where $x$, $y$, or $z$ is negative.\n* There are already cubes at coordinates $(1,1,1)$ through $(n,m,1)$.\n* You cannot add cubes to overlap with existing cubes.\n\nFind the minimum number of cubes you need to add to satisfy the connection rule, or determine if it's impossible. You are allowed to add at most $4 \\times 10^5$ cubes.\n\n\n\nThe input will give you the values of $n$, $m$, and $k$, and the color of each cube in the initial grid. The output should be:\n\n* $-1$ if it's impossible to connect all cubes of the same color.\n* The number of cubes you need to add, followed by the coordinates and color of each new cube."}, {"prompt_md5": "bc4fe658", "template_md5": "465699a0", "result": "You have a grid of colored blocks. You need to add more blocks of the same colors to connect all blocks of each color so they are touching.  You can't add blocks in the front or on the bottom or left sides of the grid. Find the fewest blocks you need to add."}]}