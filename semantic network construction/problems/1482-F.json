{"uid": "1482-F", "url": "https://codeforces.com/contest/1482/problem/F", "tags": ["graphs", " shortest paths"], "title": "1482-F", "statement": "F. Useful Edgestime limit per test5 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a weighted undirected graph on $$$n$$$ vertices along with $$$q$$$ triples $$$(u, v, l)$$$, where in each triple $$$u$$$ and $$$v$$$ are vertices and $$$l$$$ is a positive integer. An edge $$$e$$$ is calledusefulif there is at least one triple $$$(u, v, l)$$$ and a path (not necessarily simple) with the following properties:$$$u$$$ and $$$v$$$ are the endpoints of this path,$$$e$$$ is one of the edges of this path,the sum of weights of all edges on this path doesn't exceed $$$l$$$.Please print the number of useful edges in this graph.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$2\\\\leq n\\\\leq 600$$$, $$$0\\\\leq m\\\\leq \\\\frac{n(n-1)}2$$$).Each of the following $$$m$$$ lines contains three integers $$$u$$$, $$$v$$$ and $$$w$$$ ($$$1\\\\leq u, v\\\\leq n$$$, $$$u\\\\neq v$$$, $$$1\\\\leq w\\\\leq 10^9$$$), denoting an edge connecting vertices $$$u$$$ and $$$v$$$ and having a weight $$$w$$$.The following line contains the only integer $$$q$$$ ($$$1\\\\leq q\\\\leq \\\\frac{n(n-1)}2$$$) denoting the number of triples.Each of the following $$$q$$$ lines contains three integers $$$u$$$, $$$v$$$ and $$$l$$$ ($$$1\\\\leq u, v\\\\leq n$$$, $$$u\\\\neq v$$$, $$$1\\\\leq l\\\\leq 10^9$$$) denoting a triple $$$(u, v, l)$$$.It's guaranteed that:the graph doesn't contain loops or multiple edges;all pairs $$$(u, v)$$$ in the triples are also different.OutputPrint a single integer denoting the number of useful edges in the graph.ExamplesInput4 6 1 2 1 2 3 1 3 4 1 1 3 3 2 4 3 1 4 5 1 1 4 4Output5Input4 2 1 2 10 3 4 10 6 1 2 11 1 3 11 1 4 11 2 3 11 2 4 11 3 4 9Output1Input3 2 1 2 1 2 3 2 1 1 2 5Output2NoteIn the first example each edge is useful, except the one of weight $$$5$$$.In the second example only edge between $$$1$$$ and $$$2$$$ is useful, because it belongs to the path $$$1-2$$$, and $$$10 \\\\leq 11$$$. The edge between $$$3$$$ and $$$4$$$, on the other hand, is not useful.In the third example both edges are useful, for there is a path $$$1-2-3-2$$$ of length exactly $$$5$$$. Please note that the path may pass through a vertex more than once.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "5ba2b619", "template_md5": "35d339e4", "result": "You are given a graph with $n$ vertices and $m$ edges. Each edge has a weight. You are also given $q$ triples $(u, v, l)$.  \n\nAn edge is considered \"useful\" if there is a path from vertex $u$ to vertex $v$ in the graph that includes that edge, and the total weight of all edges on that path is less than or equal to $l$.\n\nFind the total number of useful edges in the graph. \n\n\n**Input:**\n\n* The first line contains two integers, $n$ and $m$ ($2 \\le n \\le 600$, $0 \\le m \\le \\frac{n(n-1)}{2}$).\n* The next $m$ lines each contain three integers, $u$, $v$, and $w$ ($1 \\le u, v \\le n$, $u \\neq v$, $1 \\le w \\le 10^9$), representing an edge between vertices $u$ and $v$ with weight $w$.\n* The next line contains an integer, $q$ ($1 \\le q \\le \\frac{n(n-1)}{2}$), representing the number of triples.\n* The next $q$ lines each contain three integers, $u$, $v$, and $l$ ($1 \\le u, v \\le n$, $u \\neq v$, $1 \\le l \\le 10^9$), representing a triple $(u, v, l)$.\n\n**Output:**\n\n* Print a single integer representing the number of useful edges in the graph."}, {"prompt_md5": "1b833522", "template_md5": "465699a0", "result": "You are given a network of points connected by edges with weights.  You are also given pairs of points and a maximum weight limit.  Count the number of edges that are part of a path between a given pair of points where the total weight of the path is less than or equal to the given limit."}]}