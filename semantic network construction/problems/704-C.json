{"uid": "704-C", "url": "https://codeforces.com/contest/704/problem/C", "tags": ["dp", " graphs", " implementation", " math"], "title": "704-C", "statement": "C. Black Widowtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputNatalia Romanova is trying to test something on the new gun S.H.I.E.L.D gave her. In order to determine the result of the test, she needs to find the number of answers to a certain equation. The equation is of form:Whererepresents logical OR andrepresents logical exclusive OR (XOR), andvi,jare some boolean variables or their negations. Natalia calls the left side of the equation a XNF formula. Each statement in brackets is called a clause, andvi,jare called literals.In the equation Natalia has, the left side is actually a 2-XNF-2 containing variablesx1,x2, ...,xmand their negations. An XNF formula is 2-XNF-2 if:For each1 ≤i≤n,ki≤ 2, i.e. the size of each clause doesn't exceed two.Each variable occursin the formula at most two times(with negation and without negation in total). Please note that it's possible that a variable occurs twice but its negation doesn't occur in any clause (or vice versa).Natalia is given a formula ofmvariables, consisting ofnclauses. Please, make sure to check the samples in order to properly understand how the formula looks like.Natalia is more into fight than theory, so she asked you to tell her the number of answers to this equation. More precisely, you need to find the number of ways to setx1, ...,xmwithtrueandfalse(out of total of2mways) so that the equation is satisfied. Since this number can be extremely large, you need to print the answer modulo109+ 7.Please, note that some variable may appear twice in one clause, or not appear in the equation at all (but still, setting it tofalseortruegives different ways to set variables).InputThe first line of input contains two integersnandm(1 ≤n,m≤ 100 000) — the number of clauses and the number of variables respectively.The nextnlines contain the formula. Thei-th of them starts with an integerki— the number of literals in thei-th clause. It is followed bykinon-zero integersai, 1, ...,ai,ki. Ifai,j> 0thenvi,jisxai,jotherwise it's negation ofx-ai,j(1 ≤ki≤ 2,-m≤ai,j≤m,ai,j≠ 0).OutputPrint the answer modulo1 000 000 007(109+ 7) in one line.ExamplesInput6 72 4 -22 6 32 -7 12 -5 12 3 62 -2 -5Output48Input8 101 -52 4 -62 -2 -62 -7 92 10 -12 3 -12 -8 92 5 8Output544Input2 32 1 12 -3 3Output4NoteThe equation in the first sample is:The equation in the second sample is:The equation in the third sample is:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "6b14893b", "template_md5": "35d339e4", "result": "You are given a boolean logic equation with $n$ clauses and $m$ variables. Each clause has at most two literals, where a literal is a variable or its negation.  \n\nA variable can appear at most twice in the entire equation (once positive and once negative, or not at all).\n\nYour task is to determine the number of ways to assign true or false values to the variables so that the equation evaluates to true.  Since the number of possible assignments can be very large, output the answer modulo $10^9 + 7$.\n\n\n\nLet me know if you'd like help with the algorithm to solve this problem!"}, {"prompt_md5": "5bcd1e54", "template_md5": "465699a0", "result": "You are given a logical expression with boolean variables (true/false) and their negations.  The expression is structured in clauses, where each clause has at most two variables.  \n\nFind the number of ways to assign true or false values to the variables so that the entire expression evaluates to true.  The answer should be the count modulo 1,000,000,007."}]}