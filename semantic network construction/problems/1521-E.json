{"uid": "1521-E", "url": "https://codeforces.com/contest/1521/problem/E", "tags": ["binary search", " constructive algorithms", " dp", " greedy"], "title": "1521-E", "statement": "E. Nastia and a Beautiful Matrixtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou like numbers, don't you? Nastia has a lot of numbers and she wants to share them with you! Isn't it amazing?Let $$$a_i$$$ be how many numbers $$$i$$$ ($$$1 \\\\le i \\\\le k$$$) you have.An $$$n \\\\times n$$$ matrix is called beautiful if it containsallthe numbers you have, and foreach$$$2 \\\\times 2$$$ submatrix of the original matrix is satisfied:The number of occupied cells doesn't exceed $$$3$$$;The numbers on each diagonal are distinct.Make a beautiful matrix ofminimumsize.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 10\\\\,000$$$) — the number of test cases.The first line of each test case contains $$$2$$$ integers $$$m$$$ and $$$k$$$ ($$$1 \\\\le m, k \\\\le 10^5$$$) — how many numbers Nastia gave you and the length of the array $$$a$$$, respectively.The second line of each test case contains $$$k$$$ integers $$$a_1, a_2, \\\\ldots, a_{k}$$$ ($$$0 \\\\le a_i \\\\le m$$$, $$$a_1 + a_2 + \\\\ldots + a_{k} = m$$$), where $$$a_i$$$ is how many numbers $$$i$$$ you have.It's guaranteed that the sum of $$$m$$$ and $$$k$$$ in one test doesn't exceed $$$2 \\\\cdot 10^5$$$.OutputFor each $$$t$$$ test case print a single integer $$$n$$$ — the size of the beautiful matrix.In the next $$$n$$$ lines print $$$n$$$ integers $$$b_{i, j}$$$ ($$$0 \\\\le b_{i, j} \\\\le k$$$; if position is empty, print $$$b_{i, j} = 0$$$) — the beautiful matrix $$$b$$$ you made up.ExampleInput2 3 4 2 0 0 1 15 4 2 4 8 1Output2 4 1 0 1 5 3 0 0 2 2 3 2 3 3 0 0 1 0 4 0 3 0 0 0 0 2 1 3 3 3NoteNote that $$$0$$$ in this problem represents a blank, not a number.Examples of possible answers for the first test case:$$$\\\\begin{array}{cc} 1 & 1 \\\\\\\\ 4 & 0 \\\\\\\\ \\\\end{array} \\\\hspace{0,5cm} \\\\begin{array}{cc} 1 & 4 \\\\\\\\ 1 & 0 \\\\\\\\ \\\\end{array} \\\\hspace{0,5cm} \\\\begin{array}{cc} 4 & 0 \\\\\\\\ 1 & 1 \\\\\\\\ \\\\end{array}$$$Examples ofnotbeautiful matrices for the first test case:$$$\\\\begin{array}{cc} 1 & 0 \\\\\\\\ 4 & 1 \\\\\\\\ \\\\end{array} \\\\hspace{0,5cm} \\\\begin{array}{cc} 4 & 1 \\\\\\\\ 7 & 1 \\\\\\\\ \\\\end{array} \\\\hspace{0,5cm} \\\\begin{array}{cc} 1 & 0 \\\\\\\\ 4 & 0 \\\\\\\\ \\\\end{array}$$$The example of thenotbeautiful matrix for the second test case:$$$\\\\begin{array}{cc} 3 & 4 & 0 & 2 & 2 \\\\\\\\ 3 & 2 & 3 & 3 & 0 \\\\\\\\ 0 & 1 & 0 & 0 & 0 \\\\\\\\ 3 & 0 & 0 & 0 & 0 \\\\\\\\ 2 & 1 & 3 & 3 & 3 \\\\\\\\ \\\\end{array}$$$Everything is okay, except the left-top submatrix contains $$$4$$$ numbers.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8be9eb82", "template_md5": "35d339e4", "result": "You are given two integers, $m$ and $k$.  $m$ represents the total number of cells in a square matrix. $k$ represents the number of distinct numbers you need to place in the matrix. You are also given an array of $k$ integers, $a_1, a_2, ..., a_k$, where $a_i$ represents how many times the $i$-th distinct number should appear in the matrix.\n\nYour task is to find the smallest possible size of a square matrix that satisfies the following conditions:\n\n1. The matrix contains all $k$ distinct numbers.\n2. Every $2 \\times 2$ submatrix of the matrix has at most 3 occupied cells.\n3. The numbers on each diagonal of a $2 \\times 2$ submatrix are distinct.\n\nOutput the size of the smallest matrix and the arrangement of the numbers in the matrix."}, {"prompt_md5": "552d0a1c", "template_md5": "465699a0", "result": "You are given a list of numbers. You need to create the smallest possible square matrix where:\n\n* Each number in the list appears exactly once.\n* No 2x2 square within the matrix has more than 3 filled cells.\n* The numbers along each diagonal of a 2x2 square are different. \n\n\nOutput the size of the smallest matrix and the matrix itself."}]}