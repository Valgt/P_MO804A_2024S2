{"uid": "521-E", "url": "https://codeforces.com/contest/521/problem/E", "tags": ["dfs and similar", " graphs"], "title": "521-E", "statement": "E. Cycling Citytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are organizing a cycling race on the streets of the city. The city containsnjunctions, some pairs of them are connected by roads; on each road you can move in any direction. No two roads connect the same pair of intersections, and no road connects the intersection with itself.You want the race to be open to both professional athletes and beginner cyclists, and that's why you will organize the race in three nominations: easy, moderate and difficult; each participant will choose the more suitable nomination. For each nomination you must choose the route — the chain of junctions, consecutively connected by roads. Routes must meet the following conditions:all three routes should start at the same intersection, and finish at the same intersection (place of start and finish can't be the same);to avoid collisions, no two routes can have common junctions (except for the common start and finish), and can not go along the same road (irrespective of the driving direction on the road for those two routes);no route must pass twice through the same intersection or visit the same road twice (irrespective of the driving direction on the road for the first and second time of visit).Preparing for the competition is about to begin, and you need to determine the routes of the race as quickly as possible. The length of the routes is not important, it is only important that all the given requirements were met.InputThe first line contains two integersnandm(1 ≤n,m≤ 2·105) — the number of intersections and roads, respectively.The followingmlines contain two integers — the numbers of the intersections connected by a road (the intersections are numbered starting with 1). It is guaranteed that each pair of intersections is connected by no more than one road, and no road connects the intersection to itself.Please note that it is not guaranteed that you can get from any junction to any other one by using the roads.OutputIf it is possible to create the routes, in the first line print \"YES\". In the next three lines print the descriptions of each of the three routes in the format \"lp1...pl\", wherelis the number of intersections in the route, andp1, ...,plare their numbers in the order they follow. The routes must meet all the requirements specified in the statement.If it is impossible to make the routes in accordance with the requirements, printNO.ExamplesInput4 41 22 33 44 1OutputNOInput5 61 21 31 42 53 54 5OutputYES3 5 4 13 5 3 13 5 2 1", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8ceba222", "template_md5": "35d339e4", "result": "You are organizing a cycling race with $n$ intersections and $m$ roads connecting them.  Each road connects two distinct intersections.  \n\nYou need to design three race routes: easy, moderate, and difficult.  All three routes must:\n\n* Start and finish at the same intersection.\n* Not share any intersections except for the start and finish.\n* Not use the same road.\n* Not visit the same intersection or road twice.\n\nDetermine if it is possible to create these three routes. If so, list the intersections in the order they are visited for each route. If not, output \"NO\". \n\n\nInput is given as:\n\n* The first line contains two integers, $n$ and $m$ ($1 \\le n, m \\le 2 \\cdot 10^5$), representing the number of intersections and roads, respectively.\n* The following $m$ lines each contain two integers, representing the two intersections connected by a road.\n\nOutput is:\n\n* \"YES\" if routes can be created.\n* Three lines, each listing the intersections in order for one of the routes.\n* \"NO\" if routes cannot be created."}, {"prompt_md5": "e685ce67", "template_md5": "465699a0", "result": "You need to create three different routes for a cycling race. All routes must start and finish at the same point. The routes cannot share any junctions (except the start and finish) or roads.  \n\nLet me know if you'd like help with the code!"}]}