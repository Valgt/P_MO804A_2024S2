{"uid": "1499-E", "url": "https://codeforces.com/contest/1499/problem/E", "tags": ["combinatorics", " dp", " math", " strings"], "title": "1499-E", "statement": "E. Chaotic Mergetime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given two strings $$$x$$$ and $$$y$$$, both consist only of lowercase Latin letters. Let $$$|s|$$$ be the length of string $$$s$$$.Let's call a sequence $$$a$$$ a merging sequence if it consists of exactly $$$|x|$$$ zeros and exactly $$$|y|$$$ ones in some order.A merge $$$z$$$ is produced from a sequence $$$a$$$ by the following rules:if $$$a_i=0$$$, then remove a letter from the beginning of $$$x$$$ and append it to the end of $$$z$$$;if $$$a_i=1$$$, then remove a letter from the beginning of $$$y$$$ and append it to the end of $$$z$$$.Two merging sequences $$$a$$$ and $$$b$$$ are different if there is some position $$$i$$$ such that $$$a_i \\\\neq b_i$$$.Let's call a string $$$z$$$chaoticif for all $$$i$$$ from $$$2$$$ to $$$|z|$$$ $$$z_{i-1} \\\\neq z_i$$$.Let $$$s[l,r]$$$ for some $$$1 \\\\le l \\\\le r \\\\le |s|$$$ be a substring of consecutive letters of $$$s$$$, starting from position $$$l$$$ and ending at position $$$r$$$ inclusive.Let $$$f(l_1, r_1, l_2, r_2)$$$ be the number of different merging sequences of $$$x[l_1,r_1]$$$ and $$$y[l_2,r_2]$$$ that producechaoticmerges. Note that only non-empty substrings of $$$x$$$ and $$$y$$$ are considered.Calculate $$$\\\\sum \\\\limits_{1 \\\\le l_1 \\\\le r_1 \\\\le |x| \\\\\\\\ 1 \\\\le l_2 \\\\le r_2 \\\\le |y|} f(l_1, r_1, l_2, r_2)$$$. Output the answer modulo $$$998\\\\,244\\\\,353$$$.InputThe first line contains a string $$$x$$$ ($$$1 \\\\le |x| \\\\le 1000$$$).The second line contains a string $$$y$$$ ($$$1 \\\\le |y| \\\\le 1000$$$).Both strings consist only of lowercase Latin letters.OutputPrint a single integer — the sum of $$$f(l_1, r_1, l_2, r_2)$$$ over $$$1 \\\\le l_1 \\\\le r_1 \\\\le |x|$$$ and $$$1 \\\\le l_2 \\\\le r_2 \\\\le |y|$$$ modulo $$$998\\\\,244\\\\,353$$$.ExamplesInputaaa bbOutput24Inputcode forcesOutput1574Inputaaaaa aaaOutput0Inputjustamassivetesttocheck howwellyouhandlemodulooperationsOutput667387032NoteIn the first example there are:$$$6$$$ pairs of substrings \"a\" and \"b\", each with valid merging sequences \"01\" and \"10\";$$$3$$$ pairs of substrings \"a\" and \"bb\", each with a valid merging sequence \"101\";$$$4$$$ pairs of substrings \"aa\" and \"b\", each with a valid merging sequence \"010\";$$$2$$$ pairs of substrings \"aa\" and \"bb\", each with valid merging sequences \"0101\" and \"1010\";$$$2$$$ pairs of substrings \"aaa\" and \"b\", each with no valid merging sequences;$$$1$$$ pair of substrings \"aaa\" and \"bb\" with a valid merging sequence \"01010\";Thus, the answer is $$$6 \\\\cdot 2 + 3 \\\\cdot 1 + 4 \\\\cdot 1 + 2 \\\\cdot 2 + 2 \\\\cdot 0 + 1 \\\\cdot 1 = 24$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b94851cd", "template_md5": "35d339e4", "result": "You are given two strings,  *x* and *y*.  \n\nA merging sequence is a sequence of 0s and 1s with the same length as *x* and *y* respectively.  \n\nYou create a merge *z* from a merging sequence *a* by:\n\n* If *a<sub>i</sub>* is 0, take a letter from the beginning of *x* and add it to the end of *z*.\n* If *a<sub>i</sub>* is 1, take a letter from the beginning of *y* and add it to the end of *z*.\n\nA merge *z* is chaotic if no two consecutive letters in *z* are the same.\n\nFor any two substrings *x[l<sub>1</sub>, r<sub>1</sub>]* and *y[l<sub>2</sub>, r<sub>2</sub>]* of *x* and *y* respectively, calculate the number of different merging sequences that produce a chaotic merge.\n\nFinally, sum up this number for all possible pairs of substrings and output the result modulo 998244353."}, {"prompt_md5": "c2ec19ac", "template_md5": "465699a0", "result": "You are given two strings.  Find the total number of ways to combine letters from the strings in a specific alternating pattern, where the resulting combined string has no repeating consecutive letters."}]}