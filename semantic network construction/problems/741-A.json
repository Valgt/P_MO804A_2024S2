{"uid": "741-A", "url": "https://codeforces.com/contest/741/problem/A", "tags": ["dfs and similar", " math"], "title": "741-A", "statement": "A. Arpa's loud Owf and Mehrdad's evil plantime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputAs you have noticed, there are lovely girls in Arpa’s land.People in Arpa's land are numbered from1ton. Everyone has exactly one crush,i-th person's crush is person with the numbercrushi.Someday Arpa shoutedOwfloudly from the top of the palace and a funny game started in Arpa's land. The rules are as follows.The game consists of rounds. Assume personxwants to start a round, he callscrushxand says: \"Oww...wwf\" (the letterwis repeatedttimes) and cuts off the phone immediately. Ift> 1thencrushxcallscrushcrushxand says: \"Oww...wwf\" (the letterwis repeatedt- 1times) and cuts off the phone immediately. The round continues until some person receives an \"Owf\" (t= 1). This person is called theJoon-Joonof the round. There can't be two rounds at the same time.Mehrdad has an evil plan to make the game more funny, he wants to find smallestt(t≥ 1) such that for each personx, ifxstarts some round andybecomes the Joon-Joon of the round, then by starting fromy,xwould become the Joon-Joon of the round. Find suchtfor Mehrdad if it's possible.Some strange fact in Arpa's land is that someone can be himself's crush (i.e.crushi=i).InputThe first line of input contains integern(1 ≤n≤ 100) — the number of people in Arpa's land.The second line containsnintegers,i-th of them iscrushi(1 ≤crushi≤n) — the number ofi-th person's crush.OutputIf there is notsatisfying the condition, print-1. Otherwise print such smallestt.ExamplesInput42 3 1 4Output3Input44 4 4 4Output-1Input42 1 4 3Output1NoteIn the first sample supposet= 3.If the first person starts some round:The first person calls the second person and says \"Owwwf\", then the second person calls the third person and says \"Owwf\", then the third person calls the first person and says \"Owf\", so the first person becomes Joon-Joon of the round. So the condition is satisfied ifxis1.The process is similar for the second and the third person.If the fourth person starts some round:The fourth person calls himself and says \"Owwwf\", then he calls himself again and says \"Owwf\", then he calls himself for another time and says \"Owf\", so the fourth person becomes Joon-Joon of the round. So the condition is satisfied whenxis4.In the last example if the first person starts a round, then the second person becomes the Joon-Joon, and vice versa.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "922a44d3", "template_md5": "35d339e4", "result": "There are $n$ people numbered from 1 to $n$. Each person $i$ has a crush, person $crushi$.\n\nA game is played in rounds.  A person can start a round by calling their crush and saying \"Oww...wwf\" where the letter \"w\" is repeated $t$ times. The person they called then calls their crush and repeats the process with $t-1$ repetitions of \"w\", and so on until someone receives \"Owf\" (where $t=1$). The person who receives \"Owf\" is the \"Joon-Joon\" of the round.\n\nMehrdad wants to find the smallest $t$ (where $t \\ge 1$) such that for every person $x$, if $x$ starts a round and $y$ becomes the Joon-Joon, then starting from $y$, $x$ would eventually become the Joon-Joon again.\n\nIf such a $t$ exists, print it. Otherwise, print -1."}, {"prompt_md5": "077bf0ee", "template_md5": "465699a0", "result": "Given a list of people and who each person has a crush on, find the smallest number 't' such that if person 'x' starts a chain of calls to their crush, and 'y' becomes the final person in the chain, then starting from 'y', 'x' can also become the final person in the chain. If no such 't' exists, output -1."}]}