{"uid": "612-E", "url": "https://codeforces.com/contest/612/problem/E", "tags": ["combinatorics", " constructive algorithms", " dfs and similar", " graphs", " math"], "title": "612-E", "statement": "E. Square Root of Permutationtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputApermutationof lengthnis an array containing each integer from1tonexactly once. For example,q= [4, 5, 1, 2, 3]is a permutation. For the permutationqthe square of permutation is the permutationpthatp[i] =q[q[i]]for eachi= 1...n. For example, the square ofq= [4, 5, 1, 2, 3]isp=q2= [2, 3, 4, 5, 1].This problem is about the inverse operation: given the permutationpyou task is to find such permutationqthatq2=p. If there are several suchqfind any of them.InputThe first line contains integern(1 ≤n≤ 106) — the number of elements in permutationp.The second line containsndistinct integersp1,p2, ...,pn(1 ≤pi≤n) — the elements of permutationp.OutputIf there is no permutationqsuch thatq2=pprint the number \"-1\".If the answer exists print it. The only line should containndifferent integersqi(1 ≤qi≤n) — the elements of the permutationq. If there are several solutions print any of them.ExamplesInput42 1 4 3Output3 4 2 1Input42 1 3 4Output-1Input52 3 4 5 1Output4 5 1 2 3", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "707819b7", "template_md5": "35d339e4", "result": "You are given a permutation $p$ of length $n$. A permutation is an arrangement of numbers from 1 to $n$ in a specific order.  \n\nThe square of a permutation $q$ is a new permutation $p$ where $p[i] = q[q[i]]$ for each index $i$ from 1 to $n$.\n\nYour task is to find a permutation $q$ such that $q^2 = p$. If no such permutation $q$ exists, print \"-1\". Otherwise, print any permutation $q$ that satisfies the condition."}, {"prompt_md5": "d8b8887d", "template_md5": "465699a0", "result": "You are given a list of numbers.  Find a different list of numbers that, when squared (each number in the list is replaced by the number at that position in the original list), results in the given list. If no such list exists, print -1."}]}