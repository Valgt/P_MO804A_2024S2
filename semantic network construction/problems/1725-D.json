{"uid": "1725-D", "url": "https://codeforces.com/contest/1725/problem/D", "tags": ["binary search", " bitmasks", " math"], "title": "1725-D", "statement": "D. Deducing Sortabilitytime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputLet's say Pak Chanek has an array $$$A$$$ consisting of $$$N$$$ positive integers. Pak Chanek will do a number of operations. In each operation, Pak Chanek will do the following:Choose an index $$$p$$$ ($$$1 \\\\leq p \\\\leq N$$$).Let $$$c$$$ be the number of operations that have been doneon index $$$p$$$before this operation.Decrease the value of $$$A_p$$$ by $$$2^c$$$.Multiply the value of $$$A_p$$$ by $$$2$$$.After each operation, all elements of $$$A$$$ must bepositive integers.An array $$$A$$$ is said to be sortable if and only if Pak Chanek can do zero or more operations so that $$$A_1 < A_2 < A_3 < A_4 < \\\\ldots < A_N$$$.Pak Chanek must find an array $$$A$$$ that is sortable with length $$$N$$$ such that $$$A_1 + A_2 + A_3 + A_4 + \\\\ldots + A_N$$$ is the minimum possible. If there are more than one possibilities, Pak Chanek must choose the array that islexicographically minimumamong them.Pak Chanek must solve the following things:Pak Chanek must print the value of $$$A_1 + A_2 + A_3 + A_4 + \\\\ldots + A_N$$$ for that array.$$$Q$$$ questions will be given. For the $$$i$$$-th question, an integer $$$P_i$$$ is given. Pak Chanek must print the value of $$$A_{P_i}$$$.Help Pak Chanek solve the problem.Note: an array $$$B$$$ of size $$$N$$$ is said to be lexicographically smaller than an array $$$C$$$ that is also of size $$$N$$$ if and only if there exists an index $$$i$$$ such that $$$B_i < C_i$$$ and for each $$$j < i$$$, $$$B_j = C_j$$$.InputThe first line contains two integers $$$N$$$ and $$$Q$$$ ($$$1 \\\\leq N \\\\leq 10^9$$$, $$$0 \\\\leq Q \\\\leq \\\\min(N, 10^5)$$$) — the required length of array $$$A$$$ and the number of questions.The $$$i$$$-th of the next $$$Q$$$ lines contains a single integer $$$P_i$$$ ($$$1 \\\\leq P_1 < P_2 < \\\\ldots < P_Q \\\\leq N$$$) — the index asked in the $$$i$$$-th question.OutputPrint $$$Q+1$$$ lines. The $$$1$$$-st line contains an integer representing $$$A_1 + A_2 + A_3 + A_4 + \\\\ldots + A_N$$$. For each $$$1 \\\\leq i \\\\leq Q$$$, the $$$(i+1)$$$-th line contains an integer representing $$$A_{P_i}$$$.ExamplesInput6 3 1 4 5Output17 1 3 4Input1 0Output1NoteIn the first example, the array $$$A$$$ obtained is $$$[1, 2, 3, 3, 4, 4]$$$. We can see that the array is sortable by doing the following operations:Choose index $$$5$$$, then $$$A = [1, 2, 3, 3, 6, 4]$$$.Choose index $$$6$$$, then $$$A = [1, 2, 3, 3, 6, 6]$$$.Choose index $$$4$$$, then $$$A = [1, 2, 3, 4, 6, 6]$$$.Choose index $$$6$$$, then $$$A = [1, 2, 3, 4, 6, 8]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d9a34414", "template_md5": "35d339e4", "result": "You are given an integer $N$ and $Q$ queries. \n\n**Task:**\n\n1. **Find an array** of length $N$ with positive integers, where the sum of all elements is minimized. This array must be sortable, meaning you can rearrange its elements into ascending order by performing the following operation any number of times:\n\n   - Choose an index $p$ (between 1 and $N$).\n   - Let $c$ be the number of times index $p$ has been used in this operation before.\n   - Decrease the value at index $p$ by $2^c$.\n   - Multiply the value at index $p$ by 2.\n\n2. **Output:**\n   - The sum of all elements in the found array.\n   - For each query $i$, output the value at index $P_i$ in the found array.\n\n**Constraints:**\n\n- $1 \\le N \\le 10^9$\n- $0 \\le Q \\le \\min(N, 10^5)$\n- $1 \\le P_1 < P_2 < ... < P_Q \\le N$ \n\n\n\nLet me know if you'd like help with any specific part of the problem or have any further questions."}, {"prompt_md5": "265c9319", "template_md5": "465699a0", "result": "You are given a target length for an array.  You need to find the smallest possible sum of the elements in the array, while ensuring the array can be sorted by repeatedly decreasing an element by a power of 2 and then doubling it.  You are then asked to find the value of specific elements in this array."}]}