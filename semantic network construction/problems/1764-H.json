{"uid": "1764-H", "url": "https://codeforces.com/contest/1764/problem/H", "tags": ["data structures"], "title": "1764-H", "statement": "H. Doremy's Paint 2time limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputDoremy has $$$n$$$ buckets of paint which is represented by an array $$$a$$$ of length $$$n$$$. Bucket $$$i$$$ contains paint with color $$$a_i$$$. Initially, $$$a_i=i$$$.Doremy has $$$m$$$ segments $$$[l_i,r_i]$$$ ($$$1 \\\\le l_i \\\\le r_i \\\\le n$$$). Each segment describes an operation. Operation $$$i$$$ is performed as follows:For each $$$j$$$ such that $$$l_i < j \\\\leq r_i$$$, set $$$a_j := a_{l_i}$$$.Doremy also selects an integer $$$k$$$. She wants to know for each integer $$$x$$$ from $$$0$$$ to $$$m-1$$$, the number of distinct colors in the array after performing operations $$$x \\\\bmod m +1, (x+1) \\\\bmod m + 1, \\\\ldots, (x+k-1) \\\\bmod m +1$$$. Can you help her calculate these values? Note that for each $$$x$$$ individually we start from the initial array and perform only the given $$$k$$$ operations in the given order.InputThe first line of input contains three integers $$$n$$$, $$$m$$$, and $$$k$$$ ($$$1\\\\le n,m\\\\le 2\\\\cdot 10^5$$$, $$$1 \\\\le k \\\\le m$$$) — the length of the array $$$a$$$, the total number of operations, and the integer that Doremy selects.The $$$i$$$-th line of the following $$$m$$$ lines contains two integers $$$l_i$$$, $$$r_i$$$ ($$$1\\\\le l_i\\\\le r_i\\\\le n$$$) — the bounds of the $$$i$$$-th segment.OutputOutput $$$m$$$ integers. The $$$(x+1)$$$-th integer should be the number of distinct colors in the array if we start from the initial array and perform operations $$$x \\\\bmod m +1, (x+1) \\\\bmod m + 1, \\\\ldots, (x+k-1) \\\\bmod m +1$$$.ExamplesInput7 5 5 3 5 2 3 4 6 5 7 1 2Output3 3 3 3 2Input10 9 4 1 1 2 3 3 4 7 9 6 8 5 7 2 4 9 10 1 3Output6 6 7 6 5 5 7 7 7NoteIn the first test case, the picture below shows the resulting array for the values of $$$x=0,1,2$$$ respectively.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f9f034c7", "template_md5": "35d339e4", "result": "You are given an array of length $n$ with initial values $a_i = i$. There are $m$ operations, each defined by a segment $[l_i, r_i]$.  Each operation sets all elements in the array from index $l_i$ to $r_i$ to the value $a_{l_i}$.\n\nYou are also given an integer $k$.  For each integer $x$ from 0 to $m-1$, determine the number of distinct colors in the array after performing the following operations:\n\n* $x \\bmod m + 1$\n* $(x+1) \\bmod m + 1$\n* ...\n* $(x+k-1) \\bmod m + 1$\n\n**Input:**\n\n* The first line contains three integers: $n$, $m$, and $k$.\n* The next $m$ lines each contain two integers: $l_i$ and $r_i$.\n\n**Output:**\n\nOutput $m$ integers. The $i$-th integer should be the number of distinct colors in the array after performing the operations described above for $x = i-1$."}, {"prompt_md5": "c6c7fa18", "template_md5": "465699a0", "result": "You are given an array of numbers. There are multiple operations, each operation changes a range of numbers in the array to the same value. You need to find the number of unique values in the array after performing a specific sequence of operations for each number from 0 to m-1."}]}