{"uid": "1582-G", "url": "https://codeforces.com/contest/1582/problem/G", "tags": ["data structures", " number theory"], "title": "1582-G", "statement": "G. Kuzya and Homeworktime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputKuzya started going to school. He was given math homework in which he was given an array $$$a$$$ of length $$$n$$$ and an array of symbols $$$b$$$ of length $$$n$$$, consisting of symbols '*' and '/'.Let's denote apath of calculationsfor a segment $$$[l; r]$$$ ($$$1 \\\\le l \\\\le r \\\\le n$$$) in the following way:Let $$$x=1$$$ initially. For every $$$i$$$ from $$$l$$$ to $$$r$$$ we will consequently do the following: if $$$b_i=$$$ '*', $$$x=x*a_i$$$, and if $$$b_i=$$$ '/', then $$$x=\\\\frac{x}{a_i}$$$. Let's calla path of calculationsfor the segment $$$[l; r]$$$ a list of all $$$x$$$ that we got during the calculations (the number of them is exactly $$$r - l + 1$$$).For example, let $$$a=[7,$$$ $$$12,$$$ $$$3,$$$ $$$5,$$$ $$$4,$$$ $$$10,$$$ $$$9]$$$, $$$b=[/,$$$ $$$*,$$$ $$$/,$$$ $$$/,$$$ $$$/,$$$ $$$*,$$$ $$$*]$$$, $$$l=2$$$, $$$r=6$$$, then the path of calculations for that segment is $$$[12,$$$ $$$4,$$$ $$$0.8,$$$ $$$0.2,$$$ $$$2]$$$.Let's call a segment $$$[l;r]$$$simpleif the path of calculations for it containsonly integer numbers.Kuzya needs to find the number of simple segments $$$[l;r]$$$ ($$$1 \\\\le l \\\\le r \\\\le n$$$). Since he obviously has no time and no interest to do the calculations for each option, he asked you to write a program to get to find that number!InputThe first line contains a single integer $$$n$$$ ($$$2 \\\\le n \\\\le 10^6$$$).The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\ldots, a_n$$$ ($$$1 \\\\le a_i \\\\le 10^6$$$).The third line contains $$$n$$$ symbols without spaces between them — the array $$$b_1, b_2 \\\\ldots b_n$$$ ($$$b_i=$$$ '/' or $$$b_i=$$$ '*' for every $$$1 \\\\le i \\\\le n$$$).OutputPrint a single integer — the number of simple segments $$$[l;r]$$$.ExamplesInput3 1 2 3 */*Output2Input7 6 4 10 1 2 15 1 */*/*//Output8", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "aa0790e5", "template_md5": "35d339e4", "result": "You are given an array of integers $a$ of length $n$ and an array of symbols $b$ of length $n$, where each symbol is either '*' or '/'.\n\nFor a segment $[l, r]$ of the array, calculate the following:\n\n* Start with $x = 1$.\n* For each index $i$ from $l$ to $r$, do the following:\n    * If $b_i$ is '*', then $x = x * a_i$.\n    * If $b_i$ is '/', then $x = x / a_i$.\n\nThe path of calculations for the segment $[l, r]$ is the list of all values of $x$ obtained during these calculations.\n\nA segment $[l, r]$ is considered *simple* if the path of calculations for that segment contains only integers.\n\nFind the number of simple segments $[l, r]$ where $1 \\le l \\le r \\le n$."}, {"prompt_md5": "045c140a", "template_md5": "465699a0", "result": "You are given two arrays of equal length. The first array contains numbers, and the second array contains either '*' or '/'.  \n\nFor a given segment of the arrays, you perform a calculation:\n\n* If the symbol is '*', multiply the current result by the number.\n* If the symbol is '/', divide the current result by the number.\n\nYou need to find the number of segments where the resulting calculations always produce whole numbers."}]}