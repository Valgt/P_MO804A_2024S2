{"uid": "1850-H", "url": "https://codeforces.com/contest/1850/problem/H", "tags": ["dfs and similar", " dsu", " graphs", " greedy", " implementation"], "title": "1850-H", "statement": "H. The Third Lettertime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputIn order to win his toughest battle, Mircea came up with a great strategy for his army. He has $$$n$$$ soldiers and decided to arrange them in a certain way in camps. Each soldier has to belong to exactly one camp, and there is one camp at each integer point on the $$$x$$$-axis (at points $$$\\\\cdots, -2, -1, 0, 1, 2, \\\\cdots$$$).The strategy consists of $$$m$$$ conditions. Condition $$$i$$$ tells that soldier $$$a_i$$$ should belong to a camp that is situated $$$d_i$$$ meters in front of the camp that person $$$b_i$$$ belongs to. (If $$$d_i < 0$$$, then $$$a_i$$$'s camp should be $$$-d_i$$$ meters behind $$$b_i$$$'s camp.)Now, Mircea wonders if there exists a partition of soldiers that respects the condition and he asks for your help! Answer \"YES\" if there is a partition of the $$$n$$$ soldiers that satisfiesallof the $$$m$$$ conditions and \"NO\" otherwise.Note that two different soldiersmaybe placed in the same camp.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 100$$$) — the number of test cases.The first line of each test case contains two positive integers $$$n$$$ and $$$m$$$ ($$$2 \\\\leq n \\\\leq 2 \\\\cdot 10^5$$$; $$$1 \\\\leq m \\\\leq n$$$) — the number of soldiers, and the number of conditions respectively.Then $$$m$$$ lines follow, each of them containing $$$3$$$ integers: $$$a_i$$$, $$$b_i$$$, $$$d_i$$$ ($$$a_i \\\\neq b_i$$$; $$$1 \\\\leq a_i, b_i \\\\leq n$$$; $$$-10^9 \\\\leq d_i \\\\leq 10^9$$$) — denoting the conditions explained in the statement. Note that if $$$d_i$$$ is positive, $$$a_i$$$ should be $$$d_i$$$ meters in front of $$$b_i$$$ and if it is negative, $$$a_i$$$ should be $$$-d_i$$$ meters behind $$$b_i$$$.Note that the sum of $$$n$$$ over all test cases doesn't exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, output \"YES\" if there is an arrangement of the $$$n$$$ soldiers that satisfiesallof the $$$m$$$ conditions and \"NO\" otherwise.ExampleInput45 31 2 22 3 44 2 -66 51 2 22 3 44 2 -65 4 43 5 1002 21 2 51 2 44 11 2 3OutputYES NO NO YESNoteFor the first test case, we can partition the soldiers into camps in the following way: soldier:Soldier $$$1$$$ in the camp with the coordinate $$$x = 3$$$.Soldier $$$2$$$ in the camp with the coordinate $$$x = 5$$$.Soldier $$$3$$$ in the camp with the coordinate $$$x = 9$$$.Soldier $$$4$$$ in the camp with the coordinate $$$x = 11$$$.For the second test case, there is no partition that can satisfy all the constraints at the same time.For the third test case, there is no partition that satisfies all the constraints since we get contradictory information about the same pair.For the fourth test case, in order to satisfy the only condition, a possible partition is:Soldier $$$1$$$ in the camp with the coordinate $$$x = 10$$$.Soldier $$$2$$$ in the camp with the coordinate $$$x = 13$$$.Soldier $$$3$$$ in the camp with the coordinate $$$x = -2023$$$.Soldier $$$4$$$ in the camp with the coordinate $$$x = -2023$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "007a7ef6", "template_md5": "35d339e4", "result": "You are given $n$ soldiers and $m$ conditions. Each condition specifies that soldier $a_i$ must be placed in a camp a certain distance $d_i$ away from the camp that soldier $b_i$ is placed in.  \n\nThe distance can be positive (meaning $a_i$ is in front of $b_i$) or negative (meaning $a_i$ is behind $b_i$).\n\nDetermine if it is possible to arrange the soldiers into camps so that all $m$ conditions are satisfied. \n\n**Input:**\n\n* $t$ - the number of test cases\n* For each test case:\n    * $n$ - the number of soldiers\n    * $m$ - the number of conditions\n    * $m$ lines, each containing three integers: $a_i$, $b_i$, $d_i$\n\n**Output:**\n\n* For each test case, output \"YES\" if it is possible to satisfy all conditions, and \"NO\" otherwise."}, {"prompt_md5": "6fd6c9cd", "template_md5": "465699a0", "result": "You are given a list of pairs of people and a distance between them.  Determine if it's possible to arrange these people into groups so that the distance between each pair in the list is maintained."}]}