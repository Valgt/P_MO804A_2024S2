{"uid": "1444-E", "url": "https://codeforces.com/contest/1444/problem/E", "tags": ["brute force", " dfs and similar", " dp", " interactive", " trees"], "title": "1444-E", "statement": "E. Finding the Vertextime limit per test1 secondmemory limit per test512 megabytesinputstandard inputoutputstandard outputThis is an interactive problem.You are given a tree — connected undirected graph without cycles. One vertex of the tree is special, and you have to find which one. You can ask questions in the following form: given an edge of the tree, which endpoint is closer to the special vertex, meaning which endpoint's shortest path to the special vertex contains fewer edges. You have to find the special vertex by asking the minimum number of questions in the worst case for a given tree.Please note that the special vertex might not be fixed by the interactor in advance: it might change the vertex to any other one, with the requirement of being consistent with the previously given answers.InputYou are given an integer $$$n$$$ ($$$2 \\\\le n \\\\le 100$$$) — the number of vertices in a tree.The folloiwing $$$n-1$$$ lines contain two integers each, $$$u$$$ and $$$v$$$ ($$$1 \\\\le u, v \\\\le n$$$), that denote an edge in the tree connecting $$$u$$$ and $$$v$$$. It is guaranteed that the given edges form a tree.InteractionAfter reading the input data, one can start making queries. There are two possible queries:\"? $$$u$$$ $$$v$$$\" — to ask for an edge $$$(u, v)$$$ ($$$1 \\\\le u, v \\\\le n$$$) which of the endpoints is closer to the special vertex. The answer to this query is one of the endpoints. Note that, $$$u$$$ and $$$v$$$ must be connected by an edge, and hence they can not have the same distance to the special vertex.\"! $$$u$$$\" — to indicate that you found the special vertex. After the program does that, it must immediately terminate.Do not forget to output the end of line and flush the output. Otherwise you will getIdleness limit exceededverdict. To flush the output, you can use:fflush(stdout)orcout.flush()inC++;System.out.flush()inJava;flush(output)inPascal;sys.stdout.flush()inPython;see documentation for other languages.In case you ask more queries than needed in the worst case for a given tree, you will get verdictWrong answer.ExamplesInput5 1 2 2 3 3 4 4 5 3 2 1Output? 3 4 ? 2 3 ? 1 2 ! 1Input5 2 1 3 1 4 1 5 1 1 1 4Output? 1 2 ? 1 3 ? 1 4 ! 4NoteHacks are forbidden in this task.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1b471ff9", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices ($2 \\le n \\le 100$).  You can ask questions about edges in the tree to determine which endpoint of the edge is closer to a special vertex.  \n\n**Here's how the questions work:**\n\n* You ask a question in the form \"? $u$ $v$\", where $u$ and $v$ are vertices connected by an edge.\n* The answer to the question is one of the vertices ($u$ or $v$), indicating which endpoint is closer to the special vertex.\n\n**Your goal:**\n\nFind the special vertex by asking the minimum number of questions possible in the worst case.\n\n**Input:**\n\n* The first line contains an integer $n$, the number of vertices.\n* The next $n-1$ lines each contain two integers $u$ and $v$, representing an edge between vertices $u$ and $v$.\n\n**Output:**\n\n* To ask a question, use the format \"? $u$ $v$\".\n* To indicate that you have found the special vertex, use the format \"! $u$\", where $u$ is the special vertex.\n\n**Constraints:**\n\n* You must ask questions until you find the special vertex.\n* You cannot ask questions about edges that are not in the tree.\n* You will receive a \"Wrong answer\" verdict if you ask more questions than necessary in the worst case.\n\n\n\nLet me know if you have any other questions."}, {"prompt_md5": "dc309335", "template_md5": "465699a0", "result": "You are given a tree (a connected graph with no cycles). You need to find the special vertex in the tree by asking questions.  Each question asks about the closer endpoint of a given edge to the special vertex. You win by correctly identifying the special vertex.  You need to find the minimum number of questions needed in the worst case."}]}