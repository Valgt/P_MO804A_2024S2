{"uid": "1517-D", "url": "https://codeforces.com/contest/1517/problem/D", "tags": ["dp", " graphs", " shortest paths"], "title": "1517-D", "statement": "D. Explorer Spacetime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are wandering in the explorer space of the 2050 Conference.The explorer space can be viewed as an undirected weighted grid graph with size $$$n\\\\times m$$$. The set of vertices is $$$\\\\{(i, j)|1\\\\le i\\\\le n, 1\\\\le j\\\\le m\\\\}$$$. Two vertices $$$(i_1,j_1)$$$ and $$$(i_2, j_2)$$$ are connected by an edge if and only if $$$|i_1-i_2|+|j_1-j_2|=1$$$.At each step, you can walk to any vertex connected by an edge with your current vertex. On each edge, there are some number of exhibits. Since you already know all the exhibits, whenever you go through an edge containing $$$x$$$ exhibits, yourborednessincreases by $$$x$$$.For each starting vertex $$$(i, j)$$$, please answer the following question: What is the minimum possible boredness if you walk from $$$(i, j)$$$ and go back to it after exactly $$$k$$$ steps?You can use any edge for multiple times but the boredness on those edges are also counted for multiple times. At each step, you cannot stay on your current vertex. You also cannot change direction while going through an edge. Before going back to your starting vertex $$$(i, j)$$$ after $$$k$$$ steps, you can visit $$$(i, j)$$$ (or not) freely.InputThe first line contains three integers $$$n$$$, $$$m$$$ and $$$k$$$ ($$$2\\\\leq n, m\\\\leq 500, 1\\\\leq k\\\\leq 20$$$).The $$$j$$$-th number ($$$1\\\\le j \\\\le m - 1$$$) in the $$$i$$$-th line of the following $$$n$$$ lines is the number of exibits on the edge between vertex $$$(i, j)$$$ and vertex $$$(i, j+1)$$$.The $$$j$$$-th number ($$$1\\\\le j\\\\le m$$$) in the $$$i$$$-th line of the following $$$n-1$$$ lines is the number of exibits on the edge between vertex $$$(i, j)$$$ and vertex $$$(i+1, j)$$$.The number of exhibits on each edge is an integer between $$$1$$$ and $$$10^6$$$.OutputOutput $$$n$$$ lines with $$$m$$$ numbers each. The $$$j$$$-th number in the $$$i$$$-th line, $$$answer_{ij}$$$, should be the minimum possible boredness if you walk from $$$(i, j)$$$ and go back to it after exactly $$$k$$$ steps.If you cannot go back to vertex $$$(i, j)$$$ after exactly $$$k$$$ steps, $$$answer_{ij}$$$ should be $$$-1$$$.ExamplesInput3 3 10 1 1 1 1 1 1 1 1 1 1 1 1Output10 10 10 10 10 10 10 10 10Input2 2 4 1 3 4 2Output4 4 10 6Input2 2 3 1 2 3 4Output-1 -1 -1 -1NoteIn the first example, the answer is always $$$10$$$ no matter how you walk.In the second example, $$$answer_{21} = 10$$$, the path is $$$(2,1) \\\\to (1,1) \\\\to (1,2) \\\\to (2,2) \\\\to (2,1)$$$, the boredness is $$$4 + 1 + 2 + 3 = 10$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b95ae237", "template_md5": "35d339e4", "result": "You are given a grid of size $n \\times m$. Each cell in the grid has a number representing the number of exhibits. You can move between cells horizontally or vertically, but not diagonally.  \n\nFor each cell $(i, j)$ in the grid, find the minimum number of exhibits you will encounter if you start at $(i, j)$ and return to $(i, j)$ after exactly $k$ steps. You can visit a cell multiple times, and you must move to a different cell at each step. If it's impossible to return to $(i, j)$ after $k$ steps, output $-1$. \n\n**Input:**\n\n* The first line contains three integers: $n$, $m$, and $k$.\n* The next $n$ lines each contain $m-1$ integers representing the number of exhibits on the edges connecting cells horizontally.\n* The next $n-1$ lines each contain $m$ integers representing the number of exhibits on the edges connecting cells vertically.\n\n**Output:**\n\n* Output $n$ lines, each containing $m$ integers. The $j$-th integer in the $i$-th line represents the minimum number of exhibits encountered starting at cell $(i, j)$ and returning to $(i, j)$ after $k$ steps."}, {"prompt_md5": "5bf2d132", "template_md5": "465699a0", "result": "You are on a grid. Each cell has a number representing the \"boredom\" you get for moving to a neighboring cell.  You start at a given cell and must walk for a specific number of steps, returning to your starting cell. What is the minimum total boredom you can achieve?"}]}