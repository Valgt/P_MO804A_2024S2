{"uid": "995-E", "url": "https://codeforces.com/contest/995/problem/E", "tags": ["divide and conquer", " graphs", " meet-in-the-middle", " number theory"], "title": "995-E", "statement": "E. Number Clickertime limit per test5 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAllen is playing Number Clicker on his phone.He starts with an integer $$$u$$$ on the screen. Every second, he can press one of 3 buttons.Turn $$$u \\\\to u+1 \\\\pmod{p}$$$.Turn $$$u \\\\to u+p-1 \\\\pmod{p}$$$.Turn $$$u \\\\to u^{p-2} \\\\pmod{p}$$$.Allen wants to press at most 200 buttons and end up with $$$v$$$ on the screen. Help him!InputThe first line of the input contains 3 positive integers: $$$u, v, p$$$ ($$$0 \\\\le u, v \\\\le p-1$$$, $$$3 \\\\le p \\\\le 10^9 + 9$$$). $$$p$$$ is guaranteed to be prime.OutputOn the first line, print a single integer $$$\\\\ell$$$, the number of button presses. On the second line, print integers $$$c_1, \\\\dots, c_\\\\ell$$$, the button presses. For $$$1 \\\\le i \\\\le \\\\ell$$$, $$$1 \\\\le c_i \\\\le 3$$$.We can show that the answer always exists.ExamplesInput1 3 5Output21 1Input3 2 5Output13NoteIn the first example the integer on the screen changes as $$$1 \\\\to 2 \\\\to 3$$$.In the second example the integer on the screen changes as $$$3 \\\\to 2$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "cf562693", "template_md5": "35d339e4", "result": "You are given three integers: $u$, $v$, and $p$.  $p$ is a prime number.\n\nYou start with the number $u$ and can repeatedly press one of three buttons:\n\n1. Add 1 to the current number modulo $p$ ($u \\to u+1 \\pmod{p}$)\n2. Subtract 1 from $p$ and add it to the current number modulo $p$ ($u \\to u + p-1 \\pmod{p}$)\n3. Calculate the current number raised to the power of $(p-2)$ modulo $p$ ($u \\to u^{p-2} \\pmod{p}$)\n\nFind the minimum number of button presses needed to reach the target number $v$.  \n\nOutput the minimum number of button presses and a sequence of button presses (1, 2, or 3) that achieve this."}, {"prompt_md5": "12bda0ab", "template_md5": "465699a0", "result": "You are given three numbers: a starting number, a target number, and a prime number. You can perform one of three operations on the starting number each time: add 1, subtract 1 (wrapping around), or raise it to the power of (prime number - 2) (wrapping around). Find the fewest number of operations needed to reach the target number."}]}