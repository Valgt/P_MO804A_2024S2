{"uid": "1638-D", "url": "https://codeforces.com/contest/1638/problem/D", "tags": ["constructive algorithms", " data structures", " greedy", " implementation"], "title": "1638-D", "statement": "D. Big Brushtime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou found a painting on a canvas of size $$$n \\\\times m$$$. The canvas can be represented as a grid with $$$n$$$ rows and $$$m$$$ columns. Each cell has some color. Cell $$$(i, j)$$$ has color $$$c_{i,j}$$$.Near the painting you also found a brush in the shape of a $$$2 \\\\times 2$$$ square, so the canvas was surely painted in the following way: initially, no cell was painted. Then, the following painting operation has been performed some number of times:Choose two integers $$$i$$$ and $$$j$$$ ($$$1 \\\\le i < n$$$, $$$1 \\\\le j < m$$$) and some color $$$k$$$ ($$$1 \\\\le k \\\\le nm$$$).Paint cells $$$(i, j)$$$, $$$(i + 1, j)$$$, $$$(i, j + 1)$$$, $$$(i + 1, j + 1)$$$ in color $$$k$$$.All cells must be painted at least once. A cell can be painted multiple times. In this case, its final color will be the last one.Find any sequence of at most $$$nm$$$ operations that could have led to the painting you found or state that it's impossible.InputThe first line of input contains two integers $$$n$$$ and $$$m$$$ ($$$2 \\\\le n, m \\\\le 1000$$$) — the dimensions of the canvas.On the $$$i$$$-th of the next $$$n$$$ lines of input, there will be $$$m$$$ integers. The $$$j$$$-th of them is $$$a_{i,j}$$$ ($$$1 \\\\le a_{i,j} \\\\le nm$$$) — the color of cell $$$(i, j)$$$.OutputIf there is no solution, print a single integer $$$-1$$$.Otherwise, on the first line, print one integer $$$q$$$ ($$$1 \\\\le q \\\\le nm$$$) — the number of operations.Next, print the operations in order. On the $$$k$$$-th of the next $$$q$$$ lines, print three integers $$$i$$$, $$$j$$$, $$$c$$$ ($$$1 \\\\le i < n$$$, $$$1 \\\\le j < m$$$, $$$1 \\\\le c \\\\le nm$$$) — the description of the $$$k$$$-th operation.If there are multiple solutions, print any.ExamplesInput4 4 5 5 3 3 1 1 5 3 2 2 5 4 2 2 4 4Output6 1 3 3 3 3 4 2 2 5 1 1 5 2 1 1 3 1 2Input3 4 1 1 1 1 2 2 3 1 2 2 1 1Output-1NoteIn the first test case, the solution is not unique. Here's one of them:In the second test case, there is no way one could obtain the given painting, thus the answer is $$$-1$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d5c74789", "template_md5": "35d339e4", "result": "You are given a grid of size $n \\times m$ representing a painting. Each cell in the grid has a color represented by an integer from 1 to $nm$. \n\nYou are also given a 2x2 brush. The painting was created by repeatedly using this brush to paint a 2x2 square of cells with a single color. \n\nYour task is to determine if it's possible to create the given painting using this brush, and if so, find one sequence of brush strokes that could have produced it. \n\nIf it's impossible to create the painting with the given brush, output -1. \n\n\nOtherwise, output the number of brush strokes required and then list each stroke. Each stroke is described by three integers: the row, the column, and the color used."}, {"prompt_md5": "76ffc806", "template_md5": "465699a0", "result": "You are given a grid of colors.  You can paint a 2x2 square of cells with a single color.  Find a sequence of these paint operations that could have created the given grid, or say it's impossible."}]}