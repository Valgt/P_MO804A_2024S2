{"uid": "1740-F", "url": "https://codeforces.com/contest/1740/problem/F", "tags": ["combinatorics", " dp", " math"], "title": "1740-F", "statement": "F. Conditional Mixtime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputPak Chanek is given an array $$$a$$$ of $$$n$$$ integers. For each $$$i$$$ ($$$1 \\\\leq i \\\\leq n$$$), Pak Chanek will write the one-element set $$$\\\\{a_i\\\\}$$$ on a whiteboard.After that, in one operation, Pak Chanek may do the following:Choose two different sets $$$S$$$ and $$$T$$$ on the whiteboard such that $$$S \\\\cap T = \\\\varnothing$$$ ($$$S$$$ and $$$T$$$ do not have any common elements).Erase $$$S$$$ and $$$T$$$ from the whiteboard and write $$$S \\\\cup T$$$ (the union of $$$S$$$ and $$$T$$$) onto the whiteboard.After performing zero or more operations, Pak Chanek will construct a multiset $$$M$$$ containing the sizes of all sets written on the whiteboard. In other words, each element in $$$M$$$ corresponds to the size of a set after the operations.How many distinct$$$^\\\\dagger$$$ multisets $$$M$$$ can be created by this process? Since the answer may be large, output it modulo $$$998\\\\,244\\\\,353$$$.$$$^\\\\dagger$$$ Multisets $$$B$$$ and $$$C$$$ are different if and only if there exists a value $$$k$$$ such that the number of elements with value $$$k$$$ in $$$B$$$ is different than the number of elements with value $$$k$$$ in $$$C$$$.InputThe first line contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 2000$$$).The second line contains $$$n$$$ integers $$$a_1, a_2, \\\\ldots, a_n$$$ ($$$1 \\\\leq a_i \\\\leq n$$$).OutputOutput the number of distinct multisets $$$M$$$ modulo $$$998\\\\,244\\\\,353$$$.ExamplesInput6 1 1 2 1 4 3Output7Input7 3 5 4 3 7 4 5Output11NoteIn the first example, the possible multisets $$$M$$$ are $$$\\\\{1,1,1,1,1,1\\\\}$$$, $$$\\\\{1,1,1,1,2\\\\}$$$, $$$\\\\{1,1,1,3\\\\}$$$, $$$\\\\{1,1,2,2\\\\}$$$, $$$\\\\{1,1,4\\\\}$$$, $$$\\\\{1,2,3\\\\}$$$, and $$$\\\\{2,2,2\\\\}$$$.As an example, let's consider a possible sequence of operations.In the beginning, the sets are $$$\\\\{1\\\\}$$$, $$$\\\\{1\\\\}$$$, $$$\\\\{2\\\\}$$$, $$$\\\\{1\\\\}$$$, $$$\\\\{4\\\\}$$$, and $$$\\\\{3\\\\}$$$.Do an operation on sets $$$\\\\{1\\\\}$$$ and $$$\\\\{3\\\\}$$$. Now, the sets are $$$\\\\{1\\\\}$$$, $$$\\\\{1\\\\}$$$, $$$\\\\{2\\\\}$$$, $$$\\\\{4\\\\}$$$, and $$$\\\\{1,3\\\\}$$$.Do an operation on sets $$$\\\\{2\\\\}$$$ and $$$\\\\{4\\\\}$$$. Now, the sets are $$$\\\\{1\\\\}$$$, $$$\\\\{1\\\\}$$$, $$$\\\\{1,3\\\\}$$$, and $$$\\\\{2,4\\\\}$$$.Do an operation on sets $$$\\\\{1,3\\\\}$$$ and $$$\\\\{2,4\\\\}$$$. Now, the sets are $$$\\\\{1\\\\}$$$, $$$\\\\{1\\\\}$$$, and $$$\\\\{1,2,3,4\\\\}$$$.The multiset $$$M$$$ that is constructed is $$$\\\\{1,1,4\\\\}$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a757a0c6", "template_md5": "35d339e4", "result": "You are given an array of $n$ integers.  You can perform the following operation any number of times:\n\n* Choose two sets of integers from the array that have no elements in common.\n* Remove those two sets and write a new set containing all the elements from both original sets.\n\nAfter performing zero or more operations, you will have a collection of sets.  The problem asks for the number of unique possible collections you can create, where two collections are considered different if they have a different number of elements with the same value.  The answer should be given modulo 998244353."}, {"prompt_md5": "0e7bfff6", "template_md5": "465699a0", "result": "You are given a list of numbers. You can merge any two lists that don't share any numbers into a new list containing all the numbers from both.  What are all the possible sizes of lists you can create after doing this repeatedly?  Count the number of unique possible sizes, and give the answer modulo 998244353."}]}