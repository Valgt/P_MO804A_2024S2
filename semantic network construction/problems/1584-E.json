{"uid": "1584-E", "url": "https://codeforces.com/contest/1584/problem/E", "tags": ["binary search", " data structures", " games", " greedy"], "title": "1584-E", "statement": "E. Game with Stonestime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputBob decided to take a break from calculus homework and designed a game for himself.The game is played on a sequence of piles of stones, which can be described with a sequence of integers $$$s_1, \\\\ldots, s_k$$$, where $$$s_i$$$ is the number of stones in the $$$i$$$-th pile. On each turn, Bob picks a pair of non-empty adjacent piles $$$i$$$ and $$$i+1$$$ and takes one stone from each. If a pile becomes empty, its adjacent pilesdo not become adjacent. The game ends when Bob can't make turns anymore. Bob considers himself a winner if at the end all piles are empty.We consider a sequence of pileswinningif Bob can start with it and win with some sequence of moves.You are given a sequence $$$a_1, \\\\ldots, a_n$$$, count the number of subsegments of $$$a$$$ that describe a winning sequence of piles. In other words find the number of segments $$$[l, r]$$$ ($$$1 \\\\leq l \\\\leq r \\\\leq n$$$), such that the sequence $$$a_l, a_{l+1}, \\\\ldots, a_r$$$ is winning.InputEach test consists of multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\\\leq t \\\\leq 3 \\\\cdot 10^5$$$) — the number of test cases. Description of the test cases follows.The first line of each test case contains a single integer $$$n$$$ ($$$1 \\\\leq n \\\\leq 3 \\\\cdot 10^5$$$).The second line of each test case contains $$$n$$$ integers $$$a_1, a_2, \\\\ldots, a_n$$$ ($$$0 \\\\leq a_i \\\\leq 10^9$$$).It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$3 \\\\cdot 10^5$$$.OutputPrint a single integer for each test case — the answer to the problem.ExampleInput6 2 2 2 3 1 2 3 4 1 1 1 1 4 1 2 2 1 4 1 2 1 2 8 1 2 1 2 1 2 1 2Output1 0 4 2 1 3NoteIn the first test case, Bob can't win on subsegments of length $$$1$$$, as there is no pair of adjacent piles in an array of length $$$1$$$.In the second test case, every subsegment is not winning.In the fourth test case, the subsegment $$$[1, 4]$$$ is winning, because Bob can make moves with pairs of adjacent piles: $$$(2, 3)$$$, $$$(1, 2)$$$, $$$(3, 4)$$$. Another winning subsegment is $$$[2, 3]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a3d2f912", "template_md5": "35d339e4", "result": "You are given a sequence of integers $a_1, a_2, ..., a_n$.  \n\nDetermine the number of subsegments of this sequence that represent a winning game state. \n\nIn the game:\n\n*  You start with piles of stones, where each integer in the sequence represents the number of stones in a pile.\n*  On each turn, you can take one stone from two adjacent piles.\n*  If a pile becomes empty, it is removed from the sequence.\n*  You win if you can remove all the stones.\n\nA subsegment $[l, r]$ is winning if you can start with the piles represented by $a_l, a_{l+1}, ..., a_r$ and win the game."}, {"prompt_md5": "dde126a7", "template_md5": "465699a0", "result": "You are given a sequence of numbers.  Determine how many sub-sequences within the sequence can be reduced to zero by repeatedly taking one number from each of two adjacent positions."}]}