{"uid": "391-F2", "url": "https://codeforces.com/contest/391/problem/F2", "tags": ["greedy"], "title": "391-F2", "statement": "F2. Stock Tradingtime limit per test3 secondsmemory limit per test256 megabytesinputstdinoutputstdoutThis problem consists of three subproblems: for solving subproblem F1 you will receive 8 points, for solving subproblem F2 you will receive 15 points, and for solving subproblem F3 you will receive 10 points.Manao has developed a model to predict the stock price of a company over the nextndays and wants to design a profit-maximizing trading algorithm to make use of these predictions. Unfortunately, Manao's trading account has the following restrictions:It only allows owning either zero or one shares of stock at a time;It only allows buying or selling a share of this stock once per day;It allows a maximum ofkbuy orders over the nextndays;For the purposes of this problem, we define atradeto a be the act of buying one share of stock on dayi, then holding the stock until some dayj>iat which point the share is sold. To restate the above constraints, Manao is permitted to make at mostknon-overlapping trades during the course of ann-day trading period for which Manao's model has predictions about the stock price.Even though these restrictions limit the amount of profit Manao can make compared to what would be achievable with an unlimited number of trades or the ability to hold more than one share at a time, Manao still has the potential to make a lot of money because Manao's model perfectly predicts the daily price of the stock. For example, using this model, Manao could wait until the price is low, then buy one share and hold until the price reaches a high value, then sell for a profit, and repeat this process up toktimes untilndays have passed.Nevertheless, Manao is not satisfied by having a merely good trading algorithm, and wants to develop an optimal strategy for trading subject to these constraints. Help Manao achieve this goal by writing a program that will determine when to buy and sell stock to achieve the greatest possible profit during then-day trading period subject to the above constraints.InputThe first line contains two integersnandk, separated by a single space, with. Thei-th of the followingnlines contains a single integerpi(0 ≤pi≤ 1012), wherepirepresents the price at which someone can either buy or sell one share of stock on dayi.The problem consists of three subproblems. The subproblems have different constraints on the input. You will get some score for the correct submission of the subproblem. The description of the subproblems follows.In subproblem F1 (8 points),nwill be between1and3000, inclusive.In subproblem F2 (15 points),nwill be between1and100000, inclusive.In subproblem F3 (10 points),nwill be between1and4000000, inclusive.OutputFor this problem, the program will only report the amount of the optimal profit, rather than a list of trades that can achieve this profit.Therefore, the program should print one line containing a single integer, the maximum profit Manao can achieve over the nextndays with the constraints of starting with no shares on the first day of trading, always owning either zero or one shares of stock, and buying at mostkshares over the course of then-day trading period.ExamplesInput10 22739879719Output15Input10 52739879719Output21NoteIn the first example, the best trade overall is to buy at a price of1on day 9 and sell at a price of9on day 10 and the second best trade overall is to buy at a price of2on day 1 and sell at a price of9on day 4. Since these two trades do not overlap, both can be made and the profit is the sum of the profits of the two trades. Thus the trade strategy looks like this:2    | 7    | 3    | 9    | 8    | 7    | 9    | 7    | 1    | 9buy  |      |      | sell |      |      |      |      | buy  | sellThe total profit is then(9 - 2) + (9 - 1) = 15.In the second example, even though Manao is allowed up to 5 trades there are only 4 profitable trades available. Making a fifth trade would cost Manao money so he only makes the following 4:2    | 7    | 3    | 9    | 8    | 7    | 9    | 7    | 1    | 9buy  | sell | buy  | sell |      | buy  | sell |      | buy  | sellThe total profit is then(7 - 2) + (9 - 3) + (9 - 7) + (9 - 1) = 21.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "aed514f1", "template_md5": "35d339e4", "result": "You are given a sequence of $n$ stock prices, $p_1, p_2, ..., p_n$.  You can buy and sell the stock at most $k$ times.  You start with no shares of stock.  You can only hold one share of stock at a time.  Find the maximum profit you can make.\n\nOutput the maximum profit."}, {"prompt_md5": "5c7b1417", "template_md5": "465699a0", "result": "You are given a list of stock prices over a period of days. You can buy and sell the stock at most a certain number of times. What is the maximum profit you can make?"}]}