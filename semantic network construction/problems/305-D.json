{"uid": "305-D", "url": "https://codeforces.com/contest/305/problem/D", "tags": ["combinatorics", " math"], "title": "305-D", "statement": "D. Olya and Graphtime limit per test2 secondsmemory limit per test256 megabytesinputstdinoutputstdoutOlya has got a directed non-weighted graph, consisting ofnvertexes andmedges. We will consider that the graph vertexes are indexed from 1 tonin some manner. Then for any graph edge that goes from vertexvto vertexuthe following inequation holds:v<u.Now Olya wonders, how many ways there are to add an arbitrary (possibly zero) number of edges to the graph so as the following conditions were met:You can reach vertexes numberi+ 1,i+ 2, ...,nfrom any vertex numberi(i<n).For any graph edge going from vertexvto vertexuthe following inequation fulfills:v<u.There is at most one edge between any two vertexes.The shortest distance between the pair of vertexesi,j(i<j), for whichj-i≤kholds, equalsj-iedges.The shortest distance between the pair of vertexesi,j(i<j), for whichj-i>kholds, equals eitherj-iorj-i-kedges.We will consider two waysdistinct, if there is the pair of vertexesi,j(i<j), such that first resulting graph has an edge fromitojand the second one doesn't have it.Help Olya. As the required number of ways can be rather large, print it modulo1000000007(109+ 7).InputThe first line contains three space-separated integersn,m,k(2 ≤n≤ 106, 0 ≤m≤ 105, 1 ≤k≤ 106).The nextmlines contain the description of the edges of the initial graph. Thei-th line contains a pair of space-separated integersui,vi(1 ≤ui<vi≤n)— the numbers of vertexes that have a directed edge fromuitovibetween them.It is guaranteed that any pair of vertexesui,vihas at most one edge between them. It also is guaranteed that the graph edges are given in the order of non-decreasingui. If there are multiple edges going from vertexui, then it is guaranteed that these edges are given in the order of increasingvi.OutputPrint a single integer — the answer to the problem modulo1000000007(109+ 7).ExamplesInput7 8 21 22 33 43 64 54 75 66 7Output2Input7 0 2Output12Input7 2 11 33 5Output0NoteIn the first sample there are two ways: the first way is not to add anything, the second way is to add a single edge from vertex2to vertex5.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "4ce5f7fd", "template_md5": "35d339e4", "result": "You are given a directed graph with $n$ vertices and $m$ edges.  Each edge goes from a vertex with a smaller index to a vertex with a larger index. \n\nYou want to add edges to the graph to satisfy the following conditions:\n\n* You must be able to reach vertices $i+1$, $i+2$, ..., $n$ from any vertex $i$ ($i<n$).\n* Each edge must still go from a vertex with a smaller index to a vertex with a larger index.\n* There can be at most one edge between any two vertices.\n* For any pair of vertices $i$ and $j$ ($i<j$):\n    * If $j-i \\le k$, the shortest distance between them is $j-i$ edges.\n    * If $j-i > k$, the shortest distance between them is either $j-i$ or $j-i-k$ edges.\n\nFind the number of ways to add edges to the graph to satisfy these conditions.  Since the number of ways can be large, print the answer modulo $10^9 + 7$."}, {"prompt_md5": "32bc72ed", "template_md5": "465699a0", "result": "You are given a directed graph with a certain number of nodes and edges.  The goal is to figure out how many ways you can add more edges to the graph while following these rules:\n\n* You must be able to reach any node from any other node.\n* Edges must always go from a lower numbered node to a higher numbered node.\n* The shortest distance between two nodes with a difference of at most 'k' must be exactly that difference in number of edges.\n* The shortest distance between two nodes with a difference greater than 'k' must be either the difference in number of nodes or the difference minus 'k'.\n\n\n\nThe answer should be the number of ways to add edges, calculated modulo 1000000007."}]}