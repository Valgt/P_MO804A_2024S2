{"uid": "1619-H", "url": "https://codeforces.com/contest/1619/problem/H", "tags": ["brute force", " data structures", " divide and conquer", " two pointers"], "title": "1619-H", "statement": "H. Permutation and Queriestime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a permutation $$$p$$$ of $$$n$$$ elements. A permutation of $$$n$$$ elements is an array of length $$$n$$$ containing each integer from $$$1$$$ to $$$n$$$ exactly once. For example, $$$[1, 2, 3]$$$ and $$$[4, 3, 5, 1, 2]$$$ are permutations, but $$$[1, 2, 4]$$$ and $$$[4, 3, 2, 1, 2]$$$ are not permutations. You should perform $$$q$$$ queries.There are two types of queries:$$$1$$$ $$$x$$$ $$$y$$$ — swap $$$p_x$$$ and $$$p_y$$$.$$$2$$$ $$$i$$$ $$$k$$$ — print the number that $$$i$$$ will become if we assign $$$i = p_i$$$ $$$k$$$ times.InputThe first line contains two integers $$$n$$$ and $$$q$$$ ($$$1 \\\\le n, q \\\\le 10^5$$$).The second line contains $$$n$$$ integers $$$p_1, p_2, \\\\dots, p_n$$$.Each of the next $$$q$$$ lines contains three integers. The first integer is $$$t$$$ ($$$1 \\\\le t \\\\le 2$$$) — type of query. If $$$t = 1$$$, then the next two integers are $$$x$$$ and $$$y$$$ ($$$1 \\\\le x, y \\\\le n$$$; $$$x \\\\ne y$$$) — first-type query. If $$$t = 2$$$, then the next two integers are $$$i$$$ and $$$k$$$ ($$$1 \\\\le i, k \\\\le n$$$) — second-type query.It is guaranteed that there is at least one second-type query.OutputFor every second-type query, print one integer in a new line — answer to this query.ExamplesInput5 4 5 3 4 2 1 2 3 1 2 1 2 1 1 3 2 1 2Output4 1 2Input5 9 2 3 5 1 4 2 3 5 2 5 5 2 5 1 2 5 3 2 5 4 1 5 4 2 5 3 2 2 5 2 5 1Output3 5 4 2 3 3 3 1NoteIn the first example $$$p = \\\\{5, 3, 4, 2, 1\\\\}$$$.The first query is to print $$$p_3$$$. The answer is $$$4$$$.The second query is to print $$$p_{p_1}$$$. The answer is $$$1$$$.The third query is to swap $$$p_1$$$ and $$$p_3$$$. Now $$$p = \\\\{4, 3, 5, 2, 1\\\\}$$$.The fourth query is to print $$$p_{p_1}$$$. The answer is $$$2$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2bca05fb", "template_md5": "35d339e4", "result": "You are given a list of $n$ numbers ($p_1, p_2, ..., p_n$) where each number is between 1 and $n$ and appears only once.  You will be asked to perform $q$ operations.\n\nThere are two types of operations:\n\n1. **Swap:** Swap the numbers at positions $x$ and $y$ in the list.\n2. **Query:**  For a given number $i$ and a number $k$, tell me what number $i$ will become after applying the following rule $k$ times:  $i = p_i$.\n\n**Input:**\n\n* The first line contains two integers, $n$ and $q$.\n* The second line contains $n$ integers, $p_1, p_2, ..., p_n$.\n* Each of the next $q$ lines contains three integers:\n    * If the first integer is 1, then it's a swap operation and the next two integers are $x$ and $y$.\n    * If the first integer is 2, then it's a query operation and the next two integers are $i$ and $k$.\n\n**Output:**\n\nFor each query operation of type 2, print the resulting number."}, {"prompt_md5": "97dc83b0", "template_md5": "465699a0", "result": "You are given a list of numbers. You can swap any two numbers in the list. You will be asked to perform some operations:\n\n* Swap two numbers in the list.\n*  Find the value of a specific number after repeatedly replacing it with its value in the list a certain number of times. \n\n\nYou need to perform these operations and output the results for each operation of the second type."}]}