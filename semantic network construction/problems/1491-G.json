{"uid": "1491-G", "url": "https://codeforces.com/contest/1491/problem/G", "tags": ["constructive algorithms", " graphs", " math"], "title": "1491-G", "statement": "G. Switch and Fliptime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputThere are $$$n$$$ coins labeled from $$$1$$$ to $$$n$$$. Initially, coin $$$c_i$$$ is on position $$$i$$$ and is facing upwards (($$$c_1, c_2, \\\\dots, c_n)$$$ is a permutation of numbers from $$$1$$$ to $$$n$$$). You can do some operations on these coins.In one operation, you can do the following:Choose $$$2$$$ distinct indices $$$i$$$ and $$$j$$$.Then, swap the coins on positions $$$i$$$ and $$$j$$$.Then, flip both coins on positions $$$i$$$ and $$$j$$$. (If they are initially faced up, they will be faced down after the operation and vice versa)Construct a sequence of at most $$$n+1$$$ operations such that after performing all these operations the coin $$$i$$$ will be on position $$$i$$$ at the end,facing up.Note that youdo not needto minimize the number of operations.InputThe first line contains an integer $$$n$$$ ($$$3 \\\\leq n \\\\leq 2 \\\\cdot 10^5$$$) — the number of coins.The second line contains $$$n$$$ integers $$$c_1,c_2,\\\\dots,c_n$$$ ($$$1 \\\\le c_i \\\\le n$$$, $$$c_i \\\\neq c_j$$$ for $$$i\\\\neq j$$$).OutputIn the first line, output an integer $$$q$$$ $$$(0 \\\\leq q \\\\leq n+1)$$$ — the number of operations you used.In the following $$$q$$$ lines, output two integers $$$i$$$ and $$$j$$$ $$$(1 \\\\leq i, j \\\\leq n, i \\\\ne j)$$$ — the positions you chose for the current operation.ExamplesInput3 2 1 3Output3 1 3 3 2 3 1Input5 1 2 3 4 5Output0NoteLet coin $$$i$$$ facing upwards be denoted as $$$i$$$ and coin $$$i$$$ facing downwards be denoted as $$$-i$$$.The series of moves performed in the first sample changes the coins as such:$$$[~~~2,~~~1,~~~3]$$$$$$[-3,~~~1,-2]$$$$$$[-3,~~~2,-1]$$$$$$[~~~1,~~~2,~~~3]$$$In the second sample, the coins are already in their correct positions so there is no need to swap.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c73b4ec9", "template_md5": "35d339e4", "result": "You have $n$ coins labeled from 1 to $n$. Each coin is initially in a specific position ($c_i$ represents the label of the coin in position $i$).  You can perform the following operation:\n\n1. Choose two distinct coins, labeled $i$ and $j$.\n2. Swap the positions of coins $i$ and $j$.\n3. Flip both coins $i$ and $j$ (changing their face from up to down or down to up).\n\nYour goal is to find a sequence of at most $n+1$ operations that will place each coin in its correct position ($i$ in position $i$) and facing upwards. \n\n**Input:**\n\n* The first line contains an integer $n$ ($3 \\le n \\le 2 \\cdot 10^5$) representing the number of coins.\n* The second line contains $n$ integers $c_1, c_2, ..., c_n$ ($1 \\le c_i \\le n$, $c_i \\neq c_j$ for $i \\neq j$) representing the initial positions of the coins.\n\n**Output:**\n\n* The first line contains an integer $q$ ($0 \\le q \\le n+1$) representing the number of operations used.\n* The following $q$ lines each contain two integers $i$ and $j$ ($1 \\le i, j \\le n$, $i \\neq j$) representing the positions of the coins swapped and flipped in each operation."}, {"prompt_md5": "185b7b70", "template_md5": "465699a0", "result": "You have a number of objects, each with a label.  The objects are arranged in a line and each can be either facing up or down. You can swap two objects and flip them both at the same time.  Find the fewest swaps and flips needed to get each object in its correct position facing up."}]}