{"uid": "1556-D", "url": "https://codeforces.com/contest/1556/problem/D", "tags": ["bitmasks", " constructive algorithms", " interactive", " math"], "title": "1556-D", "statement": "D. Take a Guesstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is an interactive taskWilliam has a certain sequence of integers $$$a_1, a_2, \\\\dots, a_n$$$ in his mind, but due to security concerns, he does not want to reveal it to you completely. William is ready to respond to no more than $$$2 \\\\cdot n$$$ of the following questions:What is the result of abitwise ANDof two items with indices $$$i$$$ and $$$j$$$ ($$$i \\\\neq j$$$)What is the result of abitwise ORof two items with indices $$$i$$$ and $$$j$$$ ($$$i \\\\neq j$$$)You can ask William these questions and you need to find the $$$k$$$-th smallest number of the sequence.Formally the $$$k$$$-th smallest number is equal to the number at the $$$k$$$-th place in a 1-indexed array sorted in non-decreasing order. For example in array $$$[5, 3, 3, 10, 1]$$$ $$$4$$$th smallest number is equal to $$$5$$$, and $$$2$$$nd and $$$3$$$rd are $$$3$$$.InputIt is guaranteed that for each element in a sequence the condition $$$0 \\\\le a_i \\\\le 10^9$$$ is satisfied.InteractionIn the first line you will be given two integers $$$n$$$ and $$$k$$$ $$$(3 \\\\le n \\\\le 10^4, 1 \\\\le k \\\\le n)$$$, which are the number of items in the sequence $$$a$$$ and the number $$$k$$$.After that, you can ask no more than $$$2 \\\\cdot n$$$ questions (not including the \"finish\" operation).Each line of your output may be of one of the following types:\"or i j\" $$$(1 \\\\le i, j \\\\le n, i \\\\neq j)$$$, where $$$i$$$ and $$$j$$$ are indices of items for which you want to calculate the bitwiseOR.\"and i j\" $$$(1 \\\\le i, j \\\\le n, i \\\\neq j)$$$, where $$$i$$$ and $$$j$$$ are indices of items for which you want to calculate the bitwiseAND.\"finish res\", where $$$res$$$ is the $$$k$$$th smallest number in the sequence. After outputting this line the program execution must conclude.In response to the first two types of queries, you will get an integer $$$x$$$, the result of the operation for the numbers you have selected.After outputting a line do not forget to output a new line character and flush the output buffer. Otherwise you will get the \"Idleness limit exceeded\". To flush the buffer use:fflush(stdout)in C++System.out.flush()in Javastdout.flush()in Pythonflush(output)in Pascalfor other languages refer to documentationIf you perform an incorrect query the response will be $$$-1$$$. After receiving response $$$-1$$$ you must immediately halt your program in order to receive an \"Incorrect answer\" verdict.HackingTo perform a hack you will need to use the following format:The first line must contain two integers $$$n$$$ and $$$k$$$ $$$(3 \\\\le n \\\\le 10^4, 1 \\\\le k \\\\le n)$$$, which are the number of items in the sequence $$$a$$$ and the number $$$k$$$.The second line must contain $$$n$$$ integers $$$a_1, a_2, \\\\dots, a_n$$$ $$$(0 \\\\le a_i \\\\le 10^9)$$$, the sequence $$$a$$$.ExampleInput7 6  2  7Outputand 2 5  or 5 6  finish 5NoteIn the example, the hidden sequence is $$$[1, 6, 4, 2, 3, 5, 4]$$$.Below is the interaction in the example.Query (contestant's program)Response (interactor)Notesand 2 52$$$a_2=6$$$, $$$a_5=3$$$. Interactor returns bitwise AND of the given numbers.or 5 67$$$a_5=3$$$, $$$a_6=5$$$. Interactor returns bitwise OR of the given numbers.finish 5$$$5$$$ is the correct answer. Note that you must find the value and not the index of the kth smallest number.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7459b811", "template_md5": "35d339e4", "result": "You are given a sequence of $n$ integers. You can ask up to $2n$ questions to find the $k$-th smallest number in the sequence. \n\nYou can ask one of two types of questions:\n\n1.  What is the bitwise AND of the elements at indices $i$ and $j$ ($i \\neq j$)?\n2.  What is the bitwise OR of the elements at indices $i$ and $j$ ($i \\neq j$)?\n\nAfter asking your questions, you must output the $k$-th smallest number in the sequence. \n\n**Constraints:**\n\n* $3 \\le n \\le 10^4$\n* $1 \\le k \\le n$\n* $0 \\le a_i \\le 10^9$ \n\n\n\nLet me know if you'd like me to elaborate on any of the concepts (bitwise AND, bitwise OR, etc.)."}, {"prompt_md5": "51eff438", "template_md5": "465699a0", "result": "You are given a sequence of numbers. You can ask questions to find the bitwise AND or bitwise OR of any two distinct numbers in the sequence. Your goal is to find the k-th smallest number in the sequence. You are limited to asking a maximum of 2 times the length of the sequence questions."}]}