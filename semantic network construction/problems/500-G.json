{"uid": "500-G", "url": "https://codeforces.com/contest/500/problem/G", "tags": ["number theory", " trees"], "title": "500-G", "statement": "G. New Year Runningtime limit per test4 secondsmemory limit per test256 megabytesinputstdinoutputstdoutNew Year is coming in Tree Island! In this island, as the name implies, there arencities connected byn- 1roads, and for any two distinct cities there always exists exactly one path between them. For every person in Tree Island, it takes exactly one minute to pass by exactly one road.There is a weird New Year tradition for runnners in Tree Island, which is called \"extreme run\". This tradition can be done as follows.A runner chooses two distinct citiesaandb. For simplicity, let's denote the shortest path from cityato citybasp1,p2, ...,pl(here,p1=aandpl=bholds). Then following happens:The runner starts at citya.The runner runs from cityatob, following the shortest path from cityato cityb.When the runner arrives at cityb, he turns his direction immediately (it takes no time), and runs towards citya, following the shortest path from citybto citya.When the runner arrives at citya, he turns his direction immediately (it takes no time), and runs towards cityb, following the shortest path from cityato cityb.Repeat step 3 and step 4 forever.In short, the course of the runner can be denoted as:Two runners JH and JY decided to run \"extremely\" in order to celebrate the New Year. JH has chosen two citiesuandv, and JY has chosen two citiesxandy. They decided to start running at the same moment, and run until they meet at the same city for the first time. Meeting on a road doesn't matter for them. Before running, they want to know the amount of time they will run.It is too hard for JH and JY to calculate this, so they ask you for help.InputThe first line contains a single positive integern(5 ≤n≤ 2 × 105) — the number of cities in Tree Island.Nextn- 1lines describe the roads of Tree Island. Thei-th line (1 ≤i≤n- 1) of them contains two space-separated integersaiandbi(1 ≤ai,bi≤n,ai≠bi) — the vertices connected by a single road of the tree.The next line contains an integert(1 ≤t≤ 2 × 105) — the number of test cases.Nexttlines describes the test cases. Thej-th line (1 ≤j≤t) of them contains four space-separated integersuj,vj,xj,yj(1 ≤uj,vj,xj,yj≤n,uj≠vj,xj≠yj). It means that in this test case, JH has chosen two citiesujandvj, JY has chosen two citiesxjandyj. JH starts running at cityuj, and JY starts running at cityxj.OutputFor each test case, print an integer describing the amount of time they should run in minutes. If they have to run for an infinitely long time (in other words, if they never meet at the same city), print -1 instead. If they meet at the beginning of their run, print 0.ExamplesInput71 33 67 43 75 47 246 5 5 33 5 4 61 5 1 31 5 3 1Output210-1NoteThe example looks like:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "73e3335e", "template_md5": "35d339e4", "result": "There are $n$ cities connected by $n-1$ roads, forming a tree.  Each road takes 1 minute to traverse. Two runners start at different cities and follow a specific pattern:\n\n1. **Run to the destination city.**\n2. **Immediately turn around and run back to the starting city.**\n3. **Immediately turn around and run to the destination city.**\n4. **Repeat steps 2 and 3 forever.**\n\nGiven two pairs of cities, find the amount of time (in minutes) it takes for the runners to meet for the first time. If they never meet, output -1. If they meet at the start, output 0."}, {"prompt_md5": "3d216547", "template_md5": "465699a0", "result": "Two people start running in a tree-like network of connected points. Each person runs between two specific points, repeatedly running back and forth between them along the shortest path.  Find the amount of time they will run until they meet at the same point for the first time. If they never meet, output -1."}]}