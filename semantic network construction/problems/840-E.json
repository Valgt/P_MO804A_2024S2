{"uid": "840-E", "url": "https://codeforces.com/contest/840/problem/E", "tags": ["trees"], "title": "840-E", "statement": "E. In a Traptime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLech got into a tree consisting ofnvertices with a root in vertex number1. At each vertexiwritten integerai. He will not get out until he answersqqueries of the formuv. Answer for the query is maximal valueamong all verticesion path fromutovincludinguandv, wheredist(i,v)is number of edges on path fromitov. Also guaranteed that vertexuis ancestor of vertexv. Leha's tastes are very singular: he believes that vertex is ancestor of itself.Help Leha to get out.The expressionmeans the bitwise exclusiveORto the numbersxandy.Note that vertexuis ancestor of vertexvif vertexulies on the path from root to the vertexv.InputFirst line of input data contains two integersnandq(1 ≤n≤ 5·104,1 ≤q≤ 150 000) — number of vertices in the tree and number of queries respectively.Next line containsnintegersa1,a2, ...,an(0 ≤ai≤n) — numbers on vertices.Each of nextn- 1lines contains two integersuandv(1 ≤u,v≤n) — description of the edges in tree.Guaranteed that given graph is a tree.Each of nextqlines contains two integersuandv(1 ≤u,v≤n) — description of queries. Guaranteed that vertexuis ancestor of vertexv.OutputOutputqlines — answers for a queries.ExamplesInput5 30 3 2 1 41 22 33 43 51 41 52 4Output343Input5 41 2 3 4 51 22 33 44 51 52 51 43 3Output5543", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "77b3a819", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices, numbered from 1 to $n$. Each vertex has a value $a_i$ associated with it. \n\nYou need to answer $q$ queries. Each query consists of two integers $u$ and $v$ (where $1 \\le u, v \\le n$). For each query, you need to find the maximum value of $a_i$ among all vertices on the path from $u$ to $v$ (including $u$ and $v$).  \n\nIt is guaranteed that $u$ is an ancestor of $v$ in the tree.\n\n**Input:**\n\n* The first line contains two integers $n$ and $q$ ($1 \\le n \\le 5 \\cdot 10^4$, $1 \\le q \\le 150,000$) representing the number of vertices and the number of queries, respectively.\n* The second line contains $n$ integers $a_1, a_2, ..., a_n$ ($0 \\le a_i \\le n$).\n* The next $n-1$ lines each contain two integers $u$ and $v$ ($1 \\le u, v \\le n$), representing an edge between vertices $u$ and $v$.\n* The next $q$ lines each contain two integers $u$ and $v$ ($1 \\le u, v \\le n$), representing a query.\n\n**Output:**\n\n* Output $q$ lines, each containing the maximum value of $a_i$ for the corresponding query."}, {"prompt_md5": "14a0e94e", "template_md5": "465699a0", "result": "You are given a tree with nodes containing values.  You need to answer queries asking for the maximum value along a path from one node to another, where the first node is an ancestor of the second."}]}