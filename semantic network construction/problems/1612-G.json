{"uid": "1612-G", "url": "https://codeforces.com/contest/1612/problem/G", "tags": ["combinatorics", " constructive algorithms", " greedy", " sortings"], "title": "1612-G", "statement": "G. Max Sum Arraytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given an array $$$c = [c_1, c_2, \\\\dots, c_m]$$$. An array $$$a = [a_1, a_2, \\\\dots, a_n]$$$ is constructed in such a way that it consists of integers $$$1, 2, \\\\dots, m$$$, and for each $$$i \\\\in [1,m]$$$, there are exactly $$$c_i$$$ occurrences of integer $$$i$$$ in $$$a$$$. So, the number of elements in $$$a$$$ is exactly $$$\\\\sum\\\\limits_{i=1}^{m} c_i$$$.Let's define for such array $$$a$$$ the value $$$f(a)$$$ as $$$$$$f(a) = \\\\sum_{\\\\substack{1 \\\\le i < j \\\\le n\\\\\\\\ a_i = a_j}}{j - i}.$$$$$$In other words, $$$f(a)$$$ is the total sum of distances between all pairs of equal elements.Your task is to calculate the maximum possible value of $$$f(a)$$$ and the number of arrays yielding the maximum possible value of $$$f(a)$$$. Two arrays are considered different, if elements at some position differ.InputThe first line contains a single integer $$$m$$$ ($$$1 \\\\le m \\\\le 5 \\\\cdot 10^5$$$) — the size of the array $$$c$$$.The second line contains $$$m$$$ integers $$$c_1, c_2, \\\\dots, c_m$$$ ($$$1 \\\\le c_i \\\\le 10^6$$$) — the array $$$c$$$.OutputPrint two integers — the maximum possible value of $$$f(a)$$$ and the number of arrays $$$a$$$ with such value. Since both answers may be too large, print them modulo $$$10^9 + 7$$$.ExamplesInput6 1 1 1 1 1 1Output0 720Input1 1000000Output499833345 1Input7 123 451 234 512 345 123 451Output339854850 882811119NoteIn the first example, all possible arrays $$$a$$$ are permutations of $$$[1, 2, 3, 4, 5, 6]$$$. Since each array $$$a$$$ will have $$$f(a) = 0$$$, so maximum value is $$$f(a) = 0$$$ and there are $$$6! = 720$$$ such arrays.In the second example, the only possible array consists of $$$10^6$$$ ones and its $$$f(a) = \\\\sum\\\\limits_{1 \\\\le i < j \\\\le 10^6}{j - i} = 166\\\\,666\\\\,666\\\\,666\\\\,500\\\\,000$$$ and $$$166\\\\,666\\\\,666\\\\,666\\\\,500\\\\,000 \\\\bmod{10^9 + 7} = 499\\\\,833\\\\,345$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e8998054", "template_md5": "35d339e4", "result": "You are given an array $c = [c_1, c_2, ..., c_m]$.  An array $a = [a_1, a_2, ..., a_n]$ is constructed such that it contains the integers 1 through $m$, with each integer appearing $c_i$ times.  \n\nLet $f(a)$ be the sum of the distances between all pairs of equal elements in array $a$. For example, if $a = [1, 2, 1, 3, 2]$, then $f(a) = (2-1) + (4-2) = 2$.\n\nFind the maximum possible value of $f(a)$ and the number of arrays $a$ that achieve this maximum value.  \n\n**Input:**\n\n* The first line contains an integer $m$ ($1 \\le m \\le 5 \\cdot 10^5$) - the size of the array $c$.\n* The second line contains $m$ integers $c_1, c_2, ..., c_m$ ($1 \\le c_i \\le 10^6$) - the array $c$.\n\n**Output:**\n\nPrint two integers:\n\n* The maximum possible value of $f(a)$ modulo $10^9 + 7$.\n* The number of arrays $a$ that achieve this maximum value modulo $10^9 + 7$."}, {"prompt_md5": "e616ab42", "template_md5": "465699a0", "result": "You are given a list of numbers. Each number represents how many times a specific integer should appear in a larger list.  Find the largest possible sum of distances between pairs of identical numbers in the larger list, and count how many different lists can achieve this maximum sum."}]}