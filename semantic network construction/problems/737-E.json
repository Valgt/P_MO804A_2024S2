{"uid": "737-E", "url": "https://codeforces.com/contest/737/problem/E", "tags": ["graph matchings", " graphs", " greedy", " schedules"], "title": "737-E", "statement": "E. Tanya is 5!time limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputTanya is now five so all her friends gathered together to celebrate her birthday. There arenchildren on the celebration, including Tanya.The celebration is close to its end, and the last planned attraction is gaming machines. There aremmachines in the hall, they are numbered1throughm. Each of the children has a list of machines he wants to play on. Moreover, for each of the machines he knows the exact time he wants to play on it. For every machine, no more than one child can play on this machine at the same time.It is evening already, so every adult wants to go home. To speed up the process, you can additionally rent second copies of each of the machines. To rent the second copy of thej-th machine, you have to paypjburles. After you rent a machine, you can use it for as long as you want.How long it will take to make every child play according to his plan, if you have a budget ofbburles for renting additional machines? There is only one copy of each machine, so it's impossible to rent a third machine of the same type.The children can interrupt the game in any moment and continue it later. If thei-th child wants to play on thej-th machine, it is allowed after you rent the copy of thej-th machine that this child would play some part of the time on thej-th machine and some part of the time on its copy (each of these parts could be empty). The interruptions and changes take no time and can be performed in any integer moment of time. Of course, a child can't play on more than one machine at the same time.Remember, that it is not needed to save money (no one saves money at the expense of children happiness!), it is needed to minimize the latest moment of time some child ends his game.InputThe first line contains three integersn,mandb(1 ≤n≤ 40,1 ≤m≤ 10,0 ≤b≤ 106) — the number of children, the number of gaming machines and the budget for renting additional machines.The second line containsmintegersp1,p2, ...,pm(1 ≤pj≤ 106), wherepjis the rent price for the second copy of thej-th machine.nlines follow,i-th of them describes the wishes of thei-th child. The line starts with an integerki(0 ≤ki≤m) — the number of machines, thei-th child wants to play on. Then there arekipairs in the line, they-th of them isxiy,tiy. It means that, thei-th child wants to playtiy(1 ≤tiy≤ 2500) minutes on thexiy-th (1 ≤xiy≤m) machine. In each of thesenlines the valuesxiyare distinct.OutputIn the first line print the minimum time in which all the children can finish their games.In the second line print a string of lengthmconsisting of zeros and ones. Thej-th character is '1', if the copy ofj-th machine should be rated, and '0' otherwise.In the third line print integerg(0 ≤g≤ 106) — the total number of time segments of continuous playing for all of the children. Then inglines print the segments as four integersi,j,s,d, meaning that thei-th child was playing on thej-th machine or its copy from the time moments(s≥ 0) fordminutes (d≥ 1). You can print these lines in arbitrary order.If there are multiple answers, print any of them.ExamplesInput2 2 1003 72 1 3 2 12 1 3 2 1Output41081 1 0 12 2 0 11 1 1 12 1 1 12 1 2 11 1 2 11 2 3 12 1 3 1Input3 2 1511 72 2 10 1 51 2 202 1 4 2 3Output2001172 2 0 42 2 4 11 1 5 22 2 5 21 2 7 52 2 7 52 2 12 11 2 12 13 1 13 42 2 13 41 2 13 41 1 17 23 2 17 22 2 17 21 1 19 12 2 19 13 2 19 1", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "fe050713", "template_md5": "35d339e4", "result": "There are $n$ children and $m$ gaming machines. Each child has a list of machines they want to play on and how long they want to play on each machine.  You can rent a second copy of each machine for a price of $p_j$ burles.  \n\nThe goal is to find the minimum amount of time it takes for all the children to finish playing, given a budget of $b$ burles.  \n\nOutput the minimum time and:\n\n* A string of length $m$ indicating which machines to rent (1 for rent, 0 for not rent).\n* The total number of time segments where a child is playing.\n* A list of time segments, where each segment is defined by:\n    * The child's ID\n    * The machine ID\n    * The start time of the segment\n    * The duration of the segment"}, {"prompt_md5": "a972e279", "template_md5": "465699a0", "result": "You have a set of tasks that need to be completed. Each task has a time requirement and a cost to complete it. You have a limited budget.  Find the minimum time to complete all tasks, considering you can pay to duplicate some tasks to be done simultaneously. Output the minimum time and which tasks were duplicated."}]}