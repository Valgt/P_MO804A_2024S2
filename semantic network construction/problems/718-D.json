{"uid": "718-D", "url": "https://codeforces.com/contest/718/problem/D", "tags": ["dp", " hashing", " trees"], "title": "718-D", "statement": "D. Andrew and Chemistrytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputDuring the chemistry lesson Andrew learned that the saturated hydrocarbons (alkanes) enter into radical chlorination reaction. Andrew is a very curious boy, so he wondered how many different products of the reaction may be forms for a given alkane. He managed to solve the task for small molecules, but for large ones he faced some difficulties and asks you to help.Formally, you are given a tree consisting ofnvertices, such that the degree of each vertex doesn't exceed4. You have to count the number of distinct non-isomorphic trees that can be obtained by adding to this tree one new vertex and one new edge, such that the graph is still the tree and the degree of each vertex doesn't exceed4.Two trees are isomorphic if there exists a bijectionf(v)such that verticesuandvare connected by an edge if and only if verticesf(v)andf(u)are connected by an edge.InputThe first line of the input contains an integern(1 ≤n≤ 100 000) — the number of vertices in the tree.Then follown- 1lines with edges descriptions. Each edge is given by two integersuiandvi(1 ≤ui,vi≤n) — indices of vertices connected by an edge. It's guaranteed that the given graph is a tree and the degree of each vertex doesn't exceed4.OutputPrint one integer — the answer to the question.ExamplesInput41 22 32 4Output2Input51 21 31 41 5Output1Input52 55 34 34 1Output3NoteIn the first sample, one can add new vertex to any existing vertex, but the trees we obtain by adding a new vertex to vertices1,3and4are isomorphic, thus the answer is2.In the second sample, one can't add new vertex to the first vertex, as its degree is already equal to four. Trees, obtained by adding a new vertex to vertices2,3,4and5are isomorphic, thus the answer is1.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a4b434b6", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices, where each vertex has a degree of at most 4.  \n\nYou need to find the number of distinct trees you can create by:\n\n1. Adding one new vertex to the tree.\n2. Adding one new edge connecting the new vertex to an existing vertex.\n\nThe resulting tree must still have a degree of at most 4 for each vertex.\n\nTwo trees are considered distinct if they are not isomorphic (meaning you cannot rearrange the vertices of one tree to make it identical to the other). \n\n\nInput:\n\n* The first line contains an integer $n$ (1 ≤ $n$ ≤ 100,000), representing the number of vertices in the tree.\n* The next $n-1$ lines each contain two integers $u_i$ and $v_i$ (1 ≤ $u_i$, $v_i$ ≤ $n$), representing an edge between vertices $u_i$ and $v_i$.\n\nOutput:\n\n* Print a single integer, representing the number of distinct trees you can create."}, {"prompt_md5": "5e14bd07", "template_md5": "465699a0", "result": "You are given a tree with a certain number of nodes.  You need to figure out how many new trees you can create by adding one new node and one new edge to the original tree, while making sure the degree of each node in the new tree doesn't exceed 4."}]}