{"uid": "1797-F", "url": "https://codeforces.com/contest/1797/problem/F", "tags": ["data structures", " dfs and similar", " divide and conquer", " dsu", " trees"], "title": "1797-F", "statement": "F. Li Hua and Pathtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLi Hua has a tree of $$$n$$$ vertices and $$$n-1$$$ edges. The vertices are numbered from $$$1$$$ to $$$n$$$.A pair of vertices $$$(u,v)$$$ ($$$u < v$$$) is consideredcuteifexactly oneof the following two statements is true:$$$u$$$ is the vertex with the minimum index among all vertices on the path $$$(u,v)$$$.$$$v$$$ is the vertex with the maximum index among all vertices on the path $$$(u,v)$$$.There will be $$$m$$$ operations. In each operation, he decides an integer $$$k_j$$$, then inserts a vertex numbered $$$n+j$$$ to the tree, connecting with the vertex numbered $$$k_j$$$.He wants to calculate the number ofcutepairs before operations and after each operation.Suppose you were Li Hua, please solve this problem.InputThe first line contains the single integer $$$n$$$ ($$$2\\\\le n\\\\le 2\\\\cdot 10^5$$$) — the number of vertices in the tree.Next $$$n-1$$$ lines contain the edges of the tree. The $$$i$$$-th line contains two integers $$$u_i$$$ and $$$v_i$$$ ($$$1\\\\le u_i,v_i\\\\le n$$$; $$$u_i\\\\ne v_i$$$) — the corresponding edge. The given edges form a tree.The next line contains the single integer $$$m$$$ ($$$1\\\\le m\\\\le 2\\\\cdot 10^5$$$) — the number of operations.Next $$$m$$$ lines contain operations — one operation per line. The $$$j$$$-th operation contains one integer $$$k_j$$$ ($$$1\\\\le k_j < n+j$$$) — a vertex.OutputPrint $$$m+1$$$ integers — the number ofcutepairs before operations and after each operation.ExampleInput7 2 1 1 3 1 4 4 6 4 7 6 5 2 5 6Output11 15 19NoteThe initial tree is shown in the following picture:There are $$$11$$$cutepairs — $$$(1,5),(2,3),(2,4),(2,6),(2,7),(3,4),(3,6),(3,7),(4,5),(5,7),(6,7)$$$.Similarly, we can count thecutepairs after each operation and the result is $$$15$$$ and $$$19$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8e76e944", "template_md5": "35d339e4", "result": "You are given a tree with $n$ vertices.  The tree is defined by $n-1$ edges, where each edge connects two vertices.\n\nYou will perform $m$ operations. In each operation, a new vertex is added to the tree, connected to an existing vertex.\n\nFor each pair of vertices $(u,v)$ where $u < v$, determine if the pair is \"cute\". A pair is cute if either:\n\n* $u$ is the vertex with the smallest index on the path between $u$ and $v$.\n* $v$ is the vertex with the largest index on the path between $u$ and $v$.\n\nCalculate the number of cute pairs:\n\n* Before any operations are performed.\n* After each operation. \n\n\n\nLet me know if you'd like help with the input/output format or any specific part of the problem."}, {"prompt_md5": "cdb20b96", "template_md5": "465699a0", "result": "You are given a tree with a certain number of nodes.  You will perform a series of operations where you add a new node to the tree and connect it to an existing node. After each operation, count the number of pairs of nodes in the tree that meet a specific condition: either the first node has the lowest index or the second node has the highest index."}]}