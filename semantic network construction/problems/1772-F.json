{"uid": "1772-F", "url": "https://codeforces.com/contest/1772/problem/F", "tags": ["constructive algorithms", " dfs and similar", " graphs", " implementation", " sortings"], "title": "1772-F", "statement": "F. Copy of a Copy of a Copytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputIt all started with a black-and-white picture, that can be represented as an $$$n \\\\times m$$$ matrix such that all its elements are either $$$0$$$ or $$$1$$$. The rows are numbered from $$$1$$$ to $$$n$$$, the columns are numbered from $$$1$$$ to $$$m$$$.Several operations were performed on the picture (possibly, zero), each of one of the two kinds:choose a cell such that it's not on the border (neither row $$$1$$$ or $$$n$$$, nor column $$$1$$$ or $$$m$$$) and it's surrounded by four cells of the opposite color (four zeros if it's a one and vice versa) and paint it the opposite color itself;make a copy of the current picture.Note that the order of operations could be arbitrary, they were not necessarily alternating.You are presented with the outcome: all $$$k$$$ copies that were made. Additionally, you are given the initial picture. However, all $$$k+1$$$ pictures are shuffled.Restore the sequence of the operations. If there are multiple answers, print any of them. The tests are constructed from the real sequence of operations, i. e. at least one answer always exists.InputThe first line contains three integers $$$n, m$$$ and $$$k$$$ ($$$3 \\\\le n, m \\\\le 30$$$; $$$0 \\\\le k \\\\le 100$$$) — the number of rows and columns of the pictures and the number of copies made, respectively.Then $$$k+1$$$ pictures follow — $$$k$$$ copies and the initial picture. Their order is arbitrary.Each picture consists of $$$n$$$ lines, each consisting of $$$m$$$ characters, each character is either $$$0$$$ or $$$1$$$.There is an empty line before each picture.OutputIn the first line, print a single integer — the index of the initial picture. The pictures are numbered from $$$1$$$ to $$$k+1$$$ in the order they appear in the input.In the second line, print a single integer $$$q$$$ — the number of operations.Each of the next $$$q$$$ lines should contain an operation. The operations should be listed in order they were applied. Each operation is one of two types:$$$1$$$ $$$x$$$ $$$y$$$ — recolor a cell $$$(x, y)$$$ (the $$$y$$$-th cell in the $$$x$$$-th row, it should not be on the border and it should be surrounded by four cells of opposite color to itself);$$$2$$$ $$$i$$$ — make a copy of the current picture and assign it index $$$i$$$ (picture with index the $$$i$$$ should be equal to the current picture).Each index from $$$1$$$ to $$$k+1$$$ should appear in the output exactly once — one of them is the index of the initial picture, the remaining $$$k$$$ are arguments of the operations of the second kind.If there are multiple answers, print any of them. The tests are constructed from the real sequence of operations, i. e. at least one answer always exists.ExamplesInput3 3 1  010 111 010  010 101 010Output2 2 1 2 2 2 1Input4 5 3  00000 01000 11100 01000  00000 01000 10100 01000  00000 01010 10100 01000  00000 01000 10100 01000Output3 5 1 2 4 2 2 2 4 1 3 2 2 1Input5 3 0  110 010 001 011 001Output1 0", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "968f3a30", "template_md5": "35d339e4", "result": "You are given a sequence of black and white images, where each image is represented as a matrix of 0s and 1s. Some operations were performed on the images:\n\n1. **Recolor:** Change the color of a cell in the image to the opposite color, if it is surrounded by four cells of the opposite color.\n2. **Copy:** Make a copy of the current image.\n\nYou are given the initial image and $k$ copies of the image after some operations were performed. The order of the images is random.\n\nYour task is to determine the sequence of operations that were performed to create the given images. \n\n**Input:**\n\n* $n$, $m$: Dimensions of the images (number of rows and columns).\n* $k$: Number of copies made.\n* $k+1$ images, one of which is the initial image and the rest are copies.\n\n**Output:**\n\n* Index of the initial image.\n* Number of operations performed.\n* A list of operations, where each operation is either:\n    * `1 x y`: Recolor the cell at row $x$ and column $y$.\n    * `2 i`: Copy the current image and assign it index $i$."}, {"prompt_md5": "40d628ec", "template_md5": "465699a0", "result": "You are given a sequence of black and white images, some of which are copies of previous images.  You are also given the initial image.  You need to figure out the order in which the images were created, including which images were copied."}]}