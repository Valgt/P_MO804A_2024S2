{"uid": "1699-C", "url": "https://codeforces.com/contest/1699/problem/C", "tags": ["combinatorics", " constructive algorithms", " math"], "title": "1699-C", "statement": "C. The Third Problemtime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputYou are given a permutation $$$a_1,a_2,\\\\ldots,a_n$$$ of integers from $$$0$$$ to $$$n - 1$$$. Your task is to find how many permutations $$$b_1,b_2,\\\\ldots,b_n$$$ aresimilarto permutation $$$a$$$.Two permutations $$$a$$$ and $$$b$$$ of size $$$n$$$ are consideredsimilarif for all intervals $$$[l,r]$$$ ($$$1 \\\\le l \\\\le r \\\\le n$$$), the following condition is satisfied: $$$$$$\\\\operatorname{MEX}([a_l,a_{l+1},\\\\ldots,a_r])=\\\\operatorname{MEX}([b_l,b_{l+1},\\\\ldots,b_r]),$$$$$$ where the $$$\\\\operatorname{MEX}$$$ of a collection of integers $$$c_1,c_2,\\\\ldots,c_k$$$ is defined as the smallest non-negative integer $$$x$$$ which does not occur in collection $$$c$$$. For example, $$$\\\\operatorname{MEX}([1,2,3,4,5])=0$$$, and $$$\\\\operatorname{MEX}([0,1,2,4,5])=3$$$.Since the total number of such permutations can be very large, you will have to print its remainder modulo $$$10^9+7$$$.In this problem, a permutation of size $$$n$$$ is an array consisting of $$$n$$$ distinct integers from $$$0$$$ to $$$n-1$$$ in arbitrary order. For example, $$$[1,0,2,4,3]$$$ is a permutation, while $$$[0,1,1]$$$ is not, since $$$1$$$ appears twice in the array. $$$[0,1,3]$$$ is also not a permutation, since $$$n=3$$$ and there is a $$$3$$$ in the array.InputEach test contains multiple test cases. The first line of input contains one integer $$$t$$$ ($$$1 \\\\le t \\\\le 10^4$$$) — the number of test cases. The following lines contain the descriptions of the test cases.The first line of each test case contains a single integer $$$n$$$ ($$$1 \\\\le n \\\\le 10^5$$$) — the size of permutation $$$a$$$.The second line of each test case contains $$$n$$$ distinct integers $$$a_1,a_2,\\\\ldots,a_n$$$ ($$$0 \\\\le a_i \\\\lt n$$$) — the elements of permutation $$$a$$$.It is guaranteed that the sum of $$$n$$$ across all test cases does not exceed $$$10^5$$$.OutputFor each test case, print a single integer, the number of permutationssimilarto permutation $$$a$$$, taken modulo $$$10^9+7$$$.ExampleInput554 0 3 2 11040 1 2 361 2 4 0 5 381 3 7 2 5 0 6 4Output2 1 1 4 72NoteFor the first test case, the only permutations similar to $$$a=[4,0,3,2,1]$$$ are $$$[4,0,3,2,1]$$$ and $$$[4,0,2,3,1]$$$.For the second and third test cases, the given permutations are only similar to themselves.For the fourth test case, there are $$$4$$$ permutations similar to $$$a=[1,2,4,0,5,3]$$$:$$$[1,2,4,0,5,3]$$$;$$$[1,2,5,0,4,3]$$$;$$$[1,4,2,0,5,3]$$$;$$$[1,5,2,0,4,3]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1f7f00a8", "template_md5": "35d339e4", "result": "You are given a permutation of numbers from 0 to n-1.  \n\nTwo permutations are considered similar if for any range of numbers within the permutation, the smallest missing non-negative integer is the same in both permutations.\n\nFind the number of permutations that are similar to the given permutation. Since the number of similar permutations can be very large, print the remainder when divided by 10^9 + 7. \n\n\n**Input:**\n\n* The first line contains the number of test cases (t).\n* For each test case:\n    * The first line contains the size of the permutation (n).\n    * The second line contains the elements of the permutation (a1, a2, ..., an).\n\n**Output:**\n\n* For each test case, print the number of similar permutations modulo 10^9 + 7."}, {"prompt_md5": "3375d027", "template_md5": "465699a0", "result": "You are given a list of numbers.  Find how many other lists of the same numbers, in any order, have the same \"missing number\" pattern within each sublist.  The \"missing number\" pattern is the smallest number that is not in a sublist.  The answer should be the count of these lists, reduced by a large number (10^9 + 7)."}]}