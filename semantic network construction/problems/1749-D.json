{"uid": "1749-D", "url": "https://codeforces.com/contest/1749/problem/D", "tags": ["combinatorics", " dp", " math", " number theory"], "title": "1749-D", "statement": "D. Counting Arraystime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputConsider an array $$$a$$$ of length $$$n$$$ with elements numbered from $$$1$$$ to $$$n$$$. It is possible to remove the $$$i$$$-th element of $$$a$$$ if $$$gcd(a_i, i) = 1$$$, where $$$gcd$$$ denotes the greatest common divisor. After an element is removed, the elements to the right are shifted to the left by one position.An array $$$b$$$ with $$$n$$$ integers such that $$$1 \\\\le b_i \\\\le n - i + 1$$$ is aremoval sequence for the array $$$a$$$if it is possible to remove all elements of $$$a$$$, if you remove the $$$b_1$$$-th element, then the $$$b_2$$$-th, ..., then the $$$b_n$$$-th element. For example, let $$$a = [42, 314]$$$:$$$[1, 1]$$$ is a removal sequence: when you remove the $$$1$$$-st element of the array, the condition $$$gcd(42, 1) = 1$$$ holds, and the array becomes $$$[314]$$$; when you remove the $$$1$$$-st element again, the condition $$$gcd(314, 1) = 1$$$ holds, and the array becomes empty.$$$[2, 1]$$$ is not a removal sequence: when you try to remove the $$$2$$$-nd element, the condition $$$gcd(314, 2) = 1$$$ is false.An array isambiguousif it hasat least tworemoval sequences. For example, the array $$$[1, 2, 5]$$$ is ambiguous: it has removal sequences $$$[3, 1, 1]$$$ and $$$[1, 2, 1]$$$. The array $$$[42, 314]$$$ is not ambiguous: the only removal sequence it has is $$$[1, 1]$$$.You are given two integers $$$n$$$ and $$$m$$$. You have to calculate the number ofambiguousarrays $$$a$$$ such that the length of $$$a$$$ is from $$$1$$$ to $$$n$$$ and each $$$a_i$$$ is an integer from $$$1$$$ to $$$m$$$.InputThe only line of the input contains two integers $$$n$$$ and $$$m$$$ ($$$2 \\\\le n \\\\le 3 \\\\cdot 10^5$$$; $$$1 \\\\le m \\\\le 10^{12}$$$).OutputPrint one integer â€” the number of ambiguous arrays $$$a$$$ such that the length of $$$a$$$ is from $$$1$$$ to $$$n$$$ and each $$$a_i$$$ is an integer from $$$1$$$ to $$$m$$$. Since the answer can be very large, print it modulo $$$998244353$$$.ExamplesInput2 3Output6Input4 2Output26Input4 6Output1494Input1337 424242424242Output119112628", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "56fa285f", "template_md5": "35d339e4", "result": "You are given two integers $n$ and $m$.  \n\nYou need to find the number of arrays $a$ with the following properties:\n\n* The length of the array $a$ is between 1 and $n$ (inclusive).\n* Each element in the array $a$ is an integer between 1 and $m$ (inclusive).\n\nAn array is considered \"ambiguous\" if there are at least two different sequences of elements that can be removed from the array, following these rules:\n\n* You can remove the $i$-th element of the array if the greatest common divisor (GCD) of the element and its index ($a_i$ and $i$) is 1.\n* After removing an element, the remaining elements to the right shift one position to the left.\n\nThe answer should be printed modulo 998244353."}, {"prompt_md5": "7676e164", "template_md5": "465699a0", "result": "You are given two numbers, n and m.  Find the number of arrays of length from 1 to n, where each number in the array is between 1 and m, that have at least two different valid removal sequences.  \n\nA valid removal sequence is a list of numbers that tells you which elements to remove from the array, one by one, following these rules:\n\n* You can only remove an element if the greatest common divisor of the element's value and its index is 1.\n* After removing an element, the remaining elements are shifted to the left."}]}