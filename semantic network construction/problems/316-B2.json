{"uid": "316-B2", "url": "https://codeforces.com/contest/316/problem/B2", "tags": ["dfs and similar", " dp"], "title": "316-B2", "statement": "B2. EKGtime limit per test0.5 secondsmemory limit per test256 megabytesinputstdinoutputstdoutIn the rush of modern life, people often forget how beautiful the world is. The time to enjoy those around them is so little that some even stand in queues to several rooms at the same time in the clinic, running from one queue to another.(Cultural note: standing in huge and disorganized queues for hours is a native tradition in Russia, dating back to the Soviet period. Queues can resemble crowds rather than lines. Not to get lost in such a queue, a person should follow a strict survival technique: you approach the queue and ask who the last person is, somebody answers and you join the crowd. Now you're the last person in the queue till somebody else shows up. You keep an eye on the one who was last before you as he is your only chance to get to your destination) I'm sure many people have had the problem when a stranger asks who the last person in the queue is and even dares to hint that he will be the last in the queue and then bolts away to some unknown destination. These are the representatives of the modern world, in which the ratio of lack of time is so great that they do not even watch foreign top-rated TV series. Such people often create problems in queues, because the newcomer does not see the last person in the queue and takes a place after the \"virtual\" link in this chain, wondering where this legendary figure has left.The Smart Beaver has been ill and he's made an appointment with a therapist. The doctor told the Beaver the sad news in a nutshell: it is necessary to do an electrocardiogram. The next day the Smart Beaver got up early, put on the famous TV series on download (three hours till the download's complete), clenched his teeth and bravely went to join a queue to the electrocardiogram room, which is notorious for the biggest queues at the clinic.Having stood for about three hours in the queue, the Smart Beaver realized that many beavers had not seen who was supposed to stand in the queue before them and there was a huge mess. He came up to each beaver in the ECG room queue and asked who should be in front of him in the queue. If the beaver did not know his correct position in the queue, then it might be his turn to go get an ECG, or maybe he should wait for a long, long time...As you've guessed, the Smart Beaver was in a hurry home, so he gave you all the necessary information for you to help him to determine what his number in the queue can be.InputThe first line contains two integersn(1 ≤n≤ 103)andx(1 ≤x≤n)— the number of beavers that stand in the queue and the Smart Beaver's number, correspondingly. All willing to get to the doctor are numbered from 1 ton.The second line containsnintegersa1,a2, ...,an(0 ≤ai≤n)— the number of the beaver followed by thei-th beaver. Ifai= 0, then thei-th beaver doesn't know who is should be in front of him. It is guaranteed that valuesaiare correct. That is there is no cycles in the dependencies. And any beaver is followed by at most one beaver in the queue.The input limits for scoring 30 points are (subproblem B1):It is guaranteed that the number of zero elementsaidoesn't exceed20.The input limits for scoring 100 points are (subproblems B1+B2):The number of zero elementsaiis arbitrary.OutputPrint all possible positions of the Smart Beaver in the line in the increasing order.ExamplesInput6 12 0 4 0 6 0Output246Input6 22 3 0 5 6 0Output25Input4 10 0 0 0Output1234Input6 20 0 1 0 4 5Output1346NotePicture for the fourth test.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2d6c5980", "template_md5": "35d339e4", "result": "You are given a queue of $n$ people numbered from 1 to $n$. Each person knows the number of the person they are behind in the queue.  The input is a list of $n$ numbers, where the $i$-th number represents the number of the person the $i$-th person is behind. If the $i$-th person doesn't know who is in front of them, the input will be 0.\n\nYour task is to find all possible positions of a specific person (let's call them \"person $x$\") in the queue."}, {"prompt_md5": "dd39a1fc", "template_md5": "465699a0", "result": "You are given a list of numbers representing people in a line. Each number indicates who the person in that position believes is in front of them.  A value of 0 means the person doesn't know who is in front of them.  Find all possible positions the person with number 'x' could be in the line."}]}