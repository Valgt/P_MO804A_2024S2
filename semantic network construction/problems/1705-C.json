{"uid": "1705-C", "url": "https://codeforces.com/contest/1705/problem/C", "tags": ["brute force", " implementation"], "title": "1705-C", "statement": "C. Mark and His Unfinished Essaytime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputOne night, Mark realized that there is an essay due tomorrow. He hasn't written anything yet, so Mark decided to randomly copy-paste substrings from the prompt to make the essay.More formally, the prompt is a string $$$s$$$ of initial length $$$n$$$. Mark will perform the copy-pasting operation $$$c$$$ times. Each operation is described by two integers $$$l$$$ and $$$r$$$, which means that Mark will append letters $$$s_l s_{l+1} \\\\ldots s_r$$$ to the end of string $$$s$$$. Note that the length of $$$s$$$ increases after this operation.Of course, Mark needs to be able to see what has been written. After copying, Mark will ask $$$q$$$ queries: given an integer $$$k$$$, determine the $$$k$$$-th letter of the final string $$$s$$$.InputThe first line contains a single integer $$$t$$$ ($$$1\\\\leq t\\\\leq 1000$$$) — the number of test cases.The first line of each test case contains three integers $$$n$$$, $$$c$$$, and $$$q$$$ ($$$1\\\\leq n\\\\leq 2\\\\cdot 10^5$$$, $$$1\\\\leq c\\\\leq 40$$$, and $$$1\\\\leq q\\\\leq 10^4$$$) — the length of the initial string $$$s$$$, the number of copy-pasting operations, and the number of queries, respectively.The second line of each test case contains a single string $$$s$$$ of length $$$n$$$. It is guaranteed that $$$s$$$ only contains lowercase English letters.The following $$$c$$$ lines describe the copy-pasting operation. Each line contains two integers $$$l$$$ and $$$r$$$ ($$$1\\\\leq l\\\\leq r\\\\leq 10^{18}$$$). It is also guaranteed that $$$r$$$ does not exceed the current length of $$$s$$$.The last $$$q$$$ lines of each test case describe the queries. Each line contains a single integer $$$k$$$ ($$$1\\\\leq k\\\\leq 10^{18}$$$). It is also guaranteed that $$$k$$$ does not exceed the final length of $$$s$$$.It is guaranteed that the sum of $$$n$$$ and $$$q$$$ across all test cases does not exceed $$$2\\\\cdot 10^5$$$ and $$$10^4$$$, respectively.OutputFor each query, print the $$$k$$$-th letter of the final string $$$s$$$.ExampleInput24 3 3mark1 45 73 8110127 3 3creamii2 33 42 991112Outputm a r e a rNoteIn the first test case, the copy-paste process is as follows.The first step is pasting string $$$\\\\texttt{mark}$$$ at the end, yielding the string $$$\\\\texttt{mark}\\\\color{red}{\\\\texttt{mark}}$$$.The second step is pasting string $$$\\\\texttt{mar}$$$ at the end, yielding the string $$$\\\\texttt{markmark}\\\\color{red}{\\\\texttt{mar}}$$$.The third step is pasting string $$$\\\\texttt{rkmark}$$$ at the end, yielding the string $$$\\\\texttt{markmarkmar}\\\\color{red}{\\\\texttt{rkmark}}$$$.In the second test case, the copy-paste process is as follows.The first step is pasting string $$$\\\\texttt{re}$$$ at the end, yielding the string $$$\\\\texttt{creamii}\\\\color{red}{\\\\texttt{re}}$$$.The second step is pasting string $$$\\\\texttt{ea}$$$ at the end, yielding the string $$$\\\\texttt{creamiire}\\\\color{red}{\\\\texttt{ea}}$$$.The third step is pasting string $$$\\\\texttt{reamiire}$$$ at the end, yielding the string $$$\\\\texttt{creamiireea}\\\\color{red}{\\\\texttt{reamiire}}$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "9304e47a", "template_md5": "35d339e4", "result": "You are given a string $s$ of length $n$. You will perform $c$ copy-pasting operations. Each operation is described by two integers $l$ and $r$, which means that you will append the substring $s_l s_{l+1} \\ldots s_r$ to the end of the string $s$.\n\nAfter the copy-pasting operations, you will be asked $q$ queries. Each query is an integer $k$, and you need to determine the $k$-th letter of the final string $s$. \n\n**Input:**\n\n* The first line contains an integer $t$ ($1 \\le t \\le 1000$) - the number of test cases.\n* For each test case:\n    * The first line contains three integers $n$, $c$, and $q$ ($1 \\le n \\le 2 \\cdot 10^5$, $1 \\le c \\le 40$, $1 \\le q \\le 10^4$) - the length of the initial string, the number of copy-pasting operations, and the number of queries, respectively.\n    * The second line contains the initial string $s$ of length $n$.\n    * The next $c$ lines describe the copy-pasting operations, each line containing two integers $l$ and $r$ ($1 \\le l \\le r \\le 10^{18}$).\n    * The last $q$ lines describe the queries, each line containing an integer $k$ ($1 \\le k \\le 10^{18}$).\n\n**Output:**\n\n* For each query, print the $k$-th letter of the final string $s$."}, {"prompt_md5": "8ee3f35c", "template_md5": "465699a0", "result": "You are given a string. You will perform multiple operations where you append a substring of the current string to the end. After all operations, you need to answer queries asking for the k-th character of the final string."}]}