{"uid": "1750-G", "url": "https://codeforces.com/contest/1750/problem/G", "tags": ["combinatorics", " dp", " math"], "title": "1750-G", "statement": "G. Dopingtime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputWe call an array $$$a$$$ of length $$$n$$$fancyif for each $$$1 < i \\\\le n$$$ it holds that $$$a_i = a_{i-1} + 1$$$.Let's call $$$f(p)$$$ applied to a permutation$$$^\\\\dagger$$$ of length $$$n$$$ as theminimumnumber of subarrays it can be partitioned such that each one of them is fancy. For example $$$f([1,2,3]) = 1$$$, while $$$f([3,1,2]) = 2$$$ and $$$f([3,2,1]) = 3$$$.Given $$$n$$$ and a permutation $$$p$$$ of length $$$n$$$, we define a permutation $$$p'$$$ of length $$$n$$$ to be $$$k$$$-special if and only if:$$$p'$$$ is lexicographically smaller$$$^\\\\ddagger$$$ than $$$p$$$, and$$$f(p') = k$$$.Your task is to count for each $$$1 \\\\le k \\\\le n$$$ the number of $$$k$$$-special permutations modulo $$$m$$$.$$$^\\\\dagger$$$ A permutation is an array consisting of $$$n$$$ distinct integers from $$$1$$$ to $$$n$$$ in arbitrary order. For example, $$$[2,3,1,5,4]$$$ is a permutation, but $$$[1,2,2]$$$ is not a permutation ($$$2$$$ appears twice in the array) and $$$[1,3,4]$$$ is also not a permutation ($$$n=3$$$ but there is $$$4$$$ in the array).$$$^\\\\ddagger$$$ A permutation $$$a$$$ of length $$$n$$$ is lexicographically smaller than a permutation $$$b$$$ of length $$$n$$$ if and only if the following holds: in the first position where $$$a$$$ and $$$b$$$ differ, the permutation $$$a$$$ has a smaller element than the corresponding element in $$$b$$$.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n \\\\le 2000$$$, $$$10 \\\\le m \\\\le 10^9$$$) — the length of the permutation and the required modulo.The second line contains $$$n$$$ distinct integers $$$p_1, p_2, \\\\ldots, p_n$$$ ($$$1 \\\\le p_i \\\\le n$$$) — the permutation $$$p$$$.OutputPrint $$$n$$$ integers, where the $$$k$$$-th integer is the number of $$$k$$$-special permutations modulo $$$m$$$.ExamplesInput4 666012 1 3 4 2Output1 0 1 1Input3 10 3 2 1Output1 2 2Input7 1000000000 7 2 1 3 5 4 6Output1 6 40 201 705 1635 1854Input10 11 10 9 8 7 6 5 4 3 2 1Output1 9 9 0 1 5 5 0 1 0NoteIn the first example, the permutations that are lexicographically smaller than $$$[1,3,4,2]$$$ are:$$$[1,2,3,4]$$$, $$$f([1,2,3,4])=1$$$;$$$[1,2,4,3]$$$, $$$f([1,2,4,3])=3$$$;$$$[1,3,2,4]$$$, $$$f([1,3,2,4])=4$$$.Thus our answer is $$$[1,0,1,1]$$$.In the second example, the permutations that are lexicographically smaller than $$$[3,2,1]$$$ are:$$$[1,2,3]$$$, $$$f([1,2,3])=1$$$;$$$[1,3,2]$$$, $$$f([1,3,2])=3$$$;$$$[2,1,3]$$$, $$$f([2,1,3])=3$$$;$$$[2,3,1]$$$, $$$f([2,3,1])=2$$$;$$$[3,1,2]$$$, $$$f([3,1,2])=2$$$.Thus our answer is $$$[1,2,2]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "ec19a1c6", "template_md5": "35d339e4", "result": "You are given an array of $n$ distinct integers from 1 to $n$.  We call an array \"fancy\" if each element is one greater than the previous element.\n\nFor a given permutation $p$ of length $n$, define a permutation $p'$ to be $k$-special if:\n\n* $p'$ is lexicographically smaller than $p$ (meaning the first differing element in $p'$ is smaller than the corresponding element in $p$).\n* $p'$ can be divided into $k$ \"fancy\" subarrays.\n\nYour task is to find, for each $k$ from 1 to $n$, the number of $k$-special permutations modulo $m$.\n\n\n\nLet me know if you'd like me to elaborate on any of the terms!"}, {"prompt_md5": "2bf40873", "template_md5": "465699a0", "result": "You are given a list of numbers.  Find, for each number k from 1 to the length of the list, how many ways you can rearrange the list so that:\n\n1. The rearranged list is smaller than the original list.\n2. The rearranged list can be split into sublists where each sublist is an arithmetic sequence (each number is one more than the previous).\n3. The number of sublists is equal to k. \n\nCalculate the answer modulo m (a given number)."}]}