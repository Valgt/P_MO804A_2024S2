{"uid": "853-E", "url": "https://codeforces.com/contest/853/problem/E", "tags": ["data structures", " geometry"], "title": "853-E", "statement": "E. Lada Malinatime limit per test5 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAfter long-term research and lots of experiments leading Megapolian automobile manufacturer «AutoVoz» released a brand new car model named «Lada Malina». One of the most impressive features of «Lada Malina» is its highly efficient environment-friendly engines.Consider car as a point inOxyplane. Car is equipped withkengines numbered from1tok. Each engine is defined by its velocity vector whose coordinates are(vxi,vyi)measured in distance units per day. An engine may be turned on at any levelwi, that is a real number between- 1and+ 1(inclusive) that result in a term of(wi·vxi,wi·vyi)in the final car velocity. Namely, the final car velocity is equal to(w1·vx1+w2·vx2+ ... +wk·vxk,w1·vy1+w2·vy2+ ... +wk·vyk)Formally, if car moves with constant values ofwiduring the whole day then itsx-coordinate will change by the first component of an expression above, and itsy-coordinate will change by the second component of an expression above. For example, if allwiare equal to zero, the car won't move, and if allwiare equal to zero exceptw1= 1, then car will move with the velocity of the first engine.There arenfactories in Megapolia,i-th of them is located in(fxi,fyi). On thei-th factory there areaicars «Lada Malina» that are ready for operation.As an attempt to increase sales of a new car, «AutoVoz» is going to hold an international exposition of cars. There areqoptions of exposition location and time, in thei-th of them exposition will happen in a point with coordinates(pxi,pyi)intidays.Of course, at the «AutoVoz» is going to bring as much new cars from factories as possible to the place of exposition. Cars are going to be moved by enabling their engines on some certain levels, such that at the beginning of an exposition car gets exactly to the exposition location.However, for some of the options it may be impossible to bring cars from some of the factories to the exposition location by the moment of an exposition. Your task is to determine for each of the options of exposition location and time how many cars will be able to get there by the beginning of an exposition.InputThe first line of input contains three integersk,n,q(2 ≤k≤ 10,1 ≤n≤ 105,1 ≤q≤ 105), the number of engines of «Lada Malina», number of factories producing «Lada Malina» and number of options of an exposition time and location respectively.The followingklines contain the descriptions of «Lada Malina» engines. Thei-th of them contains two integersvxi,vyi(- 1000 ≤vxi,vyi≤ 1000) defining the velocity vector of thei-th engine. Velocity vector can't be zero, i.e. at least one ofvxiandvyiis not equal to zero. It is guaranteed that no two velosity vectors are collinear (parallel).Nextnlines contain the descriptions of factories. Thei-th of them contains two integersfxi,fyi,ai(- 109≤fxi,fyi≤ 109,1 ≤ai≤ 109) defining the coordinates of thei-th factory location and the number of cars that are located there.The followingqlines contain the descriptions of the car exposition. Thei-th of them contains three integerspxi,pyi,ti(- 109≤pxi,pyi≤ 109,1 ≤ti≤ 105) defining the coordinates of the exposition location and the number of days till the exposition start in thei-th option.OutputFor each possible option of the exposition output the number of cars that will be able to get to the exposition location by the moment of its beginning.ExamplesInput2 4 11 1-1 12 3 12 -2 1-2 1 1-2 -2 10 0 2Output3Input3 4 32 0-1 1-1 -2-3 0 61 -2 1-3 -7 33 2 2-1 -4 10 4 26 0 1Output490NoteImages describing sample tests are given below. Exposition options are denoted with crosses, factories are denoted with points. Each factory is labeled with a number of cars that it has.First sample test explanation:Car from the first factory is not able to get to the exposition location in time.Car from the second factory can get to the exposition in time if we setw1= 0,w2= 1.Car from the third factory can get to the exposition in time if we set,.Car from the fourth factory can get to the exposition in time if we setw1= 1,w2= 0.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "8cc1f4ae", "template_md5": "35d339e4", "result": "There are $k$ engines, each with a velocity vector $(v_{xi}, v_{yi})$.  A car can have each engine's power set to a value between -1 and 1, inclusive. The car's final velocity is the sum of each engine's velocity vector multiplied by its power.\n\nThere are $n$ factories, each with a location $(f_{xi}, f_{yi})$ and a number of cars $a_i$.\n\nThere are $q$ exposition locations and times, each with a location $(p_x, p_y)$ and a time $t_i$.\n\nFor each exposition, determine the number of cars that can reach the exposition location by the exposition time. \n\n**Input:**\n\n* $k$, $n$, $q$\n* $v_{xi}$, $v_{yi}$ for each engine\n* $f_{xi}$, $f_{yi}$, $a_i$ for each factory\n* $p_x$, $p_y$, $t_i$ for each exposition\n\n**Output:**\n\n* For each exposition, the number of cars that can reach the exposition location."}, {"prompt_md5": "16b9dc84", "template_md5": "465699a0", "result": "You are given a number of factories producing cars, each with a certain number of cars. Each car has multiple engines, and each engine has a speed in two directions. You can adjust the power of each engine to control the car's movement.  \n\nYou are also given a number of possible locations and times for an exposition.  \n\nFor each exposition, determine how many cars can reach the exposition location by the exposition time, given that cars can only move using their engines."}]}