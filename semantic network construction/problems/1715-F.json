{"uid": "1715-F", "url": "https://codeforces.com/contest/1715/problem/F", "tags": ["constructive algorithms", " geometry", " interactive", " math"], "title": "1715-F", "statement": "F. Crop Squarestime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputThis is an interactive problem.Farmer Stanley grows corn on a rectangular field of size $$$ n \\\\times m $$$ meters with corners in points $$$(0, 0)$$$, $$$(0, m)$$$, $$$(n, 0)$$$, $$$(n, m)$$$. This year the harvest was plentiful and corn covered the whole field.The night before harvest aliens arrived and poisoned the corn in a single $$$1 \\\\times 1$$$ square with sides parallel to field borders. The corn inside the square must not be eaten, but you cannot distinguish it from ordinary corn by sight. Stanley can only collect a sample of corn from an arbitrary polygon and bring it to the laboratory, where it will be analyzed and Stanley will be told the amount of corn in the sample that was poisoned. Since the harvest will soon deteriorate, such a study can be carried out no more than $$$5$$$ times.More formally, it is allowed to make no more than $$$5$$$ queries, each of them calculates the area of intersection of a chosen polygon with a square of poisoned corn. It is necessary to find out the coordinates of the lower-left corner of the drawn square (the vertex of the square with the smallest $$$x$$$ and $$$y$$$ coordinates).InputFirst line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n, m \\\\le 100$$$) — field sizes.InteractionIn order to query the area of intersection of a polygon with $$$k$$$ ($$$3 \\\\le k \\\\le 1000$$$) vertices at points with coordinates $$$(x_1, y_1),\\\\; \\\\dots ,\\\\;(x_k, y_k)$$$ with a square of poisoned corn print $$$k+1$$$ lines. In the first of these lines print \"? k\". In the $$$i$$$-th of the next $$$k$$$ lines print two real numbers $$$x_i$$$ and $$$y_i$$$ ($$$|x_i|, |y_i| \\\\le 10^4$$$) with at most $$$15$$$ digits after decimal place.The polygon must havestrictly positive areaand containno self-intersections.In response to this query you will receive a real number $$$s$$$ ($$$0 \\\\le s \\\\le 1$$$) with $$$15$$$ digits after decimal place — the area of intersection of the square with the given polygon. If the polygon is invalid, there is no guarantee on the valid response.When you have identified the drawn square, print on a separate line \"! x y\", where $$$x$$$ and $$$y$$$ are real numbers with at most $$$15$$$ digits after decimal place representing the coordinates of its lower-left corner ($$$0 \\\\le x \\\\le n - 1$$$, $$$0 \\\\le y \\\\le m - 1$$$), and then you have to terminate your program.Your answer will be considered correct if its absolute or relative error on both coordinates does not exceed $$$10^{-6}$$$. Formally let your answer be $$$a$$$, jury answer be $$$b$$$. Your answer will be considered correct if $$$\\\\frac{|a-b|}{max(1,|b|)} \\\\le 10^{-6}$$$.After printing a query do not forget to output end of line and flush the output. Otherwise, you will getIdleness limit exceeded. To do this, use:fflush(stdout)orcout.flush()in C++;System.out.flush()in Java;flush(output)in Pascal;stdout.flush()in Python;see documentation for other languages.HacksTo make a hack, use the following test format.The first line of the input should contain two integers $$$n$$$ and $$$m$$$ ($$$1 \\\\le n,m \\\\le 100$$$) — field sizes.The second line should contain two real numbers $$$x$$$ ($$$0 \\\\le x \\\\le n - 1$$$) and $$$y$$$ ($$$0 \\\\le y \\\\le m - 1$$$) — coordinates of the lower-left corner of the square of poisoned corn.ExampleInput3 3      0.5      0.5Output? 4 0 0 2 0 2 3 0 3  ? 4 0 0 0 1 3 1 3 0  ! 1.5 0.5NoteIn the first test from the statement, the aliens poisoned a square of corn with vertices at points with coordinates $$$(1.5, 0.5)$$$, $$$(1.5, 1.5)$$$, $$$(2.5, 1.5)$$$, $$$(2.5, 0.5)$$$. In the picture, it is red, the polygon selected in the query is blue, and their intersection is green.Picture for the first query:Picture for the second query:", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "e9956c85", "template_md5": "35d339e4", "result": "A farmer has a rectangular field of size $n \\times m$ meters. Aliens poisoned a $1 \\times 1$ square of corn in the field. You can only determine if corn is poisoned by taking a sample and sending it to a lab. The lab will tell you the area of the sample that was poisoned. You have at most 5 samples you can send.\n\nYour goal is to find the coordinates of the bottom-left corner of the poisoned square.\n\n**Here's how you interact with the problem:**\n\n1. **Query:** You choose a polygon (a shape with straight sides) on the field and send its vertices (coordinates) to the program.\n2. **Response:** The program will tell you the area of intersection between the polygon and the poisoned square.\n\n**Rules:**\n\n* You can make at most 5 queries.\n* Each query must be a polygon with strictly positive area and no self-intersections.\n* The coordinates of the vertices in a query must be within the field boundaries.\n* When you find the poisoned square, print its bottom-left corner coordinates and the program will end.\n\n\n\nLet me know if you need any further clarification!"}, {"prompt_md5": "11b0c547", "template_md5": "465699a0", "result": "You need to find a poisoned square within a rectangular field. You can ask up to 5 times for the area of intersection between a polygon you choose and the poisoned square.  The area of intersection will be returned as a number between 0 and 1.  You need to figure out the coordinates of the bottom-left corner of the poisoned square."}]}