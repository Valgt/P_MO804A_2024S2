{"uid": "766-D", "url": "https://codeforces.com/contest/766/problem/D", "tags": ["data structures", " dfs and similar", " dp", " dsu", " graphs"], "title": "766-D", "statement": "D. Mahmoud and a Dictionarytime limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputMahmoud wants to write a new dictionary that containsnwords and relations between them. There are two types of relations: synonymy (i. e. the two words mean the same) and antonymy (i. e. the two words mean the opposite). From time to time he discovers a new relation between two words.He know that if two words have a relation between them, then each of them has relations with the words that has relations with the other. For example, iflikemeansloveandloveis the opposite ofhate, thenlikeis also the opposite ofhate. One more example: ifloveis the opposite ofhateandhateis the opposite oflike, thenlovemeanslike, and so on.Sometimes Mahmoud discovers a wrong relation. A wrong relation is a relation that makes two words equal and opposite at the same time. For example if he knows thatlovemeanslikeandlikeis the opposite ofhate, and then he figures out thathatemeanslike, the last relation is absolutely wrong because it makeshateandlikeopposite and have the same meaning at the same time.After Mahmoud figured out many relations, he was worried that some of them were wrong so that they will make other relations also wrong, so he decided to tell every relation he figured out to his coder friend Ehab and for every relation he wanted to know is it correct or wrong, basing on the previously discovered relations. If it is wrong he ignores it, and doesn't check with following relations.After adding all relations, Mahmoud asked Ehab about relations between some words based on the information he had given to him. Ehab is busy making a Codeforces round so he asked you for help.InputThe first line of input contains three integersn,mandq(2 ≤n≤ 105,1 ≤m,q≤ 105) wherenis the number of words in the dictionary,mis the number of relations Mahmoud figured out andqis the number of questions Mahmoud asked after telling all relations.The second line containsndistinct wordsa1,a2, ...,anconsisting of small English letters with length not exceeding20, which are the words in the dictionary.Thenmlines follow, each of them contains an integert(1 ≤t≤ 2) followed by two different wordsxiandyiwhich has appeared in the dictionary words. Ift= 1, that meansxihas a synonymy relation withyi, otherwisexihas an antonymy relation withyi.Thenqlines follow, each of them contains two different words which has appeared in the dictionary. That are the pairs of words Mahmoud wants to know the relation between basing on the relations he had discovered.All words in input contain only lowercase English letters and their lengths don't exceed20characters. In all relations and in all questions the two words are different.OutputFirst, printmlines, one per each relation. If some relation is wrong (makes two words opposite and have the same meaning at the same time) you should print \"NO\" (without quotes) and ignore it, otherwise print \"YES\" (without quotes).After that printqlines, one per each question. If the two words have the same meaning, output1. If they are opposites, output2. If there is no relation between them, output3.See the samples for better understanding.ExamplesInput3 3 4hate love like1 love like2 love hate1 hate likelove likelove hatelike hatehate likeOutputYESYESNO1222Input8 6 5hi welcome hello ihateyou goaway dog cat rat1 hi welcome1 ihateyou goaway2 hello ihateyou2 hi goaway2 hi hello1 hi hellodog catdog hihi helloihateyou goawaywelcome ihateyouOutputYESYESYESYESNOYES33112", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c4ad9b64", "template_md5": "35d339e4", "result": "There are $n$ words in a dictionary.  You are given $m$ relations between pairs of words. Each relation is either a synonymy (the words mean the same) or an antonymy (the words mean the opposite).\n\nA relation is considered wrong if it makes two words both synonyms and antonyms at the same time.\n\nYou are given $q$ pairs of words. For each pair, determine:\n\n* 1 if the words are synonyms\n* 2 if the words are antonyms\n* 3 if there is no relation between the words \n\n**Constraints:**\n\n* $2 \\le n \\le 10^5$\n* $1 \\le m, q \\le 10^5$\n* Each word consists of lowercase English letters with length not exceeding 20."}, {"prompt_md5": "e483734f", "template_md5": "465699a0", "result": "You are given a list of words and a set of relationships between them, where each relationship is either \"synonymy\" (meaning the same) or \"antonymy\" (opposite).  \n\nA new relationship is considered \"wrong\" if it makes two words both the same meaning and opposite at the same time.\n\nYour task is to:\n\n1. Determine if each given relationship is correct or wrong.\n2. For each pair of words, determine if they have the same meaning, are opposites, or have no relationship."}]}