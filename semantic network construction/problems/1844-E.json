{"uid": "1844-E", "url": "https://codeforces.com/contest/1844/problem/E", "tags": ["2-sat", " constructive algorithms", " dfs and similar", " dsu", " graphs"], "title": "1844-E", "statement": "E. Great Gridstime limit per test1 secondmemory limit per test256 megabytesinputstandard inputoutputstandard outputAn $$$n \\\\times m$$$ grid of characters is calledgreatif it satisfies these three conditions:Each character is either 'A', 'B', or 'C'.Every $$$2 \\\\times 2$$$ contiguous subgrid contains all three different letters.Any two cells that share a common edge contain different letters.Let $$$(x,y)$$$ denote the cell in the $$$x$$$-th row from the top and $$$y$$$-th column from the left.You want to construct a great grid that satisfies $$$k$$$ constraints. Each constraint consists of two cells, $$$(x_{i,1},y_{i,1})$$$ and $$$(x_{i,2},y_{i,2})$$$, that share exactly one corner. You want your great grid to have the same letter in cells $$$(x_{i,1},y_{i,1})$$$ and $$$(x_{i,2},y_{i,2})$$$.Determine whether there exists a great grid satisfying all the constraints.InputEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\\\le t \\\\le 10^3$$$). The description of the test cases follows.The first line of each test case contains three integers, $$$n$$$, $$$m$$$, and $$$k$$$ ($$$2 \\\\le n,m \\\\le 2 \\\\cdot 10^3$$$, $$$1 \\\\le k \\\\le 4 \\\\cdot 10^3$$$).Each of the next $$$k$$$ lines contains four integers, $$$x_{i,1}$$$, $$$y_{i,1}$$$, $$$x_{i,2}$$$, and $$$y_{i,2}$$$ ($$$1 \\\\le x_{i,1} < x_{i,2} \\\\le n$$$, $$$1 \\\\le y_{i,1},y_{i,2} \\\\le m$$$). It is guaranteed that either $$$(x_{i,2},y_{i,2}) = (x_{i,1}+1,y_{i,1}+1)$$$ or $$$(x_{i,2},y_{i,2}) = (x_{i,1}+1,y_{i,1}-1)$$$.The pairs of cells are pairwise distinct, i.e. for all $$$1 \\\\le i < j \\\\le k$$$, it isnottrue that $$$x_{i,1} = x_{j,1}$$$, $$$y_{i,1} = y_{j,1}$$$, $$$x_{i,2} = x_{j,2}$$$, and $$$y_{i,2} = y_{j,2}$$$.It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\\\cdot 10^3$$$.It is guaranteed that the sum of $$$m$$$ over all test cases does not exceed $$$2 \\\\cdot 10^3$$$.It is guaranteed that the sum of $$$k$$$ over all test cases does not exceed $$$4 \\\\cdot 10^3$$$.OutputFor each test case, output \"YES\" if a great grid satisfying all the constraints exists and \"NO\" otherwise.You can output the answer in any case (upper or lower). For example, the strings \"yEs\", \"yes\", \"Yes\", and \"YES\" will be recognized as positive responses.ExampleInput43 4 41 1 2 22 1 3 21 4 2 32 3 3 22 7 21 1 2 21 2 2 18 5 41 2 2 11 5 2 47 1 8 27 4 8 58 5 41 2 2 11 5 2 47 1 8 27 5 8 4OutputYES NO YES NONoteIn the first test case, the following great grid satisfies all the constraints:BABCCBCAACABIn the second test case, the two constraints imply that cells $$$(1,1)$$$ and $$$(2,2)$$$ have the same letter and cells $$$(1,2)$$$ and $$$(2,1)$$$ have the same letter, which makes it impossible for the only $$$2 \\\\times 2$$$ subgrid to contain all three different letters.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d0a23b81", "template_md5": "35d339e4", "result": "You are given a grid of characters, where each character can be 'A', 'B', or 'C'.  \n\nA grid is considered \"great\" if it meets these rules:\n\n1. Every 2x2 section of the grid contains all three letters ('A', 'B', and 'C').\n2. Any two cells that share a side have different letters.\n\nYou are given a set of constraints. Each constraint specifies two cells in the grid that share one corner.  You need to determine if it's possible to create a \"great\" grid that satisfies all the given constraints.\n\n**Input:**\n\n* The first line contains the number of test cases (t).\n* For each test case:\n    * The first line contains three numbers: n (number of rows), m (number of columns), and k (number of constraints).\n    * The next k lines each contain four numbers: the coordinates of the two cells in each constraint.\n\n**Output:**\n\nFor each test case, output \"YES\" if a \"great\" grid satisfying all constraints exists, and \"NO\" otherwise."}, {"prompt_md5": "2d00d8cb", "template_md5": "465699a0", "result": "You are given a grid of cells. Each cell can be one of three colors.  You need to fill the grid so that:\n\n* Every 2x2 section of the grid has all three colors.\n*  Cells that share a side have different colors.\n\nYou are also given a list of pairs of cells.  For each pair, the cells must have the same color.  \n\nDetermine if it's possible to fill the grid according to these rules."}]}