{"uid": "1975-F", "url": "https://codeforces.com/contest/1975/problem/F", "tags": ["bitmasks", " brute force", " combinatorics", " dfs and similar", " divide and conquer", " dp", " math"], "title": "1975-F", "statement": "F. Settime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputDefine thebinary encodingof a finite set of natural numbers $$$T \\\\subseteq \\\\{0,1,2,\\\\ldots\\\\}$$$ as $$$f(T) = \\\\sum\\\\limits_{i \\\\in T} 2^i$$$. For example, $$$f(\\\\{0,2\\\\}) = 2^0 + 2^2 = 5$$$ and $$$f(\\\\{\\\\}) = 0$$$. Notice that $$$f$$$ is a bijection from all such sets to all non-negative integers. As such, $$$f^{-1}$$$ is also defined.You are given an integer $$$n$$$ along with $$$2^n-1$$$ sets $$$V_1,V_2,\\\\ldots,V_{2^n-1}$$$.Find all sets $$$S$$$ that satisfy the following constraint:$$$S \\\\subseteq \\\\{0,1,\\\\ldots,n-1\\\\}$$$. Note that $$$S$$$ can beempty.For allnon-emptysubsets $$$T \\\\subseteq \\\\{0,1,\\\\ldots,n-1\\\\}$$$, $$$|S \\\\cap T| \\\\in V_{f(T)}$$$.Due to the large input and output, both input and output will be given in terms of binary encodings of the sets.InputThe first line of input contains a single integer $$$n$$$ ($$$1 \\\\leq n \\\\leq 20$$$).The second line of input contains $$$2^n-1$$$ integers $$$v_1,v_2,\\\\ldots,v_{2^n-1}$$$ ($$$0 \\\\leq v_i < 2^{n+1}$$$) — the sets $$$V_i$$$ given in their binary encoding where $$$V_i = f^{-1}(v_i)$$$.OutputThe first line of output should contain an integer $$$k$$$ indicating the number of possible $$$S$$$.In the following $$$k$$$ lines, you should output $$$f(S)$$$ for all possible $$$S$$$ inincreasing order.ExamplesInput315 15 15 15 15 15 12Output4 3 5 6 7Input563 63 63 63 6 63 63 63 63 63 63 5 63 63 63 63 63 63 8 63 63 63 63 2 63 63 63 63 63 63 63Output1 19NoteIn the first test case, one possible $$$S$$$ is $$$f^{-1}(3) = \\\\{0,1\\\\}$$$. All the non-empty subsets $$$T \\\\subseteq \\\\{0,1,2\\\\}$$$ and the corresponding $$$|S \\\\cap T|$$$, $$$f(T)$$$ and $$$V_f(T)$$$ are as follows:$$$T$$$$$$|S\\\\cap T|$$$$$$f(T)$$$$$$V_{f(T)}$$$$$$\\\\{0\\\\}$$$$$$1$$$$$$1$$$$$$\\\\{0,1,2,3\\\\}$$$$$$\\\\{1\\\\}$$$$$$1$$$$$$2$$$$$$\\\\{0,1,2,3\\\\}$$$$$$\\\\{2\\\\}$$$$$$0$$$$$$4$$$$$$\\\\{0,1,2,3\\\\}$$$$$$\\\\{0,1\\\\}$$$$$$2$$$$$$3$$$$$$\\\\{0,1,2,3\\\\}$$$$$$\\\\{0,2\\\\}$$$$$$1$$$$$$5$$$$$$\\\\{0,1,2,3\\\\}$$$$$$\\\\{1,2\\\\}$$$$$$1$$$$$$6$$$$$$\\\\{0,1,2,3\\\\}$$$$$$\\\\{0,1,2\\\\}$$$$$$2$$$$$$7$$$$$$\\\\{2,3\\\\}$$$", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "c7acedee", "template_md5": "35d339e4", "result": "You are given a number $n$ and $2^n - 1$ sets of numbers. Each set is represented by a binary code.\n\nYou need to find all possible subsets $S$ of numbers from 0 to $n-1$.  \n\nFor each non-empty subset $T$ of numbers from 0 to $n-1$, the number of elements in the intersection of $S$ and $T$ ($|S \\cap T|$) must be in the set corresponding to the binary code of $f(T)$.\n\nHere, $f(T)$ is the sum of all the numbers in the set $T$.\n\nOutput the number of possible subsets $S$ and then list the binary codes of $f(S)$ for all possible $S$ in increasing order."}, {"prompt_md5": "032c9ec3", "template_md5": "465699a0", "result": "You are given a number *n* and a list of sets. Each set represents a possible combination of numbers from 0 to *n-1*.  You need to find all possible combinations of numbers from 0 to *n-1* that satisfy a specific rule: for any subset of numbers from 0 to *n-1*, the number of overlapping elements between your combination and that subset must be within a given set. Output the number of valid combinations and the unique combinations themselves."}]}