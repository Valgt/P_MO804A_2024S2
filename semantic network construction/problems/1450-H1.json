{"uid": "1450-H1", "url": "https://codeforces.com/contest/1450/problem/H1", "tags": ["combinatorics", " fft", " math"], "title": "1450-H1", "statement": "H1. Multithreading (Easy Version)time limit per test4 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputThe only difference between the two versions of the problem is that there are no updates in the easy version.There are $$$n$$$ spools of thread placed on the rim of a circular table. The spools come in two types of thread: the first thread is black and the second thread is white.For any two spools of the same color, you can attach them with a thread of that color in a straight line segment. Define a matching as a way to attach spools together so that each spool is attached to exactly one other spool.Coloring is an assignment of colors (white and black) to the spools. A coloring is calledvalidif it has at least one matching. That is if the number of black spools and the number of white spools are both even.Given a matching, we can find the number of times some white thread intersects some black thread. We compute the number of pairs of differently colored threads that intersect instead of the number of intersection points, so one intersection point may be counted multiple times if different pairs of threads intersect at the same point. If $$$c$$$ is a valid coloring, let $$$f(c)$$$ denote the minimum number of such intersections out of all possible matchings.The circle above is described by the coloringbwbbbwww. After matching the spools as shown, there is one intersection between differently colored threads. It can be proven that it is the minimum possible, so $$$f(\\\\text{bwbbbwww}) = 1$$$.You are given a string $$$s$$$ representing anunfinishedcoloring, with black, white, and uncolored spools. A coloring $$$c$$$ is called $$$s$$$-reachable if you can achieve it by assigning colors to the uncolored spools of $$$s$$$ without changing the others.A coloring $$$c$$$ is chosen uniformly at random among all valid, $$$s$$$-reachable colorings. Compute theexpected valueof $$$f(c)$$$. You should find it by modulo $$$998244353$$$.We can show that the answer can be written in the form $$$\\\\frac{p}{q}$$$ where $$$p$$$ and $$$q$$$ are relatively prime integers and $$$q\\\\not\\\\equiv 0\\\\pmod{998244353}$$$. The answer by modulo $$$998244353$$$ is equal to $$$(p\\\\cdot q^{-1})$$$ modulo $$$998244353$$$.InputThe first line contains two integers $$$n$$$, $$$m$$$ ($$$2\\\\le n\\\\le 2\\\\cdot 10^5$$$, $$$n$$$ is even, $$$m=0$$$) — the number of spools and updates, respectively. There are no updates in the easy version, so it is always $$$0$$$.The second line contains a string $$$s$$$ of length $$$n$$$ — the unfinished coloring of the spools. The $$$i$$$-th character will be 'w', 'b', or '?', describing if the $$$i$$$-th spool is white, black, or uncolored, respectively.It is guaranteed there exists at least one uncolored spool.OutputPrint the expected value of $$$f(c)$$$ by modulo $$$998244353$$$.ExamplesInput8 0 bwbb?wwwOutput1Input10 0 ???ww?wb??Output436731905Input4 0 bw?bOutput0NoteThe first test corresponds closely to the image. Coloring '?' as 'w' does not create a valid coloring because the number of black spools is odd. Then the only reachable valid coloring is 'bwbbbwww' and $$$f(\\\\text{bwbbbwww}) = 1$$$, so the expected value is $$$1$$$.It can be shown that the expected value for the second test is $$$\\\\frac{9}{16}$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "b2898eed", "template_md5": "35d339e4", "result": "You are given a circular arrangement of $n$ spools, where each spool can be black ('b'), white ('w'), or uncolored ('?').  \n\nYou need to determine the expected number of times a black thread will intersect a white thread when you randomly color the uncolored spools ('?') with either black or white, ensuring that the number of black and white spools is always even.\n\n**Input:**\n\n* The first line contains two integers: $n$ (the number of spools) and $m$ (the number of updates, which is 0 in this case).\n* The second line contains a string of length $n$ representing the arrangement of spools, where each character is 'b', 'w', or '?'.\n\n**Output:**\n\nPrint the expected number of intersections modulo 998244353."}, {"prompt_md5": "4aad4a6a", "template_md5": "465699a0", "result": "You have a set of objects, some are black, some are white, and some are uncolored. You can connect any two objects of the same color with a line.  \n\nThe goal is to figure out the average number of times a black line will cross a white line when you connect the objects in a valid way (meaning you can connect all the objects).  You are given a partially colored set of objects and need to consider all the ways to color the remaining objects to make a valid connection."}]}