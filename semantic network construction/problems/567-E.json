{"uid": "567-E", "url": "https://codeforces.com/contest/567/problem/E", "tags": ["dfs and similar", " graphs", " hashing", " shortest paths"], "title": "567-E", "statement": "E. President and Roadstime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputBerland hasncities, the capital is located in citys, and the historic home town of the President is in cityt(s≠t). The cities are connected by one-way roads, the travel time for each of the road is a positive integer.Once a year the President visited his historic home townt, for which his motorcade passes along some path fromstot(he always returns on a personal plane). Since the president is a very busy man, he always chooses the path fromstot, along which he will travel the fastest.The ministry of Roads and Railways wants to learn for each of the road: whether the President will definitely pass through it during his travels, and if not, whether it is possible to repair it so that it would definitely be included in the shortest path from the capital to the historic home town of the President. Obviously, the road can not be repaired so that the travel time on it was less than one. The ministry of Berland, like any other, is interested in maintaining the budget, so it wants to know the minimum cost of repairing the road. Also, it is very fond of accuracy, so it repairs the roads so that the travel time on them is always a positive integer.InputThe first lines contain four integersn,m,sandt(2 ≤n≤ 105; 1 ≤m≤ 105; 1 ≤s,t≤n) — the number of cities and roads in Berland, the numbers of the capital and of the Presidents' home town (s≠t).Nextmlines contain the roads. Each road is given as a group of three integersai,bi,li(1 ≤ai,bi≤n;ai≠bi; 1 ≤li≤ 106) — the cities that are connected by thei-th road and the time needed to ride along it. The road is directed from cityaito citybi.The cities are numbered from 1 ton. Each pair of cities can have multiple roads between them. It is guaranteed that there is a path fromstotalong the roads.OutputPrintmlines. Thei-th line should contain information about thei-th road (the roads are numbered in the order of appearance in the input).If the president will definitely ride along it during his travels, the line must contain a single word \"YES\" (without the quotes).Otherwise, if thei-th road can be repaired so that the travel time on it remains positive and then president will definitely ride along it, print space-separated word \"CAN\" (without the quotes), and the minimum cost of repairing.Ifwe can't make the road be such that president will definitely ride along it, print \"NO\" (without the quotes).ExamplesInput6 7 1 61 2 21 3 102 3 72 4 83 5 34 5 25 6 1OutputYESCAN 2CAN 1CAN 1CAN 1CAN 1YESInput3 3 1 31 2 102 3 101 3 100OutputYESYESCAN 81Input2 2 1 21 2 11 2 2OutputYESNONoteThe cost of repairing the road is the difference between the time needed to ride along it before and after the repairing.In the first sample president initially may choose one of the two following ways for a ride:1 → 2 → 4 → 5 → 6or1 → 2 → 3 → 5 → 6.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "f9aa25e5", "template_md5": "35d339e4", "result": "There are $n$ cities and $m$ one-way roads connecting them.  City $s$ is the capital and city $t$ is a historic location.  Each road has a travel time, which is a positive integer.\n\nThe goal is to determine for each road whether the shortest path from the capital to the historic location will definitely use that road. If not, determine the minimum cost to repair the road so that it will be part of the shortest path.  The cost of repairing a road is the difference between its original travel time and its new travel time (which must be at least 1).\n\n**Input:**\n\n* The first line contains four integers: $n$, $m$, $s$, and $t$ ($2 \\le n \\le 10^5$, $1 \\le m \\le 10^5$, $1 \\le s, t \\le n$, $s \\neq t$).\n* The next $m$ lines describe the roads. Each line contains three integers: $a$, $b$, and $l$ ($1 \\le a, b \\le n$, $a \\neq b$, $1 \\le l \\le 10^6$), representing a road from city $a$ to city $b$ with travel time $l$.\n\n**Output:**\n\n* Print $m$ lines, one for each road.\n    * If the shortest path will definitely use the road, print \"YES\".\n    * If the road can be repaired to be part of the shortest path, print \"CAN\" followed by the minimum repair cost.\n    * If the road cannot be repaired to be part of the shortest path, print \"NO\"."}, {"prompt_md5": "d07882a4", "template_md5": "465699a0", "result": "There are cities connected by one-way roads with travel times.  You need to determine for each road if the shortest path between two cities will always use that road, and if not, the minimum cost to change the road so it is always used."}]}