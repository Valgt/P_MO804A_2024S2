{"uid": "788-D", "url": "https://codeforces.com/contest/788/problem/D", "tags": ["constructive algorithms", " divide and conquer", " interactive"], "title": "788-D", "statement": "D. Finding linestime limit per test3 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAfter some programming contest Roma decided to try himself in tourism. His home country Uzhlyandia is a Cartesian plane. He wants to walk along each of the Main Straight Lines in Uzhlyandia. It is known that each of these lines is a straight line parallel to one of the axes (i.e. it is described with the equationx=aory=a, whereais integer called the coordinate of this line).Roma lost his own map, so he should find out the coordinates of all lines at first. Uncle Anton agreed to help him, using the following rules:Initially Roma doesn't know the number of vertical and horizontal lines and their coordinates;Roma can announce integer coordinates of some point in Uzhlandia, and Anton then will tell him the minimum among the distances from the chosen point to each of the lines. However, since the coordinates of the lines don't exceed108by absolute value, Roma can't choose a point with coordinates exceeding108by absolute value.Uncle Anton is in a hurry to the UOI (Uzhlandian Olympiad in Informatics), so he can only answer no more than3·105questions.The problem is that Roma doesn't know how to find out the coordinates of the lines. Write a program that plays Roma's role and finds the coordinates.InputThere is no input initially. Your program should make queries to get information.It is guaranteed that the number of horizontal and vertical lines is at least1and less than or equal to104for each type.InteractionTo make a query, print a line \"0 x y\" (-108≤x,y≤ 108), wherexandyare the coordinates of the point. After each query you need to print end-of-line, make \"flush\" operation, and then read the answer to the query — the minimum among the distances prom this point to the Main Straight Lines of Uzhlyandia.You can do no more than3·105queries.When you are ready to print the answer, print three lines:In the first line print \"1 n m\", wherenis the number of vertical lines (parallel toOY), andmis the number of horizontal lines (parallel toOX).In the second line printnintegersx1,x2, ...,xn— the coordinates of the vertical lines.In the third line in the same format printmintegersy1,y2, ...,ym— the coordinates of the horizontal lines.You can print coordinates in arbitrary order.To make \"flush\", you can use (just after printing a query/answer and end-of-line):fflush(stdout)in C++;System.out.flush()in Java;stdout.flush()in Python;flush(output)in Pascal;see the documentation for other languages.You will getWrong Answerif you make more queries than allowed or make an invalid query.You can getIdleness Limit Exceededif you don't print anything or if you forget to flush the output.If at any moment your program reads-1as an answer, it should immediately exit normally (for example, by callingexit(0)). You will getWrong Answerin this case, it means that you made more queries than allowed, or made an invalid query. If you ignore this, you can get other verdicts since your program will continue to read from a closed stream.Making test for hackingThe first line should contain two integersnandm(1 ≤n,m≤ 104).The second line should containndistinct integersxi(-108≤xi≤ 108) — the coordinates of the vertical lines.The third line should containmdistinct integersyi(-108≤yi≤ 108) — the coordinates of the horizontal lines.You can write coordinates in arbitrary order.You can see the example case in the notes.ExampleInput1132Output0 1 20 -2 -20 5 60 -2 21 1 220 -3NoteThe example test is1 220 -3The minimum distances are:from(1, 2)tox= 2;from( - 2,  - 2)toy=  - 3;from(5, 6)tox= 2;from( - 2, 2)toy= 0.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d6383c7b", "template_md5": "35d339e4", "result": "You are given a 2D plane where lines are parallel to the x or y axes.  You need to find the coordinates of all these lines.\n\nYou can ask questions of the form \"What is the minimum distance from the point $(x, y)$ to any of the lines?\"\n\n* You can ask a maximum of $3 \\times 10^5$ questions.\n* The coordinates of any point you ask about must be between $-10^8$ and $10^8$.\n* The coordinates of any line are also between $-10^8$ and $10^8$.\n* There are at least 1 and at most $10^4$ vertical lines and at most $10^4$ horizontal lines.\n\nAfter you have found the coordinates of all the lines, you must output:\n\n1. The number of vertical lines ($n$) and the number of horizontal lines ($m$).\n2. The coordinates of the vertical lines.\n3. The coordinates of the horizontal lines.\n\n\n\nYou will receive the answer \"-1\" if you exceed the maximum number of questions or make an invalid query."}, {"prompt_md5": "d63c8328", "template_md5": "465699a0", "result": "You need to find the coordinates of all vertical and horizontal lines in a grid. You can ask for the minimum distance from a given point to all the lines. You have a limited number of questions to ask."}]}