{"uid": "1895-F", "url": "https://codeforces.com/contest/1895/problem/F", "tags": ["combinatorics", " dp", " math", " matrices"], "title": "1895-F", "statement": "F. Fancy Arraystime limit per test4 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputLet's call an array $$$a$$$ of $$$n$$$ non-negative integersfancyif the following conditions hold:at least one from the numbers $$$x$$$, $$$x + 1$$$, ..., $$$x+k-1$$$ appears in the array;consecutive elements of the array differ by at most $$$k$$$ (i.e. $$$|a_i-a_{i-1}| \\\\le k$$$ for each $$$i \\\\in [2, n]$$$).You are given $$$n$$$, $$$x$$$ and $$$k$$$. Your task is to calculate the number offancyarrays of length $$$n$$$. Since the answer can be large, print it modulo $$$10^9+7$$$.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 50$$$) — the number of test cases.The only line of each test case contains three integers $$$n$$$, $$$x$$$ and $$$k$$$ ($$$1 \\\\le n, k \\\\le 10^9$$$; $$$0 \\\\le x \\\\le 40$$$).OutputFor each test case, print a single integer — the number offancyarrays of length $$$n$$$, taken modulo $$$10^9+7$$$.ExampleInput43 0 11 4 254 7 21000000000 40 1000000000Output9 25 582 514035484NoteIn the first test case of the example, the following arrays are fancy:$$$[0, 0, 0]$$$;$$$[0, 0, 1]$$$;$$$[0, 1, 0]$$$;$$$[0, 1, 1]$$$;$$$[0, 1, 2]$$$;$$$[1, 0, 0]$$$;$$$[1, 0, 1]$$$;$$$[1, 1, 0]$$$;$$$[2, 1, 0]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "dcfac576", "template_md5": "35d339e4", "result": "You are given three integers $n$, $x$, and $k$.  An array of $n$ non-negative integers is considered \"fancy\" if:\n\n* At least one of the numbers $x$, $x+1$, ..., $x+k-1$ appears in the array.\n* The absolute difference between any two consecutive elements in the array is at most $k$ (i.e., $|a_i - a_{i-1}| \\le k$ for all $i$ from 2 to $n$).\n\nFind the number of fancy arrays of length $n$. The answer may be large, so print it modulo $10^9 + 7$."}, {"prompt_md5": "82108185", "template_md5": "465699a0", "result": "You are given a length, a starting number, and a maximum difference between consecutive numbers.  Count how many arrays of that length exist where:\n\n* At least one number from the sequence starting at the given number and going up by 1 to  (starting number + maximum difference - 1) is in the array.\n* The difference between any two consecutive numbers in the array is at most the maximum difference. \n\nThe answer should be the count modulo 10^9 + 7."}]}