{"uid": "1550-D", "url": "https://codeforces.com/contest/1550/problem/D", "tags": ["binary search", " combinatorics", " constructive algorithms", " implementation", " math", " sortings", " two pointers"], "title": "1550-D", "statement": "D. Excellent Arraystime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputLet's call an integer array $$$a_1, a_2, \\\\dots, a_n$$$goodif $$$a_i \\\\neq i$$$ for each $$$i$$$.Let $$$F(a)$$$ be the number of pairs $$$(i, j)$$$ ($$$1 \\\\le i < j \\\\le n$$$) such that $$$a_i + a_j = i + j$$$.Let's say that an array $$$a_1, a_2, \\\\dots, a_n$$$ isexcellentif:$$$a$$$ isgood;$$$l \\\\le a_i \\\\le r$$$ for each $$$i$$$;$$$F(a)$$$ is the maximum possible among allgoodarrays of size $$$n$$$.Given $$$n$$$, $$$l$$$ and $$$r$$$, calculate the number ofexcellentarrays modulo $$$10^9 + 7$$$.InputThe first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 1000$$$) — the number of test cases.The first and only line of each test case contains three integers $$$n$$$, $$$l$$$, and $$$r$$$ ($$$2 \\\\le n \\\\le 2 \\\\cdot 10^5$$$; $$$-10^9 \\\\le l \\\\le 1$$$; $$$n \\\\le r \\\\le 10^9$$$).It's guaranteed that the sum of $$$n$$$ doesn't exceed $$$2 \\\\cdot 10^5$$$.OutputFor each test case, print the number of excellent arrays modulo $$$10^9 + 7$$$.ExampleInput4 3 0 3 4 -3 5 42 -33 55 69 -42 146Output4 10 143922563 698570404NoteIn the first test case, it can be proven that the maximum $$$F(a)$$$ among allgoodarrays $$$a$$$ is equal to $$$2$$$. The excellent arrays are:$$$[2, 1, 2]$$$;$$$[0, 3, 2]$$$;$$$[2, 3, 2]$$$;$$$[3, 0, 1]$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "85632ed5", "template_md5": "35d339e4", "result": "You are given an integer $n$, and two integers $l$ and $r$.  \n\nAn array $a$ of length $n$ is considered \"good\" if $a_i \\neq i$ for all $i$ from 1 to $n$.\n\nDefine a function $F(a)$ as the number of pairs $(i, j)$ where $1 \\le i < j \\le n$ and $a_i + a_j = i + j$.\n\nAn array $a$ is considered \"excellent\" if it is good, $l \\le a_i \\le r$ for all $i$, and $F(a)$ is the maximum possible value of $F(a)$ among all good arrays of size $n$.\n\nFind the number of excellent arrays modulo $10^9 + 7$. \n\n\n\nYou are given $t$ test cases. Each test case contains three integers $n$, $l$, and $r$."}, {"prompt_md5": "aa720588", "template_md5": "465699a0", "result": "You are given a number n and two integers l and r.  You need to find the number of arrays of length n where:\n\n* Each number in the array is between l and r (inclusive).\n* No number in the array is equal to its index.\n* The array has the maximum possible number of pairs (i, j) where i < j and the sum of the numbers at those indices is equal to the sum of the indices.\n\n\n\nThe answer should be given modulo 10^9 + 7."}]}