{"uid": "1945-H", "url": "https://codeforces.com/contest/1945/problem/H", "tags": ["brute force", " data structures", " math", " number theory"], "title": "1945-H", "statement": "H. GCD is Greatertime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputIn the evenings during the hike, Kirill and Anton decided to take out an array of integers $$$a$$$ of length $$$n$$$ from their backpack and play a game with it. The rules are as follows:Kirill chooses from $$$2$$$ to $$$(n-2)$$$ numbers and encircles them in red.Anton encircles all the remaining numbers in blue.Kirill calculates thegreatest common divisor(GCD) of all the red numbers.Anton calculates thebitwise ANDof all the blue numbers and adds the number $$$x$$$ to the result.If the GCD of all the red numbers is strictly greater than the sum of the bitwise AND of all the blue numbers and the number $$$x$$$, then Kirill wins; otherwise, Anton wins.Help Kirill to beat Anton or tell if it's impossible.InputEach test consists of multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 20\\\\,000$$$) — the number of test cases. Then follows the description of the test cases.The first line of each test case contains two integers $$$n$$$ and $$$x$$$ ($$$4\\\\le n \\\\le 4\\\\cdot 10^5$$$, $$$0 \\\\le x \\\\le 4\\\\cdot 10^5$$$) — the number of integers and the number $$$x$$$ respectively.The second line contains an array $$$a$$$ of length $$$n$$$ ($$$1 \\\\le a_i \\\\le 4\\\\cdot 10^5$$$).It is guaranteed that the sum of $$$n$$$ for all test cases does not exceed $$$4\\\\cdot 10^5$$$. It is also guaranteed that the sum of the maximum values of $$$a_i$$$ for each test case does not exceed $$$4\\\\cdot 10^5$$$.OutputFor each test case, output \"YES\" on the first line if the condition can be met, on the second line, output the number of chosen numbers by Kirill and the numbers themselves in any order separated by a space, and on the third line, output the size of the second set and the numbers in it.Otherwise, output \"NO\".You can output each letter in any case (lowercase or uppercase). For example, the strings \"yEs\", \"yes\", \"Yes\", and \"YES\" will be accepted as a positive answer.ExampleInput84 14 3 1 84 14 5 8 45 01 1 1 1 15 231 63 127 63 314 11 3 3 38 34 3 4 1 2 2 5 34 21 4 3 68 4831 61 37 15 53 26 61 12OutputYES 2 4 8 2 3 1  YES 2 4 4 2 5 8  NO YES 2 63 63 3 31 127 31 YES 2 3 3 2 1 3 YES 2 4 4 6 3 1 2 2 5 3 YES 2 3 6 2 1 4  YES 2 61 61 6 31 37 15 53 26 12", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "d15b6d2e", "template_md5": "35d339e4", "result": "You are given an array of integers $a$ of length $n$. Two players take turns choosing numbers from the array.\n\n* **Player 1 (Kirill):** Chooses $k$ numbers from the array ($2 \\le k \\le n-2$) and calculates the greatest common divisor (GCD) of those numbers.\n* **Player 2 (Anton):** Chooses the remaining numbers and calculates the bitwise AND of those numbers. Anton then adds a constant value $x$ to the result.\n\nIf Kirill's GCD is strictly greater than Anton's bitwise AND + $x$, Kirill wins; otherwise, Anton wins.\n\n**Input:**\n\n* $t$ - the number of test cases\n* For each test case:\n    * $n$ - the length of the array\n    * $x$ - the constant value\n    * $a$ - the array of integers\n\n**Output:**\n\n* For each test case:\n    * \"YES\" if Kirill can win, \"NO\" otherwise\n    * If Kirill can win, output:\n        * The number of numbers Kirill chooses ($k$)\n        * The chosen numbers\n        * The number of numbers Anton chooses\n        * The chosen numbers"}, {"prompt_md5": "ccda4f06", "template_md5": "465699a0", "result": "You are given a list of numbers. Two players take turns selecting subsets of the list. The first player chooses a subset of at least 2 numbers and calculates the greatest common divisor (GCD) of those numbers. The second player chooses the remaining numbers and calculates the bitwise AND of those numbers, then adds a given constant to the result. If the first player's GCD is strictly greater than the second player's result, the first player wins. Determine if the first player can always win, and if so, what subset of numbers they should choose."}]}