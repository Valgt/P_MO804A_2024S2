{"uid": "1801-D", "url": "https://codeforces.com/contest/1801/problem/D", "tags": ["binary search", " data structures", " dp", " graphs", " greedy", " shortest paths", " sortings"], "title": "1801-D", "statement": "D. The way hometime limit per test3 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputThe famous magician Borya Budini traveled through the country $$$X$$$, which consists of $$$n$$$ cities. However, an accident happened, and he was robbed in the city number $$$1$$$. Now Budini will have a hard way home to the city number $$$n$$$.He's going to get there by plane. In total, there are $$$m$$$ flights in the country, $$$i$$$-th flies from city $$$a_i$$$ to city $$$b_i$$$ and costs $$$s_i$$$ coins. Note that the $$$i$$$-th flight is one-way, so it can't be used to get from city $$$b_i$$$ to city $$$a_i$$$. To use it, Borya must be in the city $$$a_i$$$ and have at least $$$s_i$$$ coins (which he will spend on the flight).After the robbery, he has only $$$p$$$ coins left, but he does not despair! Being in the city $$$i$$$, he can organize performances every day, each performance will bring him $$$w_i$$$ coins.Help the magician find out if he will be able to get home, and what is the minimum number of performances he will have to organize.InputEach test consists of multiple test cases. The first line contains a single integer $$$t$$$ ($$$1 \\\\le t \\\\le 80$$$) – the number of test cases. The description of test cases follows.The first line contains three integers $$$n$$$, $$$m$$$ and $$$p$$$ ($$$2 \\\\le n \\\\le 800$$$, $$$1 \\\\le m \\\\le 3000$$$, $$$0 \\\\le p \\\\le 10^9$$$) — the number of cities, the number of flights and the initial amount of coins.The second line contains $$$n$$$ integers $$$w_1, w_2, \\\\ldots, w_n$$$ $$$(1 \\\\le w_i \\\\le 10^9)$$$ — profit from representations.The following $$$m$$$ lines each contain three integers $$$a_i$$$, $$$b_i$$$ and $$$s_i$$$ ($$$1 \\\\le a_i, b_i \\\\le n$$$, $$$1 \\\\le s_i \\\\le 10^9$$$) — the starting and ending city, and the cost of $$$i$$$-th flight.It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$800$$$ and the sum of $$$m$$$ over all test cases does not exceed $$$10000$$$.OutputFor each test case print a single integer — the minimum number of performances Borya will have to organize to get home, or $$$-1$$$ if it is impossible to do this.ExampleInput44 4 27 4 3 11 2 213 2 61 3 82 4 114 4 101 2 10 11 2 202 4 301 3 253 4 894 4 75 1 6 21 2 52 3 103 4 503 4 704 1 21 1 1 11 3 2Output4 24 10 -1NoteIn the first example, it is optimal for Borya to make $$$4$$$ performances in the first city, having as a result $$$2 + 7 \\\\cdot 4 = 30$$$ coins, and then walk along the route $$$1-3-2-4$$$, spending $$$6+8+11=25$$$ coins.  In the second example, it is optimal for Borya to make $$$15$$$ performances in the first city, fly to $$$3$$$ city, make $$$9$$$ performances there, and then go to $$$4$$$ city.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "71109e97", "template_md5": "465699a0", "result": "You are given a graph with cities as nodes and flights as edges. Each flight has a cost. You start at city 1 with a limited amount of money and need to reach city n. You can earn money by performing in each city.  Determine the minimum number of performances needed to reach city n, or if it's impossible."}, {"prompt_md5": "5ccebfc5", "template_md5": "35d339e4", "result": "There are $n$ cities and $m$ one-way flights between them. Each flight $i$ goes from city $a_i$ to city $b_i$ and costs $s_i$ coins. \n\nYou start in city 1 with $p$ coins and want to reach city $n$.  In each city $i$, you can perform a show that earns you $w_i$ coins.\n\nDetermine the minimum number of shows you need to perform to reach city $n$, or determine if it's impossible."}]}