{"uid": "1866-K", "url": "https://codeforces.com/contest/1866/problem/K", "tags": ["binary search", " data structures", " dp", " geometry", " graphs", " implementation", " trees"], "title": "1866-K", "statement": "K. Keen Tree Calculationtime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputThere is a tree of $$$N$$$ vertices and $$$N-1$$$ edges. The $$$i$$$-th edge connects vertices $$$U_i$$$ and $$$V_i$$$ and has a length of $$$W_i$$$.Chaneka, the owner of the tree, asks you $$$Q$$$ times. For the $$$j$$$-th question, the following is the question format:$$$X_j$$$ $$$K_j$$$ – If each edge that contains vertex $$$X_j$$$ has its length multiplied by $$$K_j$$$, what is the diameter of the tree?Notes:Each of Chaneka's question isindependent, which means the changes in edge length do not influence the next questions.The diameter of a tree is the maximum possible distance between two different vertices in the tree.InputThe first line contains a single integer $$$N$$$ ($$$2\\\\leq N\\\\leq10^5$$$) — the number of vertices in the tree.The $$$i$$$-th of the next $$$N-1$$$ lines contains three integers $$$U_i$$$, $$$V_i$$$, and $$$W_i$$$ ($$$1 \\\\leq U_i,V_i \\\\leq N$$$; $$$1\\\\leq W_i\\\\leq10^9$$$) — an edge that connects vertices $$$U_i$$$ and $$$V_i$$$ with a length of $$$W_i$$$. The edges form a tree.The $$$(N+1)$$$-th line contains a single integer $$$Q$$$ ($$$1\\\\leq Q\\\\leq10^5$$$) — the number of questions.The $$$j$$$-th of the next $$$Q$$$ lines contains two integers $$$X_j$$$ and $$$K_j$$$ as described ($$$1 \\\\leq X_j \\\\leq N$$$; $$$1 \\\\leq K_j \\\\leq 10^9$$$).OutputOutput $$$Q$$$ lines with an integer in each line. The integer in the $$$j$$$-th line represents the diameter of the tree on the $$$j$$$-th question.ExamplesInput7 5 1 2 1 4 2 3 4 1 2 5 3 6 1 6 4 7 2 2 4 3 3 2Output18 11Input3 1 2 1000000000 2 3 1000000000 1 2 1000000000Output2000000000000000000NoteIn the first example, the following is the tree without any changes.The following is the tree on the $$$1$$$-st question.The maximum distance is between vertices $$$6$$$ and $$$7$$$, which is $$$6+6+6=18$$$, so the diameter is $$$18$$$.The following is the tree on the $$$2$$$-nd question.The maximum distance is between vertices $$$2$$$ and $$$6$$$, which is $$$3+2+6=11$$$, so the diameter is $$$11$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "7acd811d", "template_md5": "35d339e4", "result": "You are given a tree with $N$ vertices and $N-1$ edges. Each edge has a length. You are asked $Q$ questions. For each question, you are given a vertex $X_j$ and a number $K_j$. You need to find the diameter of the tree after multiplying the length of each edge containing vertex $X_j$ by $K_j$.\n\n**Input:**\n\n* The first line contains an integer $N$ ($2 \\leq N \\leq 10^5$) - the number of vertices.\n* The next $N-1$ lines each contain three integers $U_i$, $V_i$, and $W_i$ ($1 \\leq U_i, V_i \\leq N$; $1 \\leq W_i \\leq 10^9$) - describing an edge between vertices $U_i$ and $V_i$ with length $W_i$.\n* The $(N+1)$-th line contains an integer $Q$ ($1 \\leq Q \\leq 10^5$) - the number of questions.\n* The next $Q$ lines each contain two integers $X_j$ and $K_j$ ($1 \\leq X_j \\leq N$; $1 \\leq K_j \\leq 10^9$) - describing a question.\n\n**Output:**\n\n* Output $Q$ lines, each containing an integer - the diameter of the tree after applying the changes described in the corresponding question."}, {"prompt_md5": "1a4c59ab", "template_md5": "465699a0", "result": "You are given a tree with a certain number of nodes and edges. Each edge has a length. You are asked multiple times to change the length of edges connected to a specific node by a factor. After each change, you need to find the longest distance between any two nodes in the modified tree."}]}