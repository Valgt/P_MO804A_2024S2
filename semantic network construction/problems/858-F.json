{"uid": "858-F", "url": "https://codeforces.com/contest/858/problem/F", "tags": ["constructive algorithms", " dfs and similar", " graphs"], "title": "858-F", "statement": "F. Wizard's Tourtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputAll Berland residents are waiting for an unprecedented tour of wizard in his Blue Helicopter over the cities of Berland!It is well-known that there arencities in Berland, some pairs of which are connected by bidirectional roads. Each pair of cities is connected by no more than one road. It is not guaranteed that the road network isconnected, i.e. it is possible that you can't reach some city from some other.The tour will contain several episodes. In each of the episodes:the wizard will disembark at some cityxfrom the Helicopter;he will give a performance and show a movie for free at the cityx;he will drive to some neighboring cityyusing a road;he will give a performance and show a movie for free at the cityy;he will drive to some neighboring toycityz;he will give a performance and show a movie for free at the cityz;he will embark the Helicopter and fly away from the cityz.It is known that the wizard doesn't like to use roads, so he agrees to use each road at most once (regardless of direction). In other words, for road betweenaandbhe only can drive once fromatob, or drive once frombtoa, or do not use this road at all.The wizards wants to plan as many episodes as possible without violation the above rules. Help the wizard!Please note that the wizard can visit the same city multiple times, the restriction is on roads only.InputThe first line contains two integersn,m(1 ≤n≤ 2·105,0 ≤m≤ 2·105) — the number of cities and the number of roads in Berland, respectively.The roads description follow, one in each line. Each description is a pair of two integersai,bi(1 ≤ai,bi≤n,ai≠bi), whereaiandbiare the ids of the cities connected by thei-th road. It is guaranteed that there are no two roads connecting the same pair of cities. Every road is bidirectional. The cities are numbered from1ton.It is possible that the road network in Berland is not connected.OutputIn the first line printw— the maximum possible number of episodes. The nextwlines should contain the episodes in formatx,y,z— the three integers denoting the ids of the cities in the order of the wizard's visits.ExamplesInput4 51 23 22 43 44 1Output21 4 24 3 2Input5 85 31 24 55 12 54 31 43 2Output41 4 52 3 41 5 35 2 1", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "22597c57", "template_md5": "35d339e4", "result": "There are $n$ cities and $m$ roads connecting them. Each road connects two cities and can be traveled in both directions.  \n\nThe goal is to plan the maximum number of tours, where each tour consists of the following steps:\n\n1. Start at city $x$.\n2. Travel to city $y$ using a road.\n3. Travel to city $z$ using a road.\n4.  Repeat steps 2 and 3.\n\nEach road can only be used once per tour.\n\nOutput the maximum number of tours possible and list the cities visited in each tour."}, {"prompt_md5": "36dd476b", "template_md5": "465699a0", "result": "You are given a map with cities connected by roads.  Each road can only be traveled once.  You need to find the maximum number of times you can visit three cities in a specific order (city A, city B, city C) using the roads, where you can visit the same city multiple times."}]}