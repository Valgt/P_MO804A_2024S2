{"uid": "1842-H", "url": "https://codeforces.com/contest/1842/problem/H", "tags": ["bitmasks", " dp", " graphs", " math", " probabilities"], "title": "1842-H", "statement": "H. Tenzing and Random Real Numberstime limit per test1 secondmemory limit per test1024 megabytesinputstandard inputoutputstandard outputThere are $$$n$$$ uniform random real variables between 0 and 1, inclusive, which are denoted as $$$x_1, x_2, \\\\ldots, x_n$$$.Tenzing has $$$m$$$ conditions. Each condition has the form of $$$x_i+x_j\\\\le 1$$$ or $$$x_i+x_j\\\\ge 1$$$.Tenzing wants to know the probability that all the conditions are satisfied, modulo $$$998~244~353$$$.Formally, let $$$M = 998~244~353$$$. It can be shown that the answer can be expressed as an irreducible fraction $$$\\\\frac{p}{q}$$$, where $$$p$$$ and $$$q$$$ are integers and $$$q \\\\not \\\\equiv 0 \\\\pmod{M}$$$. Output the integer equal to $$$p \\\\cdot q^{-1} \\\\bmod M$$$. In other words, output the integer $$$x$$$ that $$$0 \\\\le x < M$$$ and $$$x \\\\cdot q \\\\equiv p \\\\pmod{M}$$$.InputThe first line contains two integers $$$n$$$ and $$$m$$$ ($$$1\\\\le n\\\\le 20$$$, $$$0\\\\le m\\\\le n^2+n$$$).Then following $$$m$$$ lines of input contains three integers $$$t$$$, $$$i$$$ and $$$j$$$ ($$$t \\\\in \\\\{0,1\\\\}$$$, $$$1\\\\le i\\\\le j\\\\le n$$$).If $$$t=0$$$, the condition is $$$x_i+x_j\\\\le 1$$$.If $$$t=1$$$, the condition is $$$x_i+x_j\\\\ge 1$$$.It is guaranteed that all conditions are pairwise distinct.OutputOutput the probability that all the conditions are satisfied, modulo $$$M = 998~244~353$$$.ExamplesInput3 2 0 1 2 1 3 3Output748683265Input3 3 0 1 2 0 1 3 0 2 3Output748683265Input3 4 0 1 2 0 1 3 1 2 3 1 2 2Output935854081Input4 4 0 1 2 0 3 4 1 1 3 1 2 4Output0Input8 12 0 1 2 0 2 3 1 3 4 0 1 4 0 5 6 0 6 7 1 7 8 0 5 8 1 3 7 1 3 8 1 4 7 1 4 8Output997687297NoteIn the first test case, the conditions are $$$x_1+x_2 \\\\le 1$$$ and $$$x_3+x_3\\\\ge 1$$$, and the probability that each condition is satisfied is $$$\\\\frac 12$$$, so the probability that they are both satisfied is $$$\\\\frac 12\\\\cdot \\\\frac 12=\\\\frac 14$$$, modulo $$$998~244~353$$$ is equal to $$$748683265$$$.In the second test case, the answer is $$$\\\\frac 14$$$.In the third test case, the answer is $$$\\\\frac 1{16}$$$.In the fourth test case, the sum of all variables must equal $$$2$$$, so the probability is $$$0$$$.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "1588ae78", "template_md5": "35d339e4", "result": "You are given $n$ random numbers between 0 and 1, inclusive.  There are $m$ conditions, each of which is either $x_i + x_j \\le 1$ or $x_i + x_j \\ge 1$, where $1 \\le i, j \\le n$.  \n\nFind the probability that all of the conditions are satisfied.  The answer can be expressed as a fraction $p/q$, where $p$ and $q$ are integers and $q$ is not divisible by 998244353. Output the integer $x$ such that $0 \\le x < 998244353$ and $x \\cdot q \\equiv p \\pmod{998244353}$. \n\n\n\nInput:\n\nThe first line contains two integers $n$ and $m$ ($1 \\le n \\le 20$, $0 \\le m \\le n^2 + n$).\n\nThe next $m$ lines each contain three integers $t$, $i$, and $j$ ($t \\in \\{0, 1\\}$, $1 \\le i \\le j \\le n$).\n\nIf $t = 0$, the condition is $x_i + x_j \\le 1$.\n\nIf $t = 1$, the condition is $x_i + x_j \\ge 1$.\n\nOutput:\n\nOutput the probability that all the conditions are satisfied, modulo 998244353."}, {"prompt_md5": "db7fa932", "template_md5": "465699a0", "result": "You are given a set of numbers between 0 and 1.  You also have a set of rules, where each rule states that the sum of two numbers in the set must be either less than or equal to 1 or greater than or equal to 1. What is the probability that all the rules are satisfied?"}]}