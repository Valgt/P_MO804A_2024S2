{"uid": "793-D", "url": "https://codeforces.com/contest/793/problem/D", "tags": ["dp", " graphs", " shortest paths"], "title": "793-D", "statement": "D. Presents in Bankopolistime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputBankopolis is an incredible city in which all thencrossroads are located on a straight line and numbered from1tonalong it. On each crossroad there is a bank office.The crossroads are connected withmoriented bicycle lanes (thei-th lane goes from crossroaduito crossroadvi), the difficulty of each of the lanes is known.Oleg the bank client wants to gift happiness and joy to the bank employees. He wants to visit exactlykoffices, in each of them he wants to gift presents to the employees.The problem is that Oleg don't want to see the reaction on his gifts, so he can't use a bicycle lane which passes near the office in which he has already presented his gifts (formally, thei-th lane passes near the office on thex-th crossroad if and only ifmin(ui,vi) <x<max(ui,vi))). Of course, in each of the offices Oleg can present gifts exactly once. Oleg is going to use exactlyk- 1bicycle lane to move between offices. Oleg can start his path from any office and finish it in any office.Oleg wants to choose such a path among possible ones that the total difficulty of the lanes he will use is minimum possible. Find this minimum possible total difficulty.InputThe first line contains two integersnandk(1 ≤n,k≤ 80) — the number of crossroads (and offices) and the number of offices Oleg wants to visit.The second line contains single integerm(0 ≤m≤ 2000) — the number of bicycle lanes in Bankopolis.The nextmlines contain information about the lanes.Thei-th of these lines contains three integersui,viandci(1 ≤ui,vi≤n,1 ≤ci≤ 1000), denoting the crossroads connected by thei-th road and its difficulty.OutputIn the only line print the minimum possible total difficulty of the lanes in a valid path, or-1if there are no valid paths.ExamplesInput7 441 6 26 2 22 4 22 7 1Output6Input4 342 1 21 3 23 4 24 1 1Output3NoteIn the first example Oleg visiting banks by path1 → 6 → 2 → 4.Path1 → 6 → 2 → 7with smaller difficulity is incorrect because crossroad2 → 7passes near already visited office on the crossroad6.In the second example Oleg can visit banks by path4 → 1 → 3.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "9cb962d6", "template_md5": "35d339e4", "result": "There are $n$ cities connected by $m$ roads. Each road has a difficulty value.  You need to choose $k$ cities to visit, and you can only travel between cities using roads.  \n\nThe roads have a restriction: you cannot use a road that passes near a city you have already visited.  \n\nFind the minimum total difficulty of the roads needed to visit $k$ cities, following this restriction. If it's impossible to visit $k$ cities following the restriction, output -1."}, {"prompt_md5": "14baffe2", "template_md5": "465699a0", "result": "You are given a number of locations and a number of paths between them, each with a cost. You need to choose a path that visits a specific number of locations, without revisiting any location, and find the path with the lowest total cost."}]}