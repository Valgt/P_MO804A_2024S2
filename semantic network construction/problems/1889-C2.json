{"uid": "1889-C2", "url": "https://codeforces.com/contest/1889/problem/C2", "tags": ["data structures", " dp"], "title": "1889-C2", "statement": "C2. Doremy's Drying Plan (Hard Version)time limit per test4 secondsmemory limit per test1024 megabytesinputstandard inputoutputstandard outputThe only differences between the two versions of this problem are the constraint on $$$k$$$, the time limit and the memory limit. You can make hacks only if all versions of the problem are solved.Doremy lives in a rainy country consisting of $$$n$$$ cities numbered from $$$1$$$ to $$$n$$$.The weather broadcast predicted the distribution of rain in the next $$$m$$$ days. In the $$$i$$$-th day, it will rain in the cities in the interval $$$[l_i, r_i]$$$. A city is called dry if it will never rain in that city in the next $$$m$$$ days.It turns out that Doremy has a special power. She can choose $$$k$$$ days, and during these days it will not rain. Doremy wants to calculate the maximum number of dry cities after using the special power.InputThe input consists of multiple test cases. The first line contains a single integer $$$t$$$ ($$$1\\\\le t\\\\le 10^4$$$) — the number of test cases. The description of the test cases follows.The first line contains three integers $$$n$$$, $$$m$$$ and $$$k$$$ ($$$1\\\\le n\\\\le 2\\\\cdot 10^5$$$, $$$2 \\\\le m \\\\le 2\\\\cdot 10^5$$$, $$$2 \\\\le k \\\\le \\\\min(10, m)$$$) — the number of cities, the number of days, and the number of days of rain that Doremy can prevent.Then, $$$m$$$ lines follow. The $$$i$$$-th line contains two integers $$$l_i$$$, $$$r_i$$$ ($$$1\\\\le l_i\\\\le r_i\\\\le n$$$) — the rain coverage on day $$$i$$$.It is guaranteed that the sum of $$$n$$$ and the sum of $$$m$$$ over all test cases do not exceed $$$2\\\\cdot 10^5$$$.OutputFor each test case, output one integer — the maximum number of dry cities.ExampleInput62 3 21 21 21 15 3 21 32 43 510 6 41 56 102 23 75 81 4100 6 51 1001 1001 1001 1001 1001 1001000 2 21 11 120 5 39 203 310 1111 136 18Output1 2 6 0 1000 17NoteIn the first test case, if Doremy preventsrain $$$1,2$$$, then city $$$2$$$ will be dry;rain $$$2,3$$$, then no city will be dry;rain $$$1,3$$$, then no city will be dry;So there is at most $$$1$$$ dry city.In the second test case, if Doremy preventsrain $$$1,2$$$, then city $$$1,2$$$ will be dry;rain $$$2,3$$$, then city $$$4,5$$$ will be dry;rain $$$1,3$$$, then city $$$1,5$$$ will be dry.So there are at most $$$2$$$ dry cities.In the third test case, it is optimal to prevent rain $$$1,2,4,5$$$.In the forth test case, there is always a day of rain that wets all the cities and cannot be prevented.", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "a14bb828", "template_md5": "35d339e4", "result": "There are $n$ cities and $m$ days. On each day $i$, it will rain in cities from $l_i$ to $r_i$ (inclusive). You have the power to choose $k$ days to prevent rain.  Find the maximum number of cities that will remain dry (never experience rain) after using your power.\n\nInput:\n\n* $t$ - the number of test cases\n* For each test case:\n    * $n$ - the number of cities\n    * $m$ - the number of days\n    * $k$ - the number of days you can prevent rain\n    * $m$ lines, each containing two integers $l_i$ and $r_i$ representing the rain coverage on day $i$.\n\nOutput:\n\n* For each test case, output one integer - the maximum number of dry cities."}, {"prompt_md5": "abd1faa9", "template_md5": "465699a0", "result": "You are given a list of days with rain covering a range of cities. You can choose a certain number of days to prevent rain. Find the maximum number of cities that will never see rain after your choices."}]}