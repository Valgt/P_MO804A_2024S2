{"uid": "739-D", "url": "https://codeforces.com/contest/739/problem/D", "tags": ["graph matchings"], "title": "739-D", "statement": "D. Recover a functional graphtime limit per test2 secondsmemory limit per test256 megabytesinputstandard inputoutputstandard outputFunctional graph is a directed graph in which all vertices have outdegree equal to1. Loops are allowed.Some vertices of a functional graph lay on a cycle. From the others we can come to a cycle by making a finite number of steps along the edges (we consider only finite functional graphs in this problem).Let's compute two values for each vertex.precycleiis the amount of edges we should pass to get to a vertex which is a part of some cycle (zero, ifiitself lies on a cycle),cycleiis the length of the cycle we get to.You are given the information about these values for some functional graph. For each vertex you know the valuesprecycleiandcyclei, however, instead of some values there can be the question mark. It means that these values are unknown.Build any functional graph that suits the description or determine that there is no such graph.InputThe first line contains single integern(1 ≤n≤ 300) — the number of vertices in the graph.Each of the nextnlines contain two integers —precyclei(0 ≤precyclei≤n- 1) andcyclei(1 ≤cyclei≤n). There could be question marks instead of some of these values.OutputIn case there is no solution, print-1.Otherwise, printnintegers.i-th of them is the number of vertex to which the edge form thei-th vertex go.The vertices should be in the same order as they go in input data.If there are multiple solutions, print any of them.ExamplesInput30 30 3? ?Output2 3 1Input53 2? ?? ?? ?? ?Output5 3 2 2 4Input8? 3? ?0 20 20 30 30 33 3Output5 1 4 3 6 7 5 2Input1? ?Output1Input60 30 30 30 30 30 3Output2 3 1 5 6 4Input21 11 1Output-1", "source": "CF", "vjudge": false, "processed": [{"prompt_md5": "2ad5b017", "template_md5": "35d339e4", "result": "You are given a graph with $n$ vertices.  Each vertex has exactly one outgoing edge.  \n\nFor each vertex $i$, you are given two pieces of information:\n\n*  $precycle_i$: The number of edges you need to travel along to reach a vertex that is part of a cycle, or 0 if vertex $i$ is already part of a cycle.\n*  $cycle_i$: The length of the cycle that vertex $i$ belongs to, or unknown if it is not part of a cycle.\n\nSome of these values might be marked with a \"?\".\n\nYour task is to:\n\n1. **Determine if a valid graph exists** that satisfies the given information.\n2. **If a valid graph exists, construct it**.  \n\nThe output should be a list of $n$ integers, where the $i$-th integer represents the vertex that the $i$-th vertex points to.\n\nIf no valid graph exists, output \"-1\"."}, {"prompt_md5": "ef8f1d8c", "template_md5": "465699a0", "result": "You are given a list of numbers representing a graph. Each number has two parts: the number of steps to reach a cycle in the graph and the length of that cycle. Some numbers are missing.  \n\nYour task is to reconstruct the graph based on this incomplete information. If it's impossible to reconstruct a valid graph, output -1. Otherwise, output the connections between the nodes in the graph."}]}